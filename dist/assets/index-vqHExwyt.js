(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function lw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var kg={exports:{}},Gc={};var FT;function KI(){if(FT)return Gc;FT=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var l=null;if(o!==void 0&&(l=""+o),r.key!==void 0&&(l=""+r.key),"key"in r){o={};for(var u in r)u!=="key"&&(o[u]=r[u])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:l,ref:r!==void 0?r:null,props:o}}return Gc.Fragment=t,Gc.jsx=e,Gc.jsxs=e,Gc}var HT;function XI(){return HT||(HT=1,kg.exports=KI()),kg.exports}var N=XI(),Ng={exports:{}},Rt={};var qT;function QI(){if(qT)return Rt;qT=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),v=Symbol.iterator;function E(F){return F===null||typeof F!="object"?null:(F=v&&F[v]||F["@@iterator"],typeof F=="function"?F:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,R={};function O(F,nt,ct){this.props=F,this.context=nt,this.refs=R,this.updater=ct||x}O.prototype.isReactComponent={},O.prototype.setState=function(F,nt){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,nt,"setState")},O.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function k(){}k.prototype=O.prototype;function U(F,nt,ct){this.props=F,this.context=nt,this.refs=R,this.updater=ct||x}var Y=U.prototype=new k;Y.constructor=U,A(Y,O.prototype),Y.isPureReactComponent=!0;var $=Array.isArray;function tt(){}var w={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function M(F,nt,ct){var ut=ct.ref;return{$$typeof:n,type:F,key:nt,ref:ut!==void 0?ut:null,props:ct}}function V(F,nt){return M(F.type,nt,F.props)}function P(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function B(F){var nt={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ct){return nt[ct]})}var L=/\/+/g;function Dt(F,nt){return typeof F=="object"&&F!==null&&F.key!=null?B(""+F.key):nt.toString(36)}function _t(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(tt,tt):(F.status="pending",F.then(function(nt){F.status==="pending"&&(F.status="fulfilled",F.value=nt)},function(nt){F.status==="pending"&&(F.status="rejected",F.reason=nt)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function j(F,nt,ct,ut,bt){var St=typeof F;(St==="undefined"||St==="boolean")&&(F=null);var Gt=!1;if(F===null)Gt=!0;else switch(St){case"bigint":case"string":case"number":Gt=!0;break;case"object":switch(F.$$typeof){case n:case t:Gt=!0;break;case g:return Gt=F._init,j(Gt(F._payload),nt,ct,ut,bt)}}if(Gt)return bt=bt(F),Gt=ut===""?"."+Dt(F,0):ut,$(bt)?(ct="",Gt!=null&&(ct=Gt.replace(L,"$&/")+"/"),j(bt,nt,ct,"",function(oa){return oa})):bt!=null&&(P(bt)&&(bt=V(bt,ct+(bt.key==null||F&&F.key===bt.key?"":(""+bt.key).replace(L,"$&/")+"/")+Gt)),nt.push(bt)),1;Gt=0;var qe=ut===""?".":ut+":";if($(F))for(var pe=0;pe<F.length;pe++)ut=F[pe],St=qe+Dt(ut,pe),Gt+=j(ut,nt,ct,St,bt);else if(pe=E(F),typeof pe=="function")for(F=pe.call(F),pe=0;!(ut=F.next()).done;)ut=ut.value,St=qe+Dt(ut,pe++),Gt+=j(ut,nt,ct,St,bt);else if(St==="object"){if(typeof F.then=="function")return j(_t(F),nt,ct,ut,bt);throw nt=String(F),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return Gt}function it(F,nt,ct){if(F==null)return F;var ut=[],bt=0;return j(F,ut,"","",function(St){return nt.call(ct,St,bt++)}),ut}function ft(F){if(F._status===-1){var nt=F._result;nt=nt(),nt.then(function(ct){(F._status===0||F._status===-1)&&(F._status=1,F._result=ct)},function(ct){(F._status===0||F._status===-1)&&(F._status=2,F._result=ct)}),F._status===-1&&(F._status=0,F._result=nt)}if(F._status===1)return F._result.default;throw F._result}var Et=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},Vt={map:it,forEach:function(F,nt,ct){it(F,function(){nt.apply(this,arguments)},ct)},count:function(F){var nt=0;return it(F,function(){nt++}),nt},toArray:function(F){return it(F,function(nt){return nt})||[]},only:function(F){if(!P(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return Rt.Activity=_,Rt.Children=Vt,Rt.Component=O,Rt.Fragment=e,Rt.Profiler=r,Rt.PureComponent=U,Rt.StrictMode=i,Rt.Suspense=f,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(F){return w.H.useMemoCache(F)}},Rt.cache=function(F){return function(){return F.apply(null,arguments)}},Rt.cacheSignal=function(){return null},Rt.cloneElement=function(F,nt,ct){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var ut=A({},F.props),bt=F.key;if(nt!=null)for(St in nt.key!==void 0&&(bt=""+nt.key),nt)!C.call(nt,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&nt.ref===void 0||(ut[St]=nt[St]);var St=arguments.length-2;if(St===1)ut.children=ct;else if(1<St){for(var Gt=Array(St),qe=0;qe<St;qe++)Gt[qe]=arguments[qe+2];ut.children=Gt}return M(F.type,bt,ut)},Rt.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:o,_context:F},F},Rt.createElement=function(F,nt,ct){var ut,bt={},St=null;if(nt!=null)for(ut in nt.key!==void 0&&(St=""+nt.key),nt)C.call(nt,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(bt[ut]=nt[ut]);var Gt=arguments.length-2;if(Gt===1)bt.children=ct;else if(1<Gt){for(var qe=Array(Gt),pe=0;pe<Gt;pe++)qe[pe]=arguments[pe+2];bt.children=qe}if(F&&F.defaultProps)for(ut in Gt=F.defaultProps,Gt)bt[ut]===void 0&&(bt[ut]=Gt[ut]);return M(F,St,bt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(F){return{$$typeof:u,render:F}},Rt.isValidElement=P,Rt.lazy=function(F){return{$$typeof:g,_payload:{_status:-1,_result:F},_init:ft}},Rt.memo=function(F,nt){return{$$typeof:d,type:F,compare:nt===void 0?null:nt}},Rt.startTransition=function(F){var nt=w.T,ct={};w.T=ct;try{var ut=F(),bt=w.S;bt!==null&&bt(ct,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(tt,Et)}catch(St){Et(St)}finally{nt!==null&&ct.types!==null&&(nt.types=ct.types),w.T=nt}},Rt.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},Rt.use=function(F){return w.H.use(F)},Rt.useActionState=function(F,nt,ct){return w.H.useActionState(F,nt,ct)},Rt.useCallback=function(F,nt){return w.H.useCallback(F,nt)},Rt.useContext=function(F){return w.H.useContext(F)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(F,nt){return w.H.useDeferredValue(F,nt)},Rt.useEffect=function(F,nt){return w.H.useEffect(F,nt)},Rt.useEffectEvent=function(F){return w.H.useEffectEvent(F)},Rt.useId=function(){return w.H.useId()},Rt.useImperativeHandle=function(F,nt,ct){return w.H.useImperativeHandle(F,nt,ct)},Rt.useInsertionEffect=function(F,nt){return w.H.useInsertionEffect(F,nt)},Rt.useLayoutEffect=function(F,nt){return w.H.useLayoutEffect(F,nt)},Rt.useMemo=function(F,nt){return w.H.useMemo(F,nt)},Rt.useOptimistic=function(F,nt){return w.H.useOptimistic(F,nt)},Rt.useReducer=function(F,nt,ct){return w.H.useReducer(F,nt,ct)},Rt.useRef=function(F){return w.H.useRef(F)},Rt.useState=function(F){return w.H.useState(F)},Rt.useSyncExternalStore=function(F,nt,ct){return w.H.useSyncExternalStore(F,nt,ct)},Rt.useTransition=function(){return w.H.useTransition()},Rt.version="19.2.4",Rt}var GT;function a_(){return GT||(GT=1,Ng.exports=QI()),Ng.exports}var q=a_();const ue=lw(q);var Pg={exports:{}},Yc={},Lg={exports:{}},Vg={};var YT;function JI(){return YT||(YT=1,(function(n){function t(j,it){var ft=j.length;j.push(it);t:for(;0<ft;){var Et=ft-1>>>1,Vt=j[Et];if(0<r(Vt,it))j[Et]=it,j[ft]=Vt,ft=Et;else break t}}function e(j){return j.length===0?null:j[0]}function i(j){if(j.length===0)return null;var it=j[0],ft=j.pop();if(ft!==it){j[0]=ft;t:for(var Et=0,Vt=j.length,F=Vt>>>1;Et<F;){var nt=2*(Et+1)-1,ct=j[nt],ut=nt+1,bt=j[ut];if(0>r(ct,ft))ut<Vt&&0>r(bt,ct)?(j[Et]=bt,j[ut]=ft,Et=ut):(j[Et]=ct,j[nt]=ft,Et=nt);else if(ut<Vt&&0>r(bt,ft))j[Et]=bt,j[ut]=ft,Et=ut;else break t}}return it}function r(j,it){var ft=j.sortIndex-it.sortIndex;return ft!==0?ft:j.id-it.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var f=[],d=[],g=1,_=null,v=3,E=!1,x=!1,A=!1,R=!1,O=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function Y(j){for(var it=e(d);it!==null;){if(it.callback===null)i(d);else if(it.startTime<=j)i(d),it.sortIndex=it.expirationTime,t(f,it);else break;it=e(d)}}function $(j){if(A=!1,Y(j),!x)if(e(f)!==null)x=!0,tt||(tt=!0,B());else{var it=e(d);it!==null&&_t($,it.startTime-j)}}var tt=!1,w=-1,C=5,M=-1;function V(){return R?!0:!(n.unstable_now()-M<C)}function P(){if(R=!1,tt){var j=n.unstable_now();M=j;var it=!0;try{t:{x=!1,A&&(A=!1,k(w),w=-1),E=!0;var ft=v;try{e:{for(Y(j),_=e(f);_!==null&&!(_.expirationTime>j&&V());){var Et=_.callback;if(typeof Et=="function"){_.callback=null,v=_.priorityLevel;var Vt=Et(_.expirationTime<=j);if(j=n.unstable_now(),typeof Vt=="function"){_.callback=Vt,Y(j),it=!0;break e}_===e(f)&&i(f),Y(j)}else i(f);_=e(f)}if(_!==null)it=!0;else{var F=e(d);F!==null&&_t($,F.startTime-j),it=!1}}break t}finally{_=null,v=ft,E=!1}it=void 0}}finally{it?B():tt=!1}}}var B;if(typeof U=="function")B=function(){U(P)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,Dt=L.port2;L.port1.onmessage=P,B=function(){Dt.postMessage(null)}}else B=function(){O(P,0)};function _t(j,it){w=O(function(){j(n.unstable_now())},it)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(j){j.callback=null},n.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<j?Math.floor(1e3/j):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(j){switch(v){case 1:case 2:case 3:var it=3;break;default:it=v}var ft=v;v=it;try{return j()}finally{v=ft}},n.unstable_requestPaint=function(){R=!0},n.unstable_runWithPriority=function(j,it){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var ft=v;v=j;try{return it()}finally{v=ft}},n.unstable_scheduleCallback=function(j,it,ft){var Et=n.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Et+ft:Et):ft=Et,j){case 1:var Vt=-1;break;case 2:Vt=250;break;case 5:Vt=1073741823;break;case 4:Vt=1e4;break;default:Vt=5e3}return Vt=ft+Vt,j={id:g++,callback:it,priorityLevel:j,startTime:ft,expirationTime:Vt,sortIndex:-1},ft>Et?(j.sortIndex=ft,t(d,j),e(f)===null&&j===e(d)&&(A?(k(w),w=-1):A=!0,_t($,ft-Et))):(j.sortIndex=Vt,t(f,j),x||E||(x=!0,tt||(tt=!0,B()))),j},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(j){var it=v;return function(){var ft=v;v=it;try{return j.apply(this,arguments)}finally{v=ft}}}})(Vg)),Vg}var $T;function ZI(){return $T||($T=1,Lg.exports=JI()),Lg.exports}var zg={exports:{}},hn={};var WT;function t2(){if(WT)return hn;WT=1;var n=a_();function t(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,d,g){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:_==null?null:""+_,children:f,containerInfo:d,implementation:g}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,hn.createPortal=function(f,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return o(f,d,null,g)},hn.flushSync=function(f){var d=l.T,g=i.p;try{if(l.T=null,i.p=2,f)return f()}finally{l.T=d,i.p=g,i.d.f()}},hn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},hn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},hn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var g=d.as,_=u(g,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,E=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:_,integrity:v,fetchPriority:E}):g==="script"&&i.d.X(f,{crossOrigin:_,integrity:v,fetchPriority:E,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},hn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=u(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},hn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,_=u(g,d.crossOrigin);i.d.L(f,g,{crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},hn.preloadModule=function(f,d){if(typeof f=="string")if(d){var g=u(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},hn.requestFormReset=function(f){i.d.r(f)},hn.unstable_batchedUpdates=function(f,d){return f(d)},hn.useFormState=function(f,d,g){return l.H.useFormState(f,d,g)},hn.useFormStatus=function(){return l.H.useHostTransitionStatus()},hn.version="19.2.4",hn}var KT;function e2(){if(KT)return zg.exports;KT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),zg.exports=t2(),zg.exports}var XT;function n2(){if(XT)return Yc;XT=1;var n=ZI(),t=a_(),e=e2();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function l(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function u(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function f(s){if(o(s)!==s)throw Error(i(188))}function d(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var c=s,h=a;;){var p=c.return;if(p===null)break;var y=p.alternate;if(y===null){if(h=p.return,h!==null){c=h;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===c)return f(p),s;if(y===h)return f(p),a;y=y.sibling}throw Error(i(188))}if(c.return!==h.return)c=p,h=y;else{for(var T=!1,I=p.child;I;){if(I===c){T=!0,c=p,h=y;break}if(I===h){T=!0,h=p,c=y;break}I=I.sibling}if(!T){for(I=y.child;I;){if(I===c){T=!0,c=y,h=p;break}if(I===h){T=!0,h=y,c=p;break}I=I.sibling}if(!T)throw Error(i(189))}}if(c.alternate!==h)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?s:a}function g(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=g(s),a!==null)return a;s=s.sibling}return null}var _=Object.assign,v=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),U=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),tt=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function B(s){return s===null||typeof s!="object"?null:(s=P&&s[P]||s["@@iterator"],typeof s=="function"?s:null)}var L=Symbol.for("react.client.reference");function Dt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===L?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case A:return"Fragment";case O:return"Profiler";case R:return"StrictMode";case $:return"Suspense";case tt:return"SuspenseList";case M:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case x:return"Portal";case U:return s.displayName||"Context";case k:return(s._context.displayName||"Context")+".Consumer";case Y:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case w:return a=s.displayName||null,a!==null?a:Dt(s.type)||"Memo";case C:a=s._payload,s=s._init;try{return Dt(s(a))}catch{}}return null}var _t=Array.isArray,j=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Et=[],Vt=-1;function F(s){return{current:s}}function nt(s){0>Vt||(s.current=Et[Vt],Et[Vt]=null,Vt--)}function ct(s,a){Vt++,Et[Vt]=s.current,s.current=a}var ut=F(null),bt=F(null),St=F(null),Gt=F(null);function qe(s,a){switch(ct(St,a),ct(bt,s),ct(ut,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?hT(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=hT(a),s=fT(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}nt(ut),ct(ut,s)}function pe(){nt(ut),nt(bt),nt(St)}function oa(s){s.memoizedState!==null&&ct(Gt,s);var a=ut.current,c=fT(a,s.type);a!==c&&(ct(bt,s),ct(ut,c))}function po(s){bt.current===s&&(nt(ut),nt(bt)),Gt.current===s&&(nt(Gt),jc._currentValue=ft)}var go,yo;function Mi(s){if(go===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);go=a&&a[1]||"",yo=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+go+s+yo}var jl=!1;function la(s,a){if(!s||jl)return"";jl=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var at=function(){throw Error()};if(Object.defineProperty(at.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(at,[])}catch(Z){var Q=Z}Reflect.construct(s,[],at)}else{try{at.call()}catch(Z){Q=Z}s.call(at.prototype)}}else{try{throw Error()}catch(Z){Q=Z}(at=s())&&typeof at.catch=="function"&&at.catch(function(){})}}catch(Z){if(Z&&Q&&typeof Z.stack=="string")return[Z.stack,Q.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),T=y[0],I=y[1];if(T&&I){var z=T.split(`
`),X=I.split(`
`);for(p=h=0;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;for(;p<X.length&&!X[p].includes("DetermineComponentFrameRoot");)p++;if(h===z.length||p===X.length)for(h=z.length-1,p=X.length-1;1<=h&&0<=p&&z[h]!==X[p];)p--;for(;1<=h&&0<=p;h--,p--)if(z[h]!==X[p]){if(h!==1||p!==1)do if(h--,p--,0>p||z[h]!==X[p]){var et=`
`+z[h].replace(" at new "," at ");return s.displayName&&et.includes("<anonymous>")&&(et=et.replace("<anonymous>",s.displayName)),et}while(1<=h&&0<=p);break}}}finally{jl=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?Mi(c):""}function Fl(s,a){switch(s.tag){case 26:case 27:case 5:return Mi(s.type);case 16:return Mi("Lazy");case 13:return s.child!==a&&a!==null?Mi("Suspense Fallback"):Mi("Suspense");case 19:return Mi("SuspenseList");case 0:case 15:return la(s.type,!1);case 11:return la(s.type.render,!1);case 1:return la(s.type,!0);case 31:return Mi("Activity");default:return""}}function Hl(s){try{var a="",c=null;do a+=Fl(s,c),c=s,s=s.return;while(s);return a}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Oe=Object.prototype.hasOwnProperty,Ge=n.unstable_scheduleCallback,Ks=n.unstable_cancelCallback,Pm=n.unstable_shouldYield,ah=n.unstable_requestPaint,Tn=n.unstable_now,ca=n.unstable_getCurrentPriorityLevel,ql=n.unstable_ImmediatePriority,Gl=n.unstable_UserBlockingPriority,Xs=n.unstable_NormalPriority,Lm=n.unstable_LowPriority,oh=n.unstable_IdlePriority,lh=n.log,ch=n.unstable_setDisableYieldValue,fi=null,en=null;function Wn(s){if(typeof lh=="function"&&ch(s),en&&typeof en.setStrictMode=="function")try{en.setStrictMode(fi,s)}catch{}}var Ae=Math.clz32?Math.clz32:hh,uh=Math.log,_o=Math.LN2;function hh(s){return s>>>=0,s===0?32:31-(uh(s)/_o|0)|0}var Oi=256,ua=262144,ke=4194304;function ki(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ni(s,a,c){var h=s.pendingLanes;if(h===0)return 0;var p=0,y=s.suspendedLanes,T=s.pingedLanes;s=s.warmLanes;var I=h&134217727;return I!==0?(h=I&~y,h!==0?p=ki(h):(T&=I,T!==0?p=ki(T):c||(c=I&~s,c!==0&&(p=ki(c))))):(I=h&~y,I!==0?p=ki(I):T!==0?p=ki(T):c||(c=h&~s,c!==0&&(p=ki(c)))),p===0?0:a!==0&&a!==p&&(a&y)===0&&(y=p&-p,c=a&-a,y>=c||y===32&&(c&4194048)!==0)?a:p}function di(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Vm(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fh(){var s=ke;return ke<<=1,(ke&62914560)===0&&(ke=4194304),s}function Pi(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function ha(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function zm(s,a,c,h,p,y){var T=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var I=s.entanglements,z=s.expirationTimes,X=s.hiddenUpdates;for(c=T&~c;0<c;){var et=31-Ae(c),at=1<<et;I[et]=0,z[et]=-1;var Q=X[et];if(Q!==null)for(X[et]=null,et=0;et<Q.length;et++){var Z=Q[et];Z!==null&&(Z.lane&=-536870913)}c&=~at}h!==0&&fa(s,h,0),y!==0&&p===0&&s.tag!==0&&(s.suspendedLanes|=y&~(T&~a))}function fa(s,a,c){s.pendingLanes|=a,s.suspendedLanes&=~a;var h=31-Ae(a);s.entangledLanes|=a,s.entanglements[h]=s.entanglements[h]|1073741824|c&261930}function Yl(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var h=31-Ae(c),p=1<<h;p&a|s[h]&a&&(s[h]|=a),c&=~p}}function $l(s,a){var c=a&-a;return c=(c&42)!==0?1:da(c),(c&(s.suspendedLanes|a))!==0?0:c}function da(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function us(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function dh(){var s=it.p;return s!==0?s:(s=window.event,s===void 0?32:PT(s.type))}function mi(s,a){var c=it.p;try{return it.p=s,a()}finally{it.p=c}}var pi=Math.random().toString(36).slice(2),Ne="__reactFiber$"+pi,Xe="__reactProps$"+pi,Li="__reactContainer$"+pi,vo="__reactEvents$"+pi,Um="__reactListeners$"+pi,mh="__reactHandles$"+pi,ph="__reactResources$"+pi,Vi="__reactMarker$"+pi;function bo(s){delete s[Ne],delete s[Xe],delete s[vo],delete s[Um],delete s[mh]}function zi(s){var a=s[Ne];if(a)return a;for(var c=s.parentNode;c;){if(a=c[Li]||c[Ne]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=vT(s);s!==null;){if(c=s[Ne])return c;s=vT(s)}return a}s=c,c=s.parentNode}return null}function Kn(s){if(s=s[Ne]||s[Li]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function Ln(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function Ui(s){var a=s[ph];return a||(a=s[ph]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Pe(s){s[Vi]=!0}var Wl=new Set,Kl={};function Bi(s,a){ji(s,a),ji(s+"Capture",a)}function ji(s,a){for(Kl[s]=a,s=0;s<a.length;s++)Wl.add(a[s])}var Xl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ql={},Jl={};function gh(s){return Oe.call(Jl,s)?!0:Oe.call(Ql,s)?!1:Xl.test(s)?Jl[s]=!0:(Ql[s]=!0,!1)}function To(s,a,c){if(gh(a))if(c===null)s.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+c)}}function Vn(s,a,c){if(c===null)s.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+c)}}function Le(s,a,c,h){if(h===null)s.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(a,c,""+h)}}function Qe(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Qs(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Zl(s,a,c){var h=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var p=h.get,y=h.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return p.call(this)},set:function(T){c=""+T,y.call(this,T)}}),Object.defineProperty(s,a,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(T){c=""+T},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Zt(s){if(!s._valueTracker){var a=Qs(s)?"checked":"value";s._valueTracker=Zl(s,a,""+s[a])}}function ma(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),h="";return s&&(h=Qs(s)?s.checked?"true":"false":s.value),s=h,s!==c?(a.setValue(s),!0):!1}function Fi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var pa=/[\n"\\]/g;function xn(s){return s.replace(pa,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Eo(s,a,c,h,p,y,T,I){s.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.type=T:s.removeAttribute("type"),a!=null?T==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Qe(a)):s.value!==""+Qe(a)&&(s.value=""+Qe(a)):T!=="submit"&&T!=="reset"||s.removeAttribute("value"),a!=null?tc(s,T,Qe(a)):c!=null?tc(s,T,Qe(c)):h!=null&&s.removeAttribute("value"),p==null&&y!=null&&(s.defaultChecked=!!y),p!=null&&(s.checked=p&&typeof p!="function"&&typeof p!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?s.name=""+Qe(I):s.removeAttribute("name")}function yh(s,a,c,h,p,y,T,I){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),a!=null||c!=null){if(!(y!=="submit"&&y!=="reset"||a!=null)){Zt(s);return}c=c!=null?""+Qe(c):"",a=a!=null?""+Qe(a):c,I||a===s.value||(s.value=a),s.defaultValue=a}h=h??p,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=I?s.checked:!!h,s.defaultChecked=!!h,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(s.name=T),Zt(s)}function tc(s,a,c){a==="number"&&Fi(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function Js(s,a,c,h){if(s=s.options,a){a={};for(var p=0;p<c.length;p++)a["$"+c[p]]=!0;for(c=0;c<s.length;c++)p=a.hasOwnProperty("$"+s[c].value),s[c].selected!==p&&(s[c].selected=p),p&&h&&(s[c].defaultSelected=!0)}else{for(c=""+Qe(c),a=null,p=0;p<s.length;p++){if(s[p].value===c){s[p].selected=!0,h&&(s[p].defaultSelected=!0);return}a!==null||s[p].disabled||(a=s[p])}a!==null&&(a.selected=!0)}}function _h(s,a,c){if(a!=null&&(a=""+Qe(a),a!==s.value&&(s.value=a),c==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=c!=null?""+Qe(c):""}function Zs(s,a,c,h){if(a==null){if(h!=null){if(c!=null)throw Error(i(92));if(_t(h)){if(1<h.length)throw Error(i(93));h=h[0]}c=h}c==null&&(c=""),a=c}c=Qe(a),s.defaultValue=c,h=s.textContent,h===c&&h!==""&&h!==null&&(s.value=h),Zt(s)}function An(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var vh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ec(s,a,c){var h=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":h?s.setProperty(a,c):typeof c!="number"||c===0||vh.has(a)?a==="float"?s.cssFloat=c:s[a]=(""+c).trim():s[a]=c+"px"}function nc(s,a,c){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var p in a)h=a[p],a.hasOwnProperty(p)&&c[p]!==h&&ec(s,p,h)}else for(var y in a)a.hasOwnProperty(y)&&ec(s,y,a[y])}function So(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wo(s){return tr.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function gi(){}var ic=null;function Xn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var er=null,Hi=null;function ga(s){var a=Kn(s);if(a&&(s=a.stateNode)){var c=s[Xe]||null;t:switch(s=a.stateNode,a.type){case"input":if(Eo(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+xn(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var h=c[a];if(h!==s&&h.form===s.form){var p=h[Xe]||null;if(!p)throw Error(i(90));Eo(h,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<c.length;a++)h=c[a],h.form===s.form&&ma(h)}break t;case"textarea":_h(s,c.value,c.defaultValue);break t;case"select":a=c.value,a!=null&&Js(s,!!c.multiple,a,!1)}}}var xo=!1;function nr(s,a,c){if(xo)return s(a,c);xo=!0;try{var h=s(a);return h}finally{if(xo=!1,(er!==null||Hi!==null)&&(mf(),er&&(a=er,s=Hi,Hi=er=null,ga(a),s)))for(a=0;a<s.length;a++)ga(s[a])}}function yi(s,a){var c=s.stateNode;if(c===null)return null;var h=c[Xe]||null;if(h===null)return null;c=h[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break t;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(i(231,a,typeof c));return c}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ya=!1;if(Qn)try{var ie={};Object.defineProperty(ie,"passive",{get:function(){ya=!0}}),window.addEventListener("test",ie,ie),window.removeEventListener("test",ie,ie)}catch{ya=!1}var qi=null,sc=null,_a=null;function rc(){if(_a)return _a;var s,a=sc,c=a.length,h,p="value"in qi?qi.value:qi.textContent,y=p.length;for(s=0;s<c&&a[s]===p[s];s++);var T=c-s;for(h=1;h<=T&&a[c-h]===p[y-h];h++);return _a=p.slice(s,1<h?1-h:void 0)}function va(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function hs(){return!0}function _i(){return!1}function nn(s){function a(c,h,p,y,T){this._reactName=c,this._targetInst=p,this.type=h,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var I in s)s.hasOwnProperty(I)&&(c=s[I],this[I]=c?c(y):y[I]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?hs:_i,this.isPropagationStopped=_i,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=hs)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=hs)},persist:function(){},isPersistent:hs}),a}var fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gi=nn(fs),ir=_({},fs,{view:0,detail:0}),ac=nn(ir),sr,Ao,Yi,Ro=_({},ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Yi&&(Yi&&s.type==="mousemove"?(sr=s.screenX-Yi.screenX,Ao=s.screenY-Yi.screenY):Ao=sr=0,Yi=s),sr)},movementY:function(s){return"movementY"in s?s.movementY:Ao}}),oc=nn(Ro),ba=_({},Ro,{dataTransfer:0}),Th=nn(ba),Eh=_({},ir,{relatedTarget:0}),Ta=nn(Eh),lc=_({},fs,{animationName:0,elapsedTime:0,pseudoElement:0}),Sh=nn(lc),Co=_({},fs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),wh=nn(Co),xh=_({},fs,{data:0}),$i=nn(xh),Ah={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ch={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ih(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Ch[s])?!!a[s]:!1}function rr(){return Ih}var En=_({},ir,{key:function(s){if(s.key){var a=Ah[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=va(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Rh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rr,charCode:function(s){return s.type==="keypress"?va(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?va(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Dh=nn(En),Mh=_({},Ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ds=nn(Mh),m=_({},ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rr}),b=nn(m),S=_({},fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),D=nn(S),W=_({},Ro,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),J=nn(W),lt=_({},fs,{newState:0,oldState:0}),Mt=nn(lt),Re=[9,13,27,32],Xt=Qn&&"CompositionEvent"in window,ge=null;Qn&&"documentMode"in document&&(ge=document.documentMode);var Jn=Qn&&"TextEvent"in window&&!ge,Wi=Qn&&(!Xt||ge&&8<ge&&11>=ge),vi=" ",bi=!1;function Ea(s,a){switch(s){case"keyup":return Re.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Io(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Do=!1;function vC(s,a){switch(s){case"compositionend":return Io(a);case"keypress":return a.which!==32?null:(bi=!0,vi);case"textInput":return s=a.data,s===vi&&bi?null:s;default:return null}}function bC(s,a){if(Do)return s==="compositionend"||!Xt&&Ea(s,a)?(s=rc(),_a=sc=qi=null,Do=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Wi&&a.locale!=="ko"?null:a.data;default:return null}}var TC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ev(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!TC[s.type]:a==="textarea"}function Sv(s,a,c,h){er?Hi?Hi.push(h):Hi=[h]:er=h,a=Tf(a,"onChange"),0<a.length&&(c=new Gi("onChange","change",null,c,h),s.push({event:c,listeners:a}))}var cc=null,uc=null;function EC(s){rT(s,0)}function Oh(s){var a=Ln(s);if(ma(a))return s}function wv(s,a){if(s==="change")return a}var xv=!1;if(Qn){var Bm;if(Qn){var jm="oninput"in document;if(!jm){var Av=document.createElement("div");Av.setAttribute("oninput","return;"),jm=typeof Av.oninput=="function"}Bm=jm}else Bm=!1;xv=Bm&&(!document.documentMode||9<document.documentMode)}function Rv(){cc&&(cc.detachEvent("onpropertychange",Cv),uc=cc=null)}function Cv(s){if(s.propertyName==="value"&&Oh(uc)){var a=[];Sv(a,uc,s,Xn(s)),nr(EC,a)}}function SC(s,a,c){s==="focusin"?(Rv(),cc=a,uc=c,cc.attachEvent("onpropertychange",Cv)):s==="focusout"&&Rv()}function wC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Oh(uc)}function xC(s,a){if(s==="click")return Oh(a)}function AC(s,a){if(s==="input"||s==="change")return Oh(a)}function RC(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var zn=typeof Object.is=="function"?Object.is:RC;function hc(s,a){if(zn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),h=Object.keys(a);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var p=c[h];if(!Oe.call(a,p)||!zn(s[p],a[p]))return!1}return!0}function Iv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Dv(s,a){var c=Iv(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=a&&h>=a)return{node:c,offset:a-s};s=h}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=Iv(c)}}function Mv(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Mv(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Ov(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=Fi(s.document);a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=Fi(s.document)}return a}function Fm(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var CC=Qn&&"documentMode"in document&&11>=document.documentMode,Mo=null,Hm=null,fc=null,qm=!1;function kv(s,a,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;qm||Mo==null||Mo!==Fi(h)||(h=Mo,"selectionStart"in h&&Fm(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),fc&&hc(fc,h)||(fc=h,h=Tf(Hm,"onSelect"),0<h.length&&(a=new Gi("onSelect","select",null,a,c),s.push({event:a,listeners:h}),a.target=Mo)))}function Sa(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var Oo={animationend:Sa("Animation","AnimationEnd"),animationiteration:Sa("Animation","AnimationIteration"),animationstart:Sa("Animation","AnimationStart"),transitionrun:Sa("Transition","TransitionRun"),transitionstart:Sa("Transition","TransitionStart"),transitioncancel:Sa("Transition","TransitionCancel"),transitionend:Sa("Transition","TransitionEnd")},Gm={},Nv={};Qn&&(Nv=document.createElement("div").style,"AnimationEvent"in window||(delete Oo.animationend.animation,delete Oo.animationiteration.animation,delete Oo.animationstart.animation),"TransitionEvent"in window||delete Oo.transitionend.transition);function wa(s){if(Gm[s])return Gm[s];if(!Oo[s])return s;var a=Oo[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in Nv)return Gm[s]=a[c];return s}var Pv=wa("animationend"),Lv=wa("animationiteration"),Vv=wa("animationstart"),IC=wa("transitionrun"),DC=wa("transitionstart"),MC=wa("transitioncancel"),zv=wa("transitionend"),Uv=new Map,Ym="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ym.push("scrollEnd");function Ti(s,a){Uv.set(s,a),Bi(a,[s])}var kh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Zn=[],ko=0,$m=0;function Nh(){for(var s=ko,a=$m=ko=0;a<s;){var c=Zn[a];Zn[a++]=null;var h=Zn[a];Zn[a++]=null;var p=Zn[a];Zn[a++]=null;var y=Zn[a];if(Zn[a++]=null,h!==null&&p!==null){var T=h.pending;T===null?p.next=p:(p.next=T.next,T.next=p),h.pending=p}y!==0&&Bv(c,p,y)}}function Ph(s,a,c,h){Zn[ko++]=s,Zn[ko++]=a,Zn[ko++]=c,Zn[ko++]=h,$m|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function Wm(s,a,c,h){return Ph(s,a,c,h),Lh(s)}function xa(s,a){return Ph(s,null,null,a),Lh(s)}function Bv(s,a,c){s.lanes|=c;var h=s.alternate;h!==null&&(h.lanes|=c);for(var p=!1,y=s.return;y!==null;)y.childLanes|=c,h=y.alternate,h!==null&&(h.childLanes|=c),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(p=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,p&&a!==null&&(p=31-Ae(c),s=y.hiddenUpdates,h=s[p],h===null?s[p]=[a]:h.push(a),a.lane=c|536870912),y):null}function Lh(s){if(50<Nc)throw Nc=0,ig=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var No={};function OC(s,a,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(s,a,c,h){return new OC(s,a,c,h)}function Km(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ms(s,a){var c=s.alternate;return c===null?(c=Un(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function jv(s,a){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,a=c.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Vh(s,a,c,h,p,y){var T=0;if(h=s,typeof s=="function")Km(s)&&(T=1);else if(typeof s=="string")T=VI(s,c,ut.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case M:return s=Un(31,c,a,p),s.elementType=M,s.lanes=y,s;case A:return Aa(c.children,p,y,a);case R:T=8,p|=24;break;case O:return s=Un(12,c,a,p|2),s.elementType=O,s.lanes=y,s;case $:return s=Un(13,c,a,p),s.elementType=$,s.lanes=y,s;case tt:return s=Un(19,c,a,p),s.elementType=tt,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case U:T=10;break t;case k:T=9;break t;case Y:T=11;break t;case w:T=14;break t;case C:T=16,h=null;break t}T=29,c=Error(i(130,s===null?"null":typeof s,"")),h=null}return a=Un(T,c,a,p),a.elementType=s,a.type=h,a.lanes=y,a}function Aa(s,a,c,h){return s=Un(7,s,h,a),s.lanes=c,s}function Xm(s,a,c){return s=Un(6,s,null,a),s.lanes=c,s}function Fv(s){var a=Un(18,null,null,0);return a.stateNode=s,a}function Qm(s,a,c){return a=Un(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var Hv=new WeakMap;function ti(s,a){if(typeof s=="object"&&s!==null){var c=Hv.get(s);return c!==void 0?c:(a={value:s,source:a,stack:Hl(a)},Hv.set(s,a),a)}return{value:s,source:a,stack:Hl(a)}}var Po=[],Lo=0,zh=null,dc=0,ei=[],ni=0,ar=null,Ki=1,Xi="";function ps(s,a){Po[Lo++]=dc,Po[Lo++]=zh,zh=s,dc=a}function qv(s,a,c){ei[ni++]=Ki,ei[ni++]=Xi,ei[ni++]=ar,ar=s;var h=Ki;s=Xi;var p=32-Ae(h)-1;h&=~(1<<p),c+=1;var y=32-Ae(a)+p;if(30<y){var T=p-p%5;y=(h&(1<<T)-1).toString(32),h>>=T,p-=T,Ki=1<<32-Ae(a)+p|c<<p|h,Xi=y+s}else Ki=1<<y|c<<p|h,Xi=s}function Jm(s){s.return!==null&&(ps(s,1),qv(s,1,0))}function Zm(s){for(;s===zh;)zh=Po[--Lo],Po[Lo]=null,dc=Po[--Lo],Po[Lo]=null;for(;s===ar;)ar=ei[--ni],ei[ni]=null,Xi=ei[--ni],ei[ni]=null,Ki=ei[--ni],ei[ni]=null}function Gv(s,a){ei[ni++]=Ki,ei[ni++]=Xi,ei[ni++]=ar,Ki=a.id,Xi=a.overflow,ar=s}var sn=null,he=null,qt=!1,or=null,ii=!1,tp=Error(i(519));function lr(s){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw mc(ti(a,s)),tp}function Yv(s){var a=s.stateNode,c=s.type,h=s.memoizedProps;switch(a[Ne]=s,a[Xe]=h,c){case"dialog":Pt("cancel",a),Pt("close",a);break;case"iframe":case"object":case"embed":Pt("load",a);break;case"video":case"audio":for(c=0;c<Lc.length;c++)Pt(Lc[c],a);break;case"source":Pt("error",a);break;case"img":case"image":case"link":Pt("error",a),Pt("load",a);break;case"details":Pt("toggle",a);break;case"input":Pt("invalid",a),yh(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Pt("invalid",a);break;case"textarea":Pt("invalid",a),Zs(a,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||h.suppressHydrationWarning===!0||cT(a.textContent,c)?(h.popover!=null&&(Pt("beforetoggle",a),Pt("toggle",a)),h.onScroll!=null&&Pt("scroll",a),h.onScrollEnd!=null&&Pt("scrollend",a),h.onClick!=null&&(a.onclick=gi),a=!0):a=!1,a||lr(s,!0)}function $v(s){for(sn=s.return;sn;)switch(sn.tag){case 5:case 31:case 13:ii=!1;return;case 27:case 3:ii=!0;return;default:sn=sn.return}}function Vo(s){if(s!==sn)return!1;if(!qt)return $v(s),qt=!0,!1;var a=s.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||_g(s.type,s.memoizedProps)),c=!c),c&&he&&lr(s),$v(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));he=_T(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));he=_T(s)}else a===27?(a=he,Er(s.type)?(s=Sg,Sg=null,he=s):he=a):he=sn?ri(s.stateNode.nextSibling):null;return!0}function Ra(){he=sn=null,qt=!1}function ep(){var s=or;return s!==null&&(Dn===null?Dn=s:Dn.push.apply(Dn,s),or=null),s}function mc(s){or===null?or=[s]:or.push(s)}var np=F(null),Ca=null,gs=null;function cr(s,a,c){ct(np,a._currentValue),a._currentValue=c}function ys(s){s._currentValue=np.current,nt(np)}function ip(s,a,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),s===c)break;s=s.return}}function sp(s,a,c,h){var p=s.child;for(p!==null&&(p.return=s);p!==null;){var y=p.dependencies;if(y!==null){var T=p.child;y=y.firstContext;t:for(;y!==null;){var I=y;y=p;for(var z=0;z<a.length;z++)if(I.context===a[z]){y.lanes|=c,I=y.alternate,I!==null&&(I.lanes|=c),ip(y.return,c,s),h||(T=null);break t}y=I.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(i(341));T.lanes|=c,y=T.alternate,y!==null&&(y.lanes|=c),ip(T,c,s),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===s){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function zo(s,a,c,h){s=null;for(var p=a,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var I=p.type;zn(p.pendingProps.value,T.value)||(s!==null?s.push(I):s=[I])}}else if(p===Gt.current){if(T=p.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(s!==null?s.push(jc):s=[jc])}p=p.return}s!==null&&sp(a,s,c,h),a.flags|=262144}function Uh(s){for(s=s.firstContext;s!==null;){if(!zn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ia(s){Ca=s,gs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function rn(s){return Wv(Ca,s)}function Bh(s,a){return Ca===null&&Ia(s),Wv(s,a)}function Wv(s,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},gs===null){if(s===null)throw Error(i(308));gs=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else gs=gs.next=a;return c}var kC=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(c,h){s.push(h)}};this.abort=function(){a.aborted=!0,s.forEach(function(c){return c()})}},NC=n.unstable_scheduleCallback,PC=n.unstable_NormalPriority,Ve={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rp(){return{controller:new kC,data:new Map,refCount:0}}function pc(s){s.refCount--,s.refCount===0&&NC(PC,function(){s.controller.abort()})}var gc=null,ap=0,Uo=0,Bo=null;function LC(s,a){if(gc===null){var c=gc=[];ap=0,Uo=cg(),Bo={status:"pending",value:void 0,then:function(h){c.push(h)}}}return ap++,a.then(Kv,Kv),a}function Kv(){if(--ap===0&&gc!==null){Bo!==null&&(Bo.status="fulfilled");var s=gc;gc=null,Uo=0,Bo=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function VC(s,a){var c=[],h={status:"pending",value:null,reason:null,then:function(p){c.push(p)}};return s.then(function(){h.status="fulfilled",h.value=a;for(var p=0;p<c.length;p++)(0,c[p])(a)},function(p){for(h.status="rejected",h.reason=p,p=0;p<c.length;p++)(0,c[p])(void 0)}),h}var Xv=j.S;j.S=function(s,a){kb=Tn(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&LC(s,a),Xv!==null&&Xv(s,a)};var Da=F(null);function op(){var s=Da.current;return s!==null?s:oe.pooledCache}function jh(s,a){a===null?ct(Da,Da.current):ct(Da,a.pool)}function Qv(){var s=op();return s===null?null:{parent:Ve._currentValue,pool:s}}var jo=Error(i(460)),lp=Error(i(474)),Fh=Error(i(542)),Hh={then:function(){}};function Jv(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Zv(s,a,c){switch(c=s[c],c===void 0?s.push(a):c!==a&&(a.then(gi,gi),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,e0(s),s;default:if(typeof a.status=="string")a.then(gi,gi);else{if(s=oe,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(h){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=h}},function(h){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,e0(s),s}throw Oa=a,jo}}function Ma(s){try{var a=s._init;return a(s._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Oa=c,jo):c}}var Oa=null;function t0(){if(Oa===null)throw Error(i(459));var s=Oa;return Oa=null,s}function e0(s){if(s===jo||s===Fh)throw Error(i(483))}var Fo=null,yc=0;function qh(s){var a=yc;return yc+=1,Fo===null&&(Fo=[]),Zv(Fo,s,a)}function _c(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Gh(s,a){throw a.$$typeof===v?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function n0(s){function a(G,H){if(s){var K=G.deletions;K===null?(G.deletions=[H],G.flags|=16):K.push(H)}}function c(G,H){if(!s)return null;for(;H!==null;)a(G,H),H=H.sibling;return null}function h(G){for(var H=new Map;G!==null;)G.key!==null?H.set(G.key,G):H.set(G.index,G),G=G.sibling;return H}function p(G,H){return G=ms(G,H),G.index=0,G.sibling=null,G}function y(G,H,K){return G.index=K,s?(K=G.alternate,K!==null?(K=K.index,K<H?(G.flags|=67108866,H):K):(G.flags|=67108866,H)):(G.flags|=1048576,H)}function T(G){return s&&G.alternate===null&&(G.flags|=67108866),G}function I(G,H,K,st){return H===null||H.tag!==6?(H=Xm(K,G.mode,st),H.return=G,H):(H=p(H,K),H.return=G,H)}function z(G,H,K,st){var gt=K.type;return gt===A?et(G,H,K.props.children,st,K.key):H!==null&&(H.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===C&&Ma(gt)===H.type)?(H=p(H,K.props),_c(H,K),H.return=G,H):(H=Vh(K.type,K.key,K.props,null,G.mode,st),_c(H,K),H.return=G,H)}function X(G,H,K,st){return H===null||H.tag!==4||H.stateNode.containerInfo!==K.containerInfo||H.stateNode.implementation!==K.implementation?(H=Qm(K,G.mode,st),H.return=G,H):(H=p(H,K.children||[]),H.return=G,H)}function et(G,H,K,st,gt){return H===null||H.tag!==7?(H=Aa(K,G.mode,st,gt),H.return=G,H):(H=p(H,K),H.return=G,H)}function at(G,H,K){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Xm(""+H,G.mode,K),H.return=G,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case E:return K=Vh(H.type,H.key,H.props,null,G.mode,K),_c(K,H),K.return=G,K;case x:return H=Qm(H,G.mode,K),H.return=G,H;case C:return H=Ma(H),at(G,H,K)}if(_t(H)||B(H))return H=Aa(H,G.mode,K,null),H.return=G,H;if(typeof H.then=="function")return at(G,qh(H),K);if(H.$$typeof===U)return at(G,Bh(G,H),K);Gh(G,H)}return null}function Q(G,H,K,st){var gt=H!==null?H.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return gt!==null?null:I(G,H,""+K,st);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case E:return K.key===gt?z(G,H,K,st):null;case x:return K.key===gt?X(G,H,K,st):null;case C:return K=Ma(K),Q(G,H,K,st)}if(_t(K)||B(K))return gt!==null?null:et(G,H,K,st,null);if(typeof K.then=="function")return Q(G,H,qh(K),st);if(K.$$typeof===U)return Q(G,H,Bh(G,K),st);Gh(G,K)}return null}function Z(G,H,K,st,gt){if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return G=G.get(K)||null,I(H,G,""+st,gt);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case E:return G=G.get(st.key===null?K:st.key)||null,z(H,G,st,gt);case x:return G=G.get(st.key===null?K:st.key)||null,X(H,G,st,gt);case C:return st=Ma(st),Z(G,H,K,st,gt)}if(_t(st)||B(st))return G=G.get(K)||null,et(H,G,st,gt,null);if(typeof st.then=="function")return Z(G,H,K,qh(st),gt);if(st.$$typeof===U)return Z(G,H,K,Bh(H,st),gt);Gh(H,st)}return null}function mt(G,H,K,st){for(var gt=null,$t=null,pt=H,kt=H=0,Ut=null;pt!==null&&kt<K.length;kt++){pt.index>kt?(Ut=pt,pt=null):Ut=pt.sibling;var Wt=Q(G,pt,K[kt],st);if(Wt===null){pt===null&&(pt=Ut);break}s&&pt&&Wt.alternate===null&&a(G,pt),H=y(Wt,H,kt),$t===null?gt=Wt:$t.sibling=Wt,$t=Wt,pt=Ut}if(kt===K.length)return c(G,pt),qt&&ps(G,kt),gt;if(pt===null){for(;kt<K.length;kt++)pt=at(G,K[kt],st),pt!==null&&(H=y(pt,H,kt),$t===null?gt=pt:$t.sibling=pt,$t=pt);return qt&&ps(G,kt),gt}for(pt=h(pt);kt<K.length;kt++)Ut=Z(pt,G,kt,K[kt],st),Ut!==null&&(s&&Ut.alternate!==null&&pt.delete(Ut.key===null?kt:Ut.key),H=y(Ut,H,kt),$t===null?gt=Ut:$t.sibling=Ut,$t=Ut);return s&&pt.forEach(function(Rr){return a(G,Rr)}),qt&&ps(G,kt),gt}function Tt(G,H,K,st){if(K==null)throw Error(i(151));for(var gt=null,$t=null,pt=H,kt=H=0,Ut=null,Wt=K.next();pt!==null&&!Wt.done;kt++,Wt=K.next()){pt.index>kt?(Ut=pt,pt=null):Ut=pt.sibling;var Rr=Q(G,pt,Wt.value,st);if(Rr===null){pt===null&&(pt=Ut);break}s&&pt&&Rr.alternate===null&&a(G,pt),H=y(Rr,H,kt),$t===null?gt=Rr:$t.sibling=Rr,$t=Rr,pt=Ut}if(Wt.done)return c(G,pt),qt&&ps(G,kt),gt;if(pt===null){for(;!Wt.done;kt++,Wt=K.next())Wt=at(G,Wt.value,st),Wt!==null&&(H=y(Wt,H,kt),$t===null?gt=Wt:$t.sibling=Wt,$t=Wt);return qt&&ps(G,kt),gt}for(pt=h(pt);!Wt.done;kt++,Wt=K.next())Wt=Z(pt,G,kt,Wt.value,st),Wt!==null&&(s&&Wt.alternate!==null&&pt.delete(Wt.key===null?kt:Wt.key),H=y(Wt,H,kt),$t===null?gt=Wt:$t.sibling=Wt,$t=Wt);return s&&pt.forEach(function(WI){return a(G,WI)}),qt&&ps(G,kt),gt}function ae(G,H,K,st){if(typeof K=="object"&&K!==null&&K.type===A&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case E:t:{for(var gt=K.key;H!==null;){if(H.key===gt){if(gt=K.type,gt===A){if(H.tag===7){c(G,H.sibling),st=p(H,K.props.children),st.return=G,G=st;break t}}else if(H.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===C&&Ma(gt)===H.type){c(G,H.sibling),st=p(H,K.props),_c(st,K),st.return=G,G=st;break t}c(G,H);break}else a(G,H);H=H.sibling}K.type===A?(st=Aa(K.props.children,G.mode,st,K.key),st.return=G,G=st):(st=Vh(K.type,K.key,K.props,null,G.mode,st),_c(st,K),st.return=G,G=st)}return T(G);case x:t:{for(gt=K.key;H!==null;){if(H.key===gt)if(H.tag===4&&H.stateNode.containerInfo===K.containerInfo&&H.stateNode.implementation===K.implementation){c(G,H.sibling),st=p(H,K.children||[]),st.return=G,G=st;break t}else{c(G,H);break}else a(G,H);H=H.sibling}st=Qm(K,G.mode,st),st.return=G,G=st}return T(G);case C:return K=Ma(K),ae(G,H,K,st)}if(_t(K))return mt(G,H,K,st);if(B(K)){if(gt=B(K),typeof gt!="function")throw Error(i(150));return K=gt.call(K),Tt(G,H,K,st)}if(typeof K.then=="function")return ae(G,H,qh(K),st);if(K.$$typeof===U)return ae(G,H,Bh(G,K),st);Gh(G,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,H!==null&&H.tag===6?(c(G,H.sibling),st=p(H,K),st.return=G,G=st):(c(G,H),st=Xm(K,G.mode,st),st.return=G,G=st),T(G)):c(G,H)}return function(G,H,K,st){try{yc=0;var gt=ae(G,H,K,st);return Fo=null,gt}catch(pt){if(pt===jo||pt===Fh)throw pt;var $t=Un(29,pt,null,G.mode);return $t.lanes=st,$t.return=G,$t}}}var ka=n0(!0),i0=n0(!1),ur=!1;function cp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function up(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function hr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function fr(s,a,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(Qt&2)!==0){var p=h.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),h.pending=a,a=Lh(s),Bv(s,null,c),a}return Ph(s,h,a,c),Lh(s)}function vc(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var h=a.lanes;h&=s.pendingLanes,c|=h,a.lanes=c,Yl(s,c)}}function hp(s,a){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var p=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var T={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};y===null?p=y=T:y=y.next=T,c=c.next}while(c!==null);y===null?p=y=a:y=y.next=a}else p=y=a;c={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}var fp=!1;function bc(){if(fp){var s=Bo;if(s!==null)throw s}}function Tc(s,a,c,h){fp=!1;var p=s.updateQueue;ur=!1;var y=p.firstBaseUpdate,T=p.lastBaseUpdate,I=p.shared.pending;if(I!==null){p.shared.pending=null;var z=I,X=z.next;z.next=null,T===null?y=X:T.next=X,T=z;var et=s.alternate;et!==null&&(et=et.updateQueue,I=et.lastBaseUpdate,I!==T&&(I===null?et.firstBaseUpdate=X:I.next=X,et.lastBaseUpdate=z))}if(y!==null){var at=p.baseState;T=0,et=X=z=null,I=y;do{var Q=I.lane&-536870913,Z=Q!==I.lane;if(Z?(zt&Q)===Q:(h&Q)===Q){Q!==0&&Q===Uo&&(fp=!0),et!==null&&(et=et.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});t:{var mt=s,Tt=I;Q=a;var ae=c;switch(Tt.tag){case 1:if(mt=Tt.payload,typeof mt=="function"){at=mt.call(ae,at,Q);break t}at=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=Tt.payload,Q=typeof mt=="function"?mt.call(ae,at,Q):mt,Q==null)break t;at=_({},at,Q);break t;case 2:ur=!0}}Q=I.callback,Q!==null&&(s.flags|=64,Z&&(s.flags|=8192),Z=p.callbacks,Z===null?p.callbacks=[Q]:Z.push(Q))}else Z={lane:Q,tag:I.tag,payload:I.payload,callback:I.callback,next:null},et===null?(X=et=Z,z=at):et=et.next=Z,T|=Q;if(I=I.next,I===null){if(I=p.shared.pending,I===null)break;Z=I,I=Z.next,Z.next=null,p.lastBaseUpdate=Z,p.shared.pending=null}}while(!0);et===null&&(z=at),p.baseState=z,p.firstBaseUpdate=X,p.lastBaseUpdate=et,y===null&&(p.shared.lanes=0),yr|=T,s.lanes=T,s.memoizedState=at}}function s0(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function r0(s,a){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)s0(c[s],a)}var Ho=F(null),Yh=F(0);function a0(s,a){s=As,ct(Yh,s),ct(Ho,a),As=s|a.baseLanes}function dp(){ct(Yh,As),ct(Ho,Ho.current)}function mp(){As=Yh.current,nt(Ho),nt(Yh)}var Bn=F(null),si=null;function dr(s){var a=s.alternate;ct(Ce,Ce.current&1),ct(Bn,s),si===null&&(a===null||Ho.current!==null||a.memoizedState!==null)&&(si=s)}function pp(s){ct(Ce,Ce.current),ct(Bn,s),si===null&&(si=s)}function o0(s){s.tag===22?(ct(Ce,Ce.current),ct(Bn,s),si===null&&(si=s)):mr()}function mr(){ct(Ce,Ce.current),ct(Bn,Bn.current)}function jn(s){nt(Bn),si===s&&(si=null),nt(Ce)}var Ce=F(0);function $h(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Tg(c)||Eg(c)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var _s=0,Ot=null,se=null,ze=null,Wh=!1,qo=!1,Na=!1,Kh=0,Ec=0,Go=null,zC=0;function Ee(){throw Error(i(321))}function gp(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!zn(s[c],a[c]))return!1;return!0}function yp(s,a,c,h,p,y){return _s=y,Ot=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,j.H=s===null||s.memoizedState===null?q0:Op,Na=!1,y=c(h,p),Na=!1,qo&&(y=c0(a,c,h,p)),l0(s),y}function l0(s){j.H=xc;var a=se!==null&&se.next!==null;if(_s=0,ze=se=Ot=null,Wh=!1,Ec=0,Go=null,a)throw Error(i(300));s===null||Ue||(s=s.dependencies,s!==null&&Uh(s)&&(Ue=!0))}function c0(s,a,c,h){Ot=s;var p=0;do{if(qo&&(Go=null),Ec=0,qo=!1,25<=p)throw Error(i(301));if(p+=1,ze=se=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}j.H=G0,y=a(c,h)}while(qo);return y}function UC(){var s=j.H,a=s.useState()[0];return a=typeof a.then=="function"?Sc(a):a,s=s.useState()[0],(se!==null?se.memoizedState:null)!==s&&(Ot.flags|=1024),a}function _p(){var s=Kh!==0;return Kh=0,s}function vp(s,a,c){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~c}function bp(s){if(Wh){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Wh=!1}_s=0,ze=se=Ot=null,qo=!1,Ec=Kh=0,Go=null}function Sn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?Ot.memoizedState=ze=s:ze=ze.next=s,ze}function Ie(){if(se===null){var s=Ot.alternate;s=s!==null?s.memoizedState:null}else s=se.next;var a=ze===null?Ot.memoizedState:ze.next;if(a!==null)ze=a,se=s;else{if(s===null)throw Ot.alternate===null?Error(i(467)):Error(i(310));se=s,s={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},ze===null?Ot.memoizedState=ze=s:ze=ze.next=s}return ze}function Xh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sc(s){var a=Ec;return Ec+=1,Go===null&&(Go=[]),s=Zv(Go,s,a),a=Ot,(ze===null?a.memoizedState:ze.next)===null&&(a=a.alternate,j.H=a===null||a.memoizedState===null?q0:Op),s}function Qh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Sc(s);if(s.$$typeof===U)return rn(s)}throw Error(i(438,String(s)))}function Tp(s){var a=null,c=Ot.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var h=Ot.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=Xh(),Ot.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(s),h=0;h<s;h++)c[h]=V;return a.index++,c}function vs(s,a){return typeof a=="function"?a(s):a}function Jh(s){var a=Ie();return Ep(a,se,s)}function Ep(s,a,c){var h=s.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=c;var p=s.baseQueue,y=h.pending;if(y!==null){if(p!==null){var T=p.next;p.next=y.next,y.next=T}a.baseQueue=p=y,h.pending=null}if(y=s.baseState,p===null)s.memoizedState=y;else{a=p.next;var I=T=null,z=null,X=a,et=!1;do{var at=X.lane&-536870913;if(at!==X.lane?(zt&at)===at:(_s&at)===at){var Q=X.revertLane;if(Q===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),at===Uo&&(et=!0);else if((_s&Q)===Q){X=X.next,Q===Uo&&(et=!0);continue}else at={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},z===null?(I=z=at,T=y):z=z.next=at,Ot.lanes|=Q,yr|=Q;at=X.action,Na&&c(y,at),y=X.hasEagerState?X.eagerState:c(y,at)}else Q={lane:at,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},z===null?(I=z=Q,T=y):z=z.next=Q,Ot.lanes|=at,yr|=at;X=X.next}while(X!==null&&X!==a);if(z===null?T=y:z.next=I,!zn(y,s.memoizedState)&&(Ue=!0,et&&(c=Bo,c!==null)))throw c;s.memoizedState=y,s.baseState=T,s.baseQueue=z,h.lastRenderedState=y}return p===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function Sp(s){var a=Ie(),c=a.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=s;var h=c.dispatch,p=c.pending,y=a.memoizedState;if(p!==null){c.pending=null;var T=p=p.next;do y=s(y,T.action),T=T.next;while(T!==p);zn(y,a.memoizedState)||(Ue=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),c.lastRenderedState=y}return[y,h]}function u0(s,a,c){var h=Ot,p=Ie(),y=qt;if(y){if(c===void 0)throw Error(i(407));c=c()}else c=a();var T=!zn((se||p).memoizedState,c);if(T&&(p.memoizedState=c,Ue=!0),p=p.queue,Ap(d0.bind(null,h,p,s),[s]),p.getSnapshot!==a||T||ze!==null&&ze.memoizedState.tag&1){if(h.flags|=2048,Yo(9,{destroy:void 0},f0.bind(null,h,p,c,a),null),oe===null)throw Error(i(349));y||(_s&127)!==0||h0(h,a,c)}return c}function h0(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=Ot.updateQueue,a===null?(a=Xh(),Ot.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function f0(s,a,c,h){a.value=c,a.getSnapshot=h,m0(a)&&p0(s)}function d0(s,a,c){return c(function(){m0(a)&&p0(s)})}function m0(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!zn(s,c)}catch{return!0}}function p0(s){var a=xa(s,2);a!==null&&Mn(a,s,2)}function wp(s){var a=Sn();if(typeof s=="function"){var c=s;if(s=c(),Na){Wn(!0);try{c()}finally{Wn(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:s},a}function g0(s,a,c,h){return s.baseState=c,Ep(s,se,typeof h=="function"?h:vs)}function BC(s,a,c,h,p){if(ef(s))throw Error(i(485));if(s=a.action,s!==null){var y={payload:p,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};j.T!==null?c(!0):y.isTransition=!1,h(y),c=a.pending,c===null?(y.next=a.pending=y,y0(a,y)):(y.next=c.next,a.pending=c.next=y)}}function y0(s,a){var c=a.action,h=a.payload,p=s.state;if(a.isTransition){var y=j.T,T={};j.T=T;try{var I=c(p,h),z=j.S;z!==null&&z(T,I),_0(s,a,I)}catch(X){xp(s,a,X)}finally{y!==null&&T.types!==null&&(y.types=T.types),j.T=y}}else try{y=c(p,h),_0(s,a,y)}catch(X){xp(s,a,X)}}function _0(s,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){v0(s,a,h)},function(h){return xp(s,a,h)}):v0(s,a,c)}function v0(s,a,c){a.status="fulfilled",a.value=c,b0(a),s.state=c,a=s.pending,a!==null&&(c=a.next,c===a?s.pending=null:(c=c.next,a.next=c,y0(s,c)))}function xp(s,a,c){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=c,b0(a),a=a.next;while(a!==h)}s.action=null}function b0(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function T0(s,a){return a}function E0(s,a){if(qt){var c=oe.formState;if(c!==null){t:{var h=Ot;if(qt){if(he){e:{for(var p=he,y=ii;p.nodeType!==8;){if(!y){p=null;break e}if(p=ri(p.nextSibling),p===null){p=null;break e}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){he=ri(p.nextSibling),h=p.data==="F!";break t}}lr(h)}h=!1}h&&(a=c[0])}}return c=Sn(),c.memoizedState=c.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:T0,lastRenderedState:a},c.queue=h,c=j0.bind(null,Ot,h),h.dispatch=c,h=wp(!1),y=Mp.bind(null,Ot,!1,h.queue),h=Sn(),p={state:a,dispatch:null,action:s,pending:null},h.queue=p,c=BC.bind(null,Ot,p,y,c),p.dispatch=c,h.memoizedState=s,[a,c,!1]}function S0(s){var a=Ie();return w0(a,se,s)}function w0(s,a,c){if(a=Ep(s,a,T0)[0],s=Jh(vs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=Sc(a)}catch(T){throw T===jo?Fh:T}else h=a;a=Ie();var p=a.queue,y=p.dispatch;return c!==a.memoizedState&&(Ot.flags|=2048,Yo(9,{destroy:void 0},jC.bind(null,p,c),null)),[h,y,s]}function jC(s,a){s.action=a}function x0(s){var a=Ie(),c=se;if(c!==null)return w0(a,c,s);Ie(),a=a.memoizedState,c=Ie();var h=c.queue.dispatch;return c.memoizedState=s,[a,h,!1]}function Yo(s,a,c,h){return s={tag:s,create:c,deps:h,inst:a,next:null},a=Ot.updateQueue,a===null&&(a=Xh(),Ot.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,a.lastEffect=s),s}function A0(){return Ie().memoizedState}function Zh(s,a,c,h){var p=Sn();Ot.flags|=s,p.memoizedState=Yo(1|a,{destroy:void 0},c,h===void 0?null:h)}function tf(s,a,c,h){var p=Ie();h=h===void 0?null:h;var y=p.memoizedState.inst;se!==null&&h!==null&&gp(h,se.memoizedState.deps)?p.memoizedState=Yo(a,y,c,h):(Ot.flags|=s,p.memoizedState=Yo(1|a,y,c,h))}function R0(s,a){Zh(8390656,8,s,a)}function Ap(s,a){tf(2048,8,s,a)}function FC(s){Ot.flags|=4;var a=Ot.updateQueue;if(a===null)a=Xh(),Ot.updateQueue=a,a.events=[s];else{var c=a.events;c===null?a.events=[s]:c.push(s)}}function C0(s){var a=Ie().memoizedState;return FC({ref:a,nextImpl:s}),function(){if((Qt&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function I0(s,a){return tf(4,2,s,a)}function D0(s,a){return tf(4,4,s,a)}function M0(s,a){if(typeof a=="function"){s=s();var c=a(s);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function O0(s,a,c){c=c!=null?c.concat([s]):null,tf(4,4,M0.bind(null,a,s),c)}function Rp(){}function k0(s,a){var c=Ie();a=a===void 0?null:a;var h=c.memoizedState;return a!==null&&gp(a,h[1])?h[0]:(c.memoizedState=[s,a],s)}function N0(s,a){var c=Ie();a=a===void 0?null:a;var h=c.memoizedState;if(a!==null&&gp(a,h[1]))return h[0];if(h=s(),Na){Wn(!0);try{s()}finally{Wn(!1)}}return c.memoizedState=[h,a],h}function Cp(s,a,c){return c===void 0||(_s&1073741824)!==0&&(zt&261930)===0?s.memoizedState=a:(s.memoizedState=c,s=Pb(),Ot.lanes|=s,yr|=s,c)}function P0(s,a,c,h){return zn(c,a)?c:Ho.current!==null?(s=Cp(s,c,h),zn(s,a)||(Ue=!0),s):(_s&42)===0||(_s&1073741824)!==0&&(zt&261930)===0?(Ue=!0,s.memoizedState=c):(s=Pb(),Ot.lanes|=s,yr|=s,a)}function L0(s,a,c,h,p){var y=it.p;it.p=y!==0&&8>y?y:8;var T=j.T,I={};j.T=I,Mp(s,!1,a,c);try{var z=p(),X=j.S;if(X!==null&&X(I,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var et=VC(z,h);wc(s,a,et,qn(s))}else wc(s,a,h,qn(s))}catch(at){wc(s,a,{then:function(){},status:"rejected",reason:at},qn())}finally{it.p=y,T!==null&&I.types!==null&&(T.types=I.types),j.T=T}}function HC(){}function Ip(s,a,c,h){if(s.tag!==5)throw Error(i(476));var p=V0(s).queue;L0(s,p,a,ft,c===null?HC:function(){return z0(s),c(h)})}function V0(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:ft},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:c},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function z0(s){var a=V0(s);a.next===null&&(a=s.alternate.memoizedState),wc(s,a.next.queue,{},qn())}function Dp(){return rn(jc)}function U0(){return Ie().memoizedState}function B0(){return Ie().memoizedState}function qC(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var c=qn();s=hr(c);var h=fr(a,s,c);h!==null&&(Mn(h,a,c),vc(h,a,c)),a={cache:rp()},s.payload=a;return}a=a.return}}function GC(s,a,c){var h=qn();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},ef(s)?F0(a,c):(c=Wm(s,a,c,h),c!==null&&(Mn(c,s,h),H0(c,a,h)))}function j0(s,a,c){var h=qn();wc(s,a,c,h)}function wc(s,a,c,h){var p={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(ef(s))F0(a,p);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var T=a.lastRenderedState,I=y(T,c);if(p.hasEagerState=!0,p.eagerState=I,zn(I,T))return Ph(s,a,p,0),oe===null&&Nh(),!1}catch{}if(c=Wm(s,a,p,h),c!==null)return Mn(c,s,h),H0(c,a,h),!0}return!1}function Mp(s,a,c,h){if(h={lane:2,revertLane:cg(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},ef(s)){if(a)throw Error(i(479))}else a=Wm(s,c,h,2),a!==null&&Mn(a,s,2)}function ef(s){var a=s.alternate;return s===Ot||a!==null&&a===Ot}function F0(s,a){qo=Wh=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function H0(s,a,c){if((c&4194048)!==0){var h=a.lanes;h&=s.pendingLanes,c|=h,a.lanes=c,Yl(s,c)}}var xc={readContext:rn,use:Qh,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useLayoutEffect:Ee,useInsertionEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useSyncExternalStore:Ee,useId:Ee,useHostTransitionStatus:Ee,useFormState:Ee,useActionState:Ee,useOptimistic:Ee,useMemoCache:Ee,useCacheRefresh:Ee};xc.useEffectEvent=Ee;var q0={readContext:rn,use:Qh,useCallback:function(s,a){return Sn().memoizedState=[s,a===void 0?null:a],s},useContext:rn,useEffect:R0,useImperativeHandle:function(s,a,c){c=c!=null?c.concat([s]):null,Zh(4194308,4,M0.bind(null,a,s),c)},useLayoutEffect:function(s,a){return Zh(4194308,4,s,a)},useInsertionEffect:function(s,a){Zh(4,2,s,a)},useMemo:function(s,a){var c=Sn();a=a===void 0?null:a;var h=s();if(Na){Wn(!0);try{s()}finally{Wn(!1)}}return c.memoizedState=[h,a],h},useReducer:function(s,a,c){var h=Sn();if(c!==void 0){var p=c(a);if(Na){Wn(!0);try{c(a)}finally{Wn(!1)}}}else p=a;return h.memoizedState=h.baseState=p,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:p},h.queue=s,s=s.dispatch=GC.bind(null,Ot,s),[h.memoizedState,s]},useRef:function(s){var a=Sn();return s={current:s},a.memoizedState=s},useState:function(s){s=wp(s);var a=s.queue,c=j0.bind(null,Ot,a);return a.dispatch=c,[s.memoizedState,c]},useDebugValue:Rp,useDeferredValue:function(s,a){var c=Sn();return Cp(c,s,a)},useTransition:function(){var s=wp(!1);return s=L0.bind(null,Ot,s.queue,!0,!1),Sn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,c){var h=Ot,p=Sn();if(qt){if(c===void 0)throw Error(i(407));c=c()}else{if(c=a(),oe===null)throw Error(i(349));(zt&127)!==0||h0(h,a,c)}p.memoizedState=c;var y={value:c,getSnapshot:a};return p.queue=y,R0(d0.bind(null,h,y,s),[s]),h.flags|=2048,Yo(9,{destroy:void 0},f0.bind(null,h,y,c,a),null),c},useId:function(){var s=Sn(),a=oe.identifierPrefix;if(qt){var c=Xi,h=Ki;c=(h&~(1<<32-Ae(h)-1)).toString(32)+c,a="_"+a+"R_"+c,c=Kh++,0<c&&(a+="H"+c.toString(32)),a+="_"}else c=zC++,a="_"+a+"r_"+c.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:Dp,useFormState:E0,useActionState:E0,useOptimistic:function(s){var a=Sn();a.memoizedState=a.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=Mp.bind(null,Ot,!0,c),c.dispatch=a,[s,a]},useMemoCache:Tp,useCacheRefresh:function(){return Sn().memoizedState=qC.bind(null,Ot)},useEffectEvent:function(s){var a=Sn(),c={impl:s};return a.memoizedState=c,function(){if((Qt&2)!==0)throw Error(i(440));return c.impl.apply(void 0,arguments)}}},Op={readContext:rn,use:Qh,useCallback:k0,useContext:rn,useEffect:Ap,useImperativeHandle:O0,useInsertionEffect:I0,useLayoutEffect:D0,useMemo:N0,useReducer:Jh,useRef:A0,useState:function(){return Jh(vs)},useDebugValue:Rp,useDeferredValue:function(s,a){var c=Ie();return P0(c,se.memoizedState,s,a)},useTransition:function(){var s=Jh(vs)[0],a=Ie().memoizedState;return[typeof s=="boolean"?s:Sc(s),a]},useSyncExternalStore:u0,useId:U0,useHostTransitionStatus:Dp,useFormState:S0,useActionState:S0,useOptimistic:function(s,a){var c=Ie();return g0(c,se,s,a)},useMemoCache:Tp,useCacheRefresh:B0};Op.useEffectEvent=C0;var G0={readContext:rn,use:Qh,useCallback:k0,useContext:rn,useEffect:Ap,useImperativeHandle:O0,useInsertionEffect:I0,useLayoutEffect:D0,useMemo:N0,useReducer:Sp,useRef:A0,useState:function(){return Sp(vs)},useDebugValue:Rp,useDeferredValue:function(s,a){var c=Ie();return se===null?Cp(c,s,a):P0(c,se.memoizedState,s,a)},useTransition:function(){var s=Sp(vs)[0],a=Ie().memoizedState;return[typeof s=="boolean"?s:Sc(s),a]},useSyncExternalStore:u0,useId:U0,useHostTransitionStatus:Dp,useFormState:x0,useActionState:x0,useOptimistic:function(s,a){var c=Ie();return se!==null?g0(c,se,s,a):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:Tp,useCacheRefresh:B0};G0.useEffectEvent=C0;function kp(s,a,c,h){a=s.memoizedState,c=c(h,a),c=c==null?a:_({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Np={enqueueSetState:function(s,a,c){s=s._reactInternals;var h=qn(),p=hr(h);p.payload=a,c!=null&&(p.callback=c),a=fr(s,p,h),a!==null&&(Mn(a,s,h),vc(a,s,h))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var h=qn(),p=hr(h);p.tag=1,p.payload=a,c!=null&&(p.callback=c),a=fr(s,p,h),a!==null&&(Mn(a,s,h),vc(a,s,h))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=qn(),h=hr(c);h.tag=2,a!=null&&(h.callback=a),a=fr(s,h,c),a!==null&&(Mn(a,s,c),vc(a,s,c))}};function Y0(s,a,c,h,p,y,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,y,T):a.prototype&&a.prototype.isPureReactComponent?!hc(c,h)||!hc(p,y):!0}function $0(s,a,c,h){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,h),a.state!==s&&Np.enqueueReplaceState(a,a.state,null)}function Pa(s,a){var c=a;if("ref"in a){c={};for(var h in a)h!=="ref"&&(c[h]=a[h])}if(s=s.defaultProps){c===a&&(c=_({},c));for(var p in s)c[p]===void 0&&(c[p]=s[p])}return c}function W0(s){kh(s)}function K0(s){console.error(s)}function X0(s){kh(s)}function nf(s,a){try{var c=s.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function Q0(s,a,c){try{var h=s.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Pp(s,a,c){return c=hr(c),c.tag=3,c.payload={element:null},c.callback=function(){nf(s,a)},c}function J0(s){return s=hr(s),s.tag=3,s}function Z0(s,a,c,h){var p=c.type.getDerivedStateFromError;if(typeof p=="function"){var y=h.value;s.payload=function(){return p(y)},s.callback=function(){Q0(a,c,h)}}var T=c.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(s.callback=function(){Q0(a,c,h),typeof p!="function"&&(_r===null?_r=new Set([this]):_r.add(this));var I=h.stack;this.componentDidCatch(h.value,{componentStack:I!==null?I:""})})}function YC(s,a,c,h,p){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=c.alternate,a!==null&&zo(a,c,p,!0),c=Bn.current,c!==null){switch(c.tag){case 31:case 13:return si===null?pf():c.alternate===null&&Se===0&&(Se=3),c.flags&=-257,c.flags|=65536,c.lanes=p,h===Hh?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([h]):a.add(h),ag(s,h,p)),!1;case 22:return c.flags|=65536,h===Hh?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([h]):c.add(h)),ag(s,h,p)),!1}throw Error(i(435,c.tag))}return ag(s,h,p),pf(),!1}if(qt)return a=Bn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,h!==tp&&(s=Error(i(422),{cause:h}),mc(ti(s,c)))):(h!==tp&&(a=Error(i(423),{cause:h}),mc(ti(a,c))),s=s.current.alternate,s.flags|=65536,p&=-p,s.lanes|=p,h=ti(h,c),p=Pp(s.stateNode,h,p),hp(s,p),Se!==4&&(Se=2)),!1;var y=Error(i(520),{cause:h});if(y=ti(y,c),kc===null?kc=[y]:kc.push(y),Se!==4&&(Se=2),a===null)return!0;h=ti(h,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,s=p&-p,c.lanes|=s,s=Pp(c.stateNode,h,s),hp(c,s),!1;case 1:if(a=c.type,y=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(_r===null||!_r.has(y))))return c.flags|=65536,p&=-p,c.lanes|=p,p=J0(p),Z0(p,s,c,h),hp(c,p),!1}c=c.return}while(c!==null);return!1}var Lp=Error(i(461)),Ue=!1;function an(s,a,c,h){a.child=s===null?i0(a,null,c,h):ka(a,s.child,c,h)}function tb(s,a,c,h,p){c=c.render;var y=a.ref;if("ref"in h){var T={};for(var I in h)I!=="ref"&&(T[I]=h[I])}else T=h;return Ia(a),h=yp(s,a,c,T,y,p),I=_p(),s!==null&&!Ue?(vp(s,a,p),bs(s,a,p)):(qt&&I&&Jm(a),a.flags|=1,an(s,a,h,p),a.child)}function eb(s,a,c,h,p){if(s===null){var y=c.type;return typeof y=="function"&&!Km(y)&&y.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=y,nb(s,a,y,h,p)):(s=Vh(c.type,null,h,a,a.mode,p),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,!qp(s,p)){var T=y.memoizedProps;if(c=c.compare,c=c!==null?c:hc,c(T,h)&&s.ref===a.ref)return bs(s,a,p)}return a.flags|=1,s=ms(y,h),s.ref=a.ref,s.return=a,a.child=s}function nb(s,a,c,h,p){if(s!==null){var y=s.memoizedProps;if(hc(y,h)&&s.ref===a.ref)if(Ue=!1,a.pendingProps=h=y,qp(s,p))(s.flags&131072)!==0&&(Ue=!0);else return a.lanes=s.lanes,bs(s,a,p)}return Vp(s,a,c,h,p)}function ib(s,a,c,h){var p=h.children,y=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((a.flags&128)!==0){if(y=y!==null?y.baseLanes|c:c,s!==null){for(h=a.child=s.child,p=0;h!==null;)p=p|h.lanes|h.childLanes,h=h.sibling;h=p&~y}else h=0,a.child=null;return sb(s,a,y,c,h)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&jh(a,y!==null?y.cachePool:null),y!==null?a0(a,y):dp(),o0(a);else return h=a.lanes=536870912,sb(s,a,y!==null?y.baseLanes|c:c,c,h)}else y!==null?(jh(a,y.cachePool),a0(a,y),mr(),a.memoizedState=null):(s!==null&&jh(a,null),dp(),mr());return an(s,a,p,c),a.child}function Ac(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function sb(s,a,c,h,p){var y=op();return y=y===null?null:{parent:Ve._currentValue,pool:y},a.memoizedState={baseLanes:c,cachePool:y},s!==null&&jh(a,null),dp(),o0(a),s!==null&&zo(s,a,h,!0),a.childLanes=p,null}function sf(s,a){return a=af({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function rb(s,a,c){return ka(a,s.child,null,c),s=sf(a,a.pendingProps),s.flags|=2,jn(a),a.memoizedState=null,s}function $C(s,a,c){var h=a.pendingProps,p=(a.flags&128)!==0;if(a.flags&=-129,s===null){if(qt){if(h.mode==="hidden")return s=sf(a,h),a.lanes=536870912,Ac(null,s);if(pp(a),(s=he)?(s=yT(s,ii),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:ar!==null?{id:Ki,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},c=Fv(s),c.return=a,a.child=c,sn=a,he=null)):s=null,s===null)throw lr(a);return a.lanes=536870912,null}return sf(a,h)}var y=s.memoizedState;if(y!==null){var T=y.dehydrated;if(pp(a),p)if(a.flags&256)a.flags&=-257,a=rb(s,a,c);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(i(558));else if(Ue||zo(s,a,c,!1),p=(c&s.childLanes)!==0,Ue||p){if(h=oe,h!==null&&(T=$l(h,c),T!==0&&T!==y.retryLane))throw y.retryLane=T,xa(s,T),Mn(h,s,T),Lp;pf(),a=rb(s,a,c)}else s=y.treeContext,he=ri(T.nextSibling),sn=a,qt=!0,or=null,ii=!1,s!==null&&Gv(a,s),a=sf(a,h),a.flags|=4096;return a}return s=ms(s.child,{mode:h.mode,children:h.children}),s.ref=a.ref,a.child=s,s.return=a,s}function rf(s,a){var c=a.ref;if(c===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(s===null||s.ref!==c)&&(a.flags|=4194816)}}function Vp(s,a,c,h,p){return Ia(a),c=yp(s,a,c,h,void 0,p),h=_p(),s!==null&&!Ue?(vp(s,a,p),bs(s,a,p)):(qt&&h&&Jm(a),a.flags|=1,an(s,a,c,p),a.child)}function ab(s,a,c,h,p,y){return Ia(a),a.updateQueue=null,c=c0(a,h,c,p),l0(s),h=_p(),s!==null&&!Ue?(vp(s,a,y),bs(s,a,y)):(qt&&h&&Jm(a),a.flags|=1,an(s,a,c,y),a.child)}function ob(s,a,c,h,p){if(Ia(a),a.stateNode===null){var y=No,T=c.contextType;typeof T=="object"&&T!==null&&(y=rn(T)),y=new c(h,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Np,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=h,y.state=a.memoizedState,y.refs={},cp(a),T=c.contextType,y.context=typeof T=="object"&&T!==null?rn(T):No,y.state=a.memoizedState,T=c.getDerivedStateFromProps,typeof T=="function"&&(kp(a,c,T,h),y.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&Np.enqueueReplaceState(y,y.state,null),Tc(a,h,y,p),bc(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(s===null){y=a.stateNode;var I=a.memoizedProps,z=Pa(c,I);y.props=z;var X=y.context,et=c.contextType;T=No,typeof et=="object"&&et!==null&&(T=rn(et));var at=c.getDerivedStateFromProps;et=typeof at=="function"||typeof y.getSnapshotBeforeUpdate=="function",I=a.pendingProps!==I,et||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(I||X!==T)&&$0(a,y,h,T),ur=!1;var Q=a.memoizedState;y.state=Q,Tc(a,h,y,p),bc(),X=a.memoizedState,I||Q!==X||ur?(typeof at=="function"&&(kp(a,c,at,h),X=a.memoizedState),(z=ur||Y0(a,c,z,h,Q,X,T))?(et||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=X),y.props=h,y.state=X,y.context=T,h=z):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{y=a.stateNode,up(s,a),T=a.memoizedProps,et=Pa(c,T),y.props=et,at=a.pendingProps,Q=y.context,X=c.contextType,z=No,typeof X=="object"&&X!==null&&(z=rn(X)),I=c.getDerivedStateFromProps,(X=typeof I=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==at||Q!==z)&&$0(a,y,h,z),ur=!1,Q=a.memoizedState,y.state=Q,Tc(a,h,y,p),bc();var Z=a.memoizedState;T!==at||Q!==Z||ur||s!==null&&s.dependencies!==null&&Uh(s.dependencies)?(typeof I=="function"&&(kp(a,c,I,h),Z=a.memoizedState),(et=ur||Y0(a,c,et,h,Q,Z,z)||s!==null&&s.dependencies!==null&&Uh(s.dependencies))?(X||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,Z,z),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,Z,z)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===s.memoizedProps&&Q===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&Q===s.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=Z),y.props=h,y.state=Z,y.context=z,h=et):(typeof y.componentDidUpdate!="function"||T===s.memoizedProps&&Q===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&Q===s.memoizedState||(a.flags|=1024),h=!1)}return y=h,rf(s,a),h=(a.flags&128)!==0,y||h?(y=a.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,s!==null&&h?(a.child=ka(a,s.child,null,p),a.child=ka(a,null,c,p)):an(s,a,c,p),a.memoizedState=y.state,s=a.child):s=bs(s,a,p),s}function lb(s,a,c,h){return Ra(),a.flags|=256,an(s,a,c,h),a.child}var zp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Up(s){return{baseLanes:s,cachePool:Qv()}}function Bp(s,a,c){return s=s!==null?s.childLanes&~c:0,a&&(s|=Hn),s}function cb(s,a,c){var h=a.pendingProps,p=!1,y=(a.flags&128)!==0,T;if((T=y)||(T=s!==null&&s.memoizedState===null?!1:(Ce.current&2)!==0),T&&(p=!0,a.flags&=-129),T=(a.flags&32)!==0,a.flags&=-33,s===null){if(qt){if(p?dr(a):mr(),(s=he)?(s=yT(s,ii),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:ar!==null?{id:Ki,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},c=Fv(s),c.return=a,a.child=c,sn=a,he=null)):s=null,s===null)throw lr(a);return Eg(s)?a.lanes=32:a.lanes=536870912,null}var I=h.children;return h=h.fallback,p?(mr(),p=a.mode,I=af({mode:"hidden",children:I},p),h=Aa(h,p,c,null),I.return=a,h.return=a,I.sibling=h,a.child=I,h=a.child,h.memoizedState=Up(c),h.childLanes=Bp(s,T,c),a.memoizedState=zp,Ac(null,h)):(dr(a),jp(a,I))}var z=s.memoizedState;if(z!==null&&(I=z.dehydrated,I!==null)){if(y)a.flags&256?(dr(a),a.flags&=-257,a=Fp(s,a,c)):a.memoizedState!==null?(mr(),a.child=s.child,a.flags|=128,a=null):(mr(),I=h.fallback,p=a.mode,h=af({mode:"visible",children:h.children},p),I=Aa(I,p,c,null),I.flags|=2,h.return=a,I.return=a,h.sibling=I,a.child=h,ka(a,s.child,null,c),h=a.child,h.memoizedState=Up(c),h.childLanes=Bp(s,T,c),a.memoizedState=zp,a=Ac(null,h));else if(dr(a),Eg(I)){if(T=I.nextSibling&&I.nextSibling.dataset,T)var X=T.dgst;T=X,h=Error(i(419)),h.stack="",h.digest=T,mc({value:h,source:null,stack:null}),a=Fp(s,a,c)}else if(Ue||zo(s,a,c,!1),T=(c&s.childLanes)!==0,Ue||T){if(T=oe,T!==null&&(h=$l(T,c),h!==0&&h!==z.retryLane))throw z.retryLane=h,xa(s,h),Mn(T,s,h),Lp;Tg(I)||pf(),a=Fp(s,a,c)}else Tg(I)?(a.flags|=192,a.child=s.child,a=null):(s=z.treeContext,he=ri(I.nextSibling),sn=a,qt=!0,or=null,ii=!1,s!==null&&Gv(a,s),a=jp(a,h.children),a.flags|=4096);return a}return p?(mr(),I=h.fallback,p=a.mode,z=s.child,X=z.sibling,h=ms(z,{mode:"hidden",children:h.children}),h.subtreeFlags=z.subtreeFlags&65011712,X!==null?I=ms(X,I):(I=Aa(I,p,c,null),I.flags|=2),I.return=a,h.return=a,h.sibling=I,a.child=h,Ac(null,h),h=a.child,I=s.child.memoizedState,I===null?I=Up(c):(p=I.cachePool,p!==null?(z=Ve._currentValue,p=p.parent!==z?{parent:z,pool:z}:p):p=Qv(),I={baseLanes:I.baseLanes|c,cachePool:p}),h.memoizedState=I,h.childLanes=Bp(s,T,c),a.memoizedState=zp,Ac(s.child,h)):(dr(a),c=s.child,s=c.sibling,c=ms(c,{mode:"visible",children:h.children}),c.return=a,c.sibling=null,s!==null&&(T=a.deletions,T===null?(a.deletions=[s],a.flags|=16):T.push(s)),a.child=c,a.memoizedState=null,c)}function jp(s,a){return a=af({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function af(s,a){return s=Un(22,s,null,a),s.lanes=0,s}function Fp(s,a,c){return ka(a,s.child,null,c),s=jp(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function ub(s,a,c){s.lanes|=a;var h=s.alternate;h!==null&&(h.lanes|=a),ip(s.return,a,c)}function Hp(s,a,c,h,p,y){var T=s.memoizedState;T===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:p,treeForkCount:y}:(T.isBackwards=a,T.rendering=null,T.renderingStartTime=0,T.last=h,T.tail=c,T.tailMode=p,T.treeForkCount=y)}function hb(s,a,c){var h=a.pendingProps,p=h.revealOrder,y=h.tail;h=h.children;var T=Ce.current,I=(T&2)!==0;if(I?(T=T&1|2,a.flags|=128):T&=1,ct(Ce,T),an(s,a,h,c),h=qt?dc:0,!I&&s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&ub(s,c,a);else if(s.tag===19)ub(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(p){case"forwards":for(c=a.child,p=null;c!==null;)s=c.alternate,s!==null&&$h(s)===null&&(p=c),c=c.sibling;c=p,c===null?(p=a.child,a.child=null):(p=c.sibling,c.sibling=null),Hp(a,!1,p,c,y,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,p=a.child,a.child=null;p!==null;){if(s=p.alternate,s!==null&&$h(s)===null){a.child=p;break}s=p.sibling,p.sibling=c,c=p,p=s}Hp(a,!0,c,null,y,h);break;case"together":Hp(a,!1,null,null,void 0,h);break;default:a.memoizedState=null}return a.child}function bs(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),yr|=a.lanes,(c&a.childLanes)===0)if(s!==null){if(zo(s,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,c=ms(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=ms(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function qp(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&Uh(s)))}function WC(s,a,c){switch(a.tag){case 3:qe(a,a.stateNode.containerInfo),cr(a,Ve,s.memoizedState.cache),Ra();break;case 27:case 5:oa(a);break;case 4:qe(a,a.stateNode.containerInfo);break;case 10:cr(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,pp(a),null;break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(dr(a),a.flags|=128,null):(c&a.child.childLanes)!==0?cb(s,a,c):(dr(a),s=bs(s,a,c),s!==null?s.sibling:null);dr(a);break;case 19:var p=(s.flags&128)!==0;if(h=(c&a.childLanes)!==0,h||(zo(s,a,c,!1),h=(c&a.childLanes)!==0),p){if(h)return hb(s,a,c);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ct(Ce,Ce.current),h)break;return null;case 22:return a.lanes=0,ib(s,a,c,a.pendingProps);case 24:cr(a,Ve,s.memoizedState.cache)}return bs(s,a,c)}function fb(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps)Ue=!0;else{if(!qp(s,c)&&(a.flags&128)===0)return Ue=!1,WC(s,a,c);Ue=(s.flags&131072)!==0}else Ue=!1,qt&&(a.flags&1048576)!==0&&qv(a,dc,a.index);switch(a.lanes=0,a.tag){case 16:t:{var h=a.pendingProps;if(s=Ma(a.elementType),a.type=s,typeof s=="function")Km(s)?(h=Pa(s,h),a.tag=1,a=ob(null,a,s,h,c)):(a.tag=0,a=Vp(null,a,s,h,c));else{if(s!=null){var p=s.$$typeof;if(p===Y){a.tag=11,a=tb(null,a,s,h,c);break t}else if(p===w){a.tag=14,a=eb(null,a,s,h,c);break t}}throw a=Dt(s)||s,Error(i(306,a,""))}}return a;case 0:return Vp(s,a,a.type,a.pendingProps,c);case 1:return h=a.type,p=Pa(h,a.pendingProps),ob(s,a,h,p,c);case 3:t:{if(qe(a,a.stateNode.containerInfo),s===null)throw Error(i(387));h=a.pendingProps;var y=a.memoizedState;p=y.element,up(s,a),Tc(a,h,null,c);var T=a.memoizedState;if(h=T.cache,cr(a,Ve,h),h!==y.cache&&sp(a,[Ve],c,!0),bc(),h=T.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:T.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=lb(s,a,h,c);break t}else if(h!==p){p=ti(Error(i(424)),a),mc(p),a=lb(s,a,h,c);break t}else for(s=a.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,he=ri(s.firstChild),sn=a,qt=!0,or=null,ii=!0,c=i0(a,null,h,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ra(),h===p){a=bs(s,a,c);break t}an(s,a,h,c)}a=a.child}return a;case 26:return rf(s,a),s===null?(c=ST(a.type,null,a.pendingProps,null))?a.memoizedState=c:qt||(c=a.type,s=a.pendingProps,h=Ef(St.current).createElement(c),h[Ne]=a,h[Xe]=s,on(h,c,s),Pe(h),a.stateNode=h):a.memoizedState=ST(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return oa(a),s===null&&qt&&(h=a.stateNode=bT(a.type,a.pendingProps,St.current),sn=a,ii=!0,p=he,Er(a.type)?(Sg=p,he=ri(h.firstChild)):he=p),an(s,a,a.pendingProps.children,c),rf(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&qt&&((p=h=he)&&(h=wI(h,a.type,a.pendingProps,ii),h!==null?(a.stateNode=h,sn=a,he=ri(h.firstChild),ii=!1,p=!0):p=!1),p||lr(a)),oa(a),p=a.type,y=a.pendingProps,T=s!==null?s.memoizedProps:null,h=y.children,_g(p,y)?h=null:T!==null&&_g(p,T)&&(a.flags|=32),a.memoizedState!==null&&(p=yp(s,a,UC,null,null,c),jc._currentValue=p),rf(s,a),an(s,a,h,c),a.child;case 6:return s===null&&qt&&((s=c=he)&&(c=xI(c,a.pendingProps,ii),c!==null?(a.stateNode=c,sn=a,he=null,s=!0):s=!1),s||lr(a)),null;case 13:return cb(s,a,c);case 4:return qe(a,a.stateNode.containerInfo),h=a.pendingProps,s===null?a.child=ka(a,null,h,c):an(s,a,h,c),a.child;case 11:return tb(s,a,a.type,a.pendingProps,c);case 7:return an(s,a,a.pendingProps,c),a.child;case 8:return an(s,a,a.pendingProps.children,c),a.child;case 12:return an(s,a,a.pendingProps.children,c),a.child;case 10:return h=a.pendingProps,cr(a,a.type,h.value),an(s,a,h.children,c),a.child;case 9:return p=a.type._context,h=a.pendingProps.children,Ia(a),p=rn(p),h=h(p),a.flags|=1,an(s,a,h,c),a.child;case 14:return eb(s,a,a.type,a.pendingProps,c);case 15:return nb(s,a,a.type,a.pendingProps,c);case 19:return hb(s,a,c);case 31:return $C(s,a,c);case 22:return ib(s,a,c,a.pendingProps);case 24:return Ia(a),h=rn(Ve),s===null?(p=op(),p===null&&(p=oe,y=rp(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=c),p=y),a.memoizedState={parent:h,cache:p},cp(a),cr(a,Ve,p)):((s.lanes&c)!==0&&(up(s,a),Tc(a,null,null,c),bc()),p=s.memoizedState,y=a.memoizedState,p.parent!==h?(p={parent:h,cache:h},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),cr(a,Ve,h)):(h=y.cache,cr(a,Ve,h),h!==p.cache&&sp(a,[Ve],c,!0))),an(s,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Ts(s){s.flags|=4}function Gp(s,a,c,h,p){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(p&335544128)===p)if(s.stateNode.complete)s.flags|=8192;else if(Ub())s.flags|=8192;else throw Oa=Hh,lp}else s.flags&=-16777217}function db(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!CT(a))if(Ub())s.flags|=8192;else throw Oa=Hh,lp}function of(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?fh():536870912,s.lanes|=a,Xo|=a)}function Rc(s,a){if(!qt)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function fe(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(a)for(var p=s.child;p!==null;)c|=p.lanes|p.childLanes,h|=p.subtreeFlags&65011712,h|=p.flags&65011712,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)c|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=h,s.childLanes=c,a}function KC(s,a,c){var h=a.pendingProps;switch(Zm(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(a),null;case 1:return fe(a),null;case 3:return c=a.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),ys(Ve),pe(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(Vo(a)?Ts(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,ep())),fe(a),null;case 26:var p=a.type,y=a.memoizedState;return s===null?(Ts(a),y!==null?(fe(a),db(a,y)):(fe(a),Gp(a,p,null,h,c))):y?y!==s.memoizedState?(Ts(a),fe(a),db(a,y)):(fe(a),a.flags&=-16777217):(s=s.memoizedProps,s!==h&&Ts(a),fe(a),Gp(a,p,s,h,c)),null;case 27:if(po(a),c=St.current,p=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==h&&Ts(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return fe(a),null}s=ut.current,Vo(a)?Yv(a):(s=bT(p,h,c),a.stateNode=s,Ts(a))}return fe(a),null;case 5:if(po(a),p=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==h&&Ts(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return fe(a),null}if(y=ut.current,Vo(a))Yv(a);else{var T=Ef(St.current);switch(y){case 1:y=T.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=T.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=T.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof h.is=="string"?T.createElement("select",{is:h.is}):T.createElement("select"),h.multiple?y.multiple=!0:h.size&&(y.size=h.size);break;default:y=typeof h.is=="string"?T.createElement(p,{is:h.is}):T.createElement(p)}}y[Ne]=a,y[Xe]=h;t:for(T=a.child;T!==null;){if(T.tag===5||T.tag===6)y.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===a)break t;for(;T.sibling===null;){if(T.return===null||T.return===a)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}a.stateNode=y;t:switch(on(y,p,h),p){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break t;case"img":h=!0;break t;default:h=!1}h&&Ts(a)}}return fe(a),Gp(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,c),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==h&&Ts(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(i(166));if(s=St.current,Vo(a)){if(s=a.stateNode,c=a.memoizedProps,h=null,p=sn,p!==null)switch(p.tag){case 27:case 5:h=p.memoizedProps}s[Ne]=a,s=!!(s.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||cT(s.nodeValue,c)),s||lr(a,!0)}else s=Ef(s).createTextNode(h),s[Ne]=a,a.stateNode=s}return fe(a),null;case 31:if(c=a.memoizedState,s===null||s.memoizedState!==null){if(h=Vo(a),c!==null){if(s===null){if(!h)throw Error(i(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Ne]=a}else Ra(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;fe(a),s=!1}else c=ep(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=c),s=!0;if(!s)return a.flags&256?(jn(a),a):(jn(a),null);if((a.flags&128)!==0)throw Error(i(558))}return fe(a),null;case 13:if(h=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(p=Vo(a),h!==null&&h.dehydrated!==null){if(s===null){if(!p)throw Error(i(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[Ne]=a}else Ra(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;fe(a),p=!1}else p=ep(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(jn(a),a):(jn(a),null)}return jn(a),(a.flags&128)!==0?(a.lanes=c,a):(c=h!==null,s=s!==null&&s.memoizedState!==null,c&&(h=a.child,p=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(p=h.alternate.memoizedState.cachePool.pool),y=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==p&&(h.flags|=2048)),c!==s&&c&&(a.child.flags|=8192),of(a,a.updateQueue),fe(a),null);case 4:return pe(),s===null&&dg(a.stateNode.containerInfo),fe(a),null;case 10:return ys(a.type),fe(a),null;case 19:if(nt(Ce),h=a.memoizedState,h===null)return fe(a),null;if(p=(a.flags&128)!==0,y=h.rendering,y===null)if(p)Rc(h,!1);else{if(Se!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(y=$h(s),y!==null){for(a.flags|=128,Rc(h,!1),s=y.updateQueue,a.updateQueue=s,of(a,s),a.subtreeFlags=0,s=c,c=a.child;c!==null;)jv(c,s),c=c.sibling;return ct(Ce,Ce.current&1|2),qt&&ps(a,h.treeForkCount),a.child}s=s.sibling}h.tail!==null&&Tn()>ff&&(a.flags|=128,p=!0,Rc(h,!1),a.lanes=4194304)}else{if(!p)if(s=$h(y),s!==null){if(a.flags|=128,p=!0,s=s.updateQueue,a.updateQueue=s,of(a,s),Rc(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!qt)return fe(a),null}else 2*Tn()-h.renderingStartTime>ff&&c!==536870912&&(a.flags|=128,p=!0,Rc(h,!1),a.lanes=4194304);h.isBackwards?(y.sibling=a.child,a.child=y):(s=h.last,s!==null?s.sibling=y:a.child=y,h.last=y)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=Tn(),s.sibling=null,c=Ce.current,ct(Ce,p?c&1|2:c&1),qt&&ps(a,h.treeForkCount),s):(fe(a),null);case 22:case 23:return jn(a),mp(),h=a.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(c&536870912)!==0&&(a.flags&128)===0&&(fe(a),a.subtreeFlags&6&&(a.flags|=8192)):fe(a),c=a.updateQueue,c!==null&&of(a,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==c&&(a.flags|=2048),s!==null&&nt(Da),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),ys(Ve),fe(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function XC(s,a){switch(Zm(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return ys(Ve),pe(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return po(a),null;case 31:if(a.memoizedState!==null){if(jn(a),a.alternate===null)throw Error(i(340));Ra()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if(jn(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Ra()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return nt(Ce),null;case 4:return pe(),null;case 10:return ys(a.type),null;case 22:case 23:return jn(a),mp(),s!==null&&nt(Da),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return ys(Ve),null;case 25:return null;default:return null}}function mb(s,a){switch(Zm(a),a.tag){case 3:ys(Ve),pe();break;case 26:case 27:case 5:po(a);break;case 4:pe();break;case 31:a.memoizedState!==null&&jn(a);break;case 13:jn(a);break;case 19:nt(Ce);break;case 10:ys(a.type);break;case 22:case 23:jn(a),mp(),s!==null&&nt(Da);break;case 24:ys(Ve)}}function Cc(s,a){try{var c=a.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var p=h.next;c=p;do{if((c.tag&s)===s){h=void 0;var y=c.create,T=c.inst;h=y(),T.destroy=h}c=c.next}while(c!==p)}}catch(I){ee(a,a.return,I)}}function pr(s,a,c){try{var h=a.updateQueue,p=h!==null?h.lastEffect:null;if(p!==null){var y=p.next;h=y;do{if((h.tag&s)===s){var T=h.inst,I=T.destroy;if(I!==void 0){T.destroy=void 0,p=a;var z=c,X=I;try{X()}catch(et){ee(p,z,et)}}}h=h.next}while(h!==y)}}catch(et){ee(a,a.return,et)}}function pb(s){var a=s.updateQueue;if(a!==null){var c=s.stateNode;try{r0(a,c)}catch(h){ee(s,s.return,h)}}}function gb(s,a,c){c.props=Pa(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(h){ee(s,a,h)}}function Ic(s,a){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof c=="function"?s.refCleanup=c(h):c.current=h}}catch(p){ee(s,a,p)}}function Qi(s,a){var c=s.ref,h=s.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(p){ee(s,a,p)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(p){ee(s,a,p)}else c.current=null}function yb(s){var a=s.type,c=s.memoizedProps,h=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break t;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(p){ee(s,s.return,p)}}function Yp(s,a,c){try{var h=s.stateNode;_I(h,s.type,c,a),h[Xe]=a}catch(p){ee(s,s.return,p)}}function _b(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Er(s.type)||s.tag===4}function $p(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||_b(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Er(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Wp(s,a,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(s),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=gi));else if(h!==4&&(h===27&&Er(s.type)&&(c=s.stateNode,a=null),s=s.child,s!==null))for(Wp(s,a,c),s=s.sibling;s!==null;)Wp(s,a,c),s=s.sibling}function lf(s,a,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(h!==4&&(h===27&&Er(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(lf(s,a,c),s=s.sibling;s!==null;)lf(s,a,c),s=s.sibling}function vb(s){var a=s.stateNode,c=s.memoizedProps;try{for(var h=s.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);on(a,h,c),a[Ne]=s,a[Xe]=c}catch(y){ee(s,s.return,y)}}var Es=!1,Be=!1,Kp=!1,bb=typeof WeakSet=="function"?WeakSet:Set,Je=null;function QC(s,a){if(s=s.containerInfo,gg=If,s=Ov(s),Fm(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else t:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var p=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break t}var T=0,I=-1,z=-1,X=0,et=0,at=s,Q=null;e:for(;;){for(var Z;at!==c||p!==0&&at.nodeType!==3||(I=T+p),at!==y||h!==0&&at.nodeType!==3||(z=T+h),at.nodeType===3&&(T+=at.nodeValue.length),(Z=at.firstChild)!==null;)Q=at,at=Z;for(;;){if(at===s)break e;if(Q===c&&++X===p&&(I=T),Q===y&&++et===h&&(z=T),(Z=at.nextSibling)!==null)break;at=Q,Q=at.parentNode}at=Z}c=I===-1||z===-1?null:{start:I,end:z}}else c=null}c=c||{start:0,end:0}}else c=null;for(yg={focusedElem:s,selectionRange:c},If=!1,Je=a;Je!==null;)if(a=Je,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Je=s;else for(;Je!==null;){switch(a=Je,y=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(c=0;c<s.length;c++)p=s[c],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,c=a,p=y.memoizedProps,y=y.memoizedState,h=c.stateNode;try{var mt=Pa(c.type,p);s=h.getSnapshotBeforeUpdate(mt,y),h.__reactInternalSnapshotBeforeUpdate=s}catch(Tt){ee(c,c.return,Tt)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,c=s.nodeType,c===9)bg(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":bg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,Je=s;break}Je=a.return}}function Tb(s,a,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:ws(s,c),h&4&&Cc(5,c);break;case 1:if(ws(s,c),h&4)if(s=c.stateNode,a===null)try{s.componentDidMount()}catch(T){ee(c,c.return,T)}else{var p=Pa(c.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(p,a,s.__reactInternalSnapshotBeforeUpdate)}catch(T){ee(c,c.return,T)}}h&64&&pb(c),h&512&&Ic(c,c.return);break;case 3:if(ws(s,c),h&64&&(s=c.updateQueue,s!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{r0(s,a)}catch(T){ee(c,c.return,T)}}break;case 27:a===null&&h&4&&vb(c);case 26:case 5:ws(s,c),a===null&&h&4&&yb(c),h&512&&Ic(c,c.return);break;case 12:ws(s,c);break;case 31:ws(s,c),h&4&&wb(s,c);break;case 13:ws(s,c),h&4&&xb(s,c),h&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=aI.bind(null,c),AI(s,c))));break;case 22:if(h=c.memoizedState!==null||Es,!h){a=a!==null&&a.memoizedState!==null||Be,p=Es;var y=Be;Es=h,(Be=a)&&!y?xs(s,c,(c.subtreeFlags&8772)!==0):ws(s,c),Es=p,Be=y}break;case 30:break;default:ws(s,c)}}function Eb(s){var a=s.alternate;a!==null&&(s.alternate=null,Eb(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&bo(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var ye=null,Rn=!1;function Ss(s,a,c){for(c=c.child;c!==null;)Sb(s,a,c),c=c.sibling}function Sb(s,a,c){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(fi,c)}catch{}switch(c.tag){case 26:Be||Qi(c,a),Ss(s,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Be||Qi(c,a);var h=ye,p=Rn;Er(c.type)&&(ye=c.stateNode,Rn=!1),Ss(s,a,c),zc(c.stateNode),ye=h,Rn=p;break;case 5:Be||Qi(c,a);case 6:if(h=ye,p=Rn,ye=null,Ss(s,a,c),ye=h,Rn=p,ye!==null)if(Rn)try{(ye.nodeType===9?ye.body:ye.nodeName==="HTML"?ye.ownerDocument.body:ye).removeChild(c.stateNode)}catch(y){ee(c,a,y)}else try{ye.removeChild(c.stateNode)}catch(y){ee(c,a,y)}break;case 18:ye!==null&&(Rn?(s=ye,pT(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),sl(s)):pT(ye,c.stateNode));break;case 4:h=ye,p=Rn,ye=c.stateNode.containerInfo,Rn=!0,Ss(s,a,c),ye=h,Rn=p;break;case 0:case 11:case 14:case 15:pr(2,c,a),Be||pr(4,c,a),Ss(s,a,c);break;case 1:Be||(Qi(c,a),h=c.stateNode,typeof h.componentWillUnmount=="function"&&gb(c,a,h)),Ss(s,a,c);break;case 21:Ss(s,a,c);break;case 22:Be=(h=Be)||c.memoizedState!==null,Ss(s,a,c),Be=h;break;default:Ss(s,a,c)}}function wb(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{sl(s)}catch(c){ee(a,a.return,c)}}}function xb(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{sl(s)}catch(c){ee(a,a.return,c)}}function JC(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new bb),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new bb),a;default:throw Error(i(435,s.tag))}}function cf(s,a){var c=JC(s);a.forEach(function(h){if(!c.has(h)){c.add(h);var p=oI.bind(null,s,h);h.then(p,p)}})}function Cn(s,a){var c=a.deletions;if(c!==null)for(var h=0;h<c.length;h++){var p=c[h],y=s,T=a,I=T;t:for(;I!==null;){switch(I.tag){case 27:if(Er(I.type)){ye=I.stateNode,Rn=!1;break t}break;case 5:ye=I.stateNode,Rn=!1;break t;case 3:case 4:ye=I.stateNode.containerInfo,Rn=!0;break t}I=I.return}if(ye===null)throw Error(i(160));Sb(y,T,p),ye=null,Rn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Ab(a,s),a=a.sibling}var Ei=null;function Ab(s,a){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Cn(a,s),In(s),h&4&&(pr(3,s,s.return),Cc(3,s),pr(5,s,s.return));break;case 1:Cn(a,s),In(s),h&512&&(Be||c===null||Qi(c,c.return)),h&64&&Es&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var p=Ei;if(Cn(a,s),In(s),h&512&&(Be||c===null||Qi(c,c.return)),h&4){var y=c!==null?c.memoizedState:null;if(h=s.memoizedState,c===null)if(h===null)if(s.stateNode===null){t:{h=s.type,c=s.memoizedProps,p=p.ownerDocument||p;e:switch(h){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Vi]||y[Ne]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(h),p.head.insertBefore(y,p.querySelector("head > title"))),on(y,h,c),y[Ne]=s,Pe(y),h=y;break t;case"link":var T=AT("link","href",p).get(h+(c.href||""));if(T){for(var I=0;I<T.length;I++)if(y=T[I],y.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&y.getAttribute("rel")===(c.rel==null?null:c.rel)&&y.getAttribute("title")===(c.title==null?null:c.title)&&y.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){T.splice(I,1);break e}}y=p.createElement(h),on(y,h,c),p.head.appendChild(y);break;case"meta":if(T=AT("meta","content",p).get(h+(c.content||""))){for(I=0;I<T.length;I++)if(y=T[I],y.getAttribute("content")===(c.content==null?null:""+c.content)&&y.getAttribute("name")===(c.name==null?null:c.name)&&y.getAttribute("property")===(c.property==null?null:c.property)&&y.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&y.getAttribute("charset")===(c.charSet==null?null:c.charSet)){T.splice(I,1);break e}}y=p.createElement(h),on(y,h,c),p.head.appendChild(y);break;default:throw Error(i(468,h))}y[Ne]=s,Pe(y),h=y}s.stateNode=h}else RT(p,s.type,s.stateNode);else s.stateNode=xT(p,h,s.memoizedProps);else y!==h?(y===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):y.count--,h===null?RT(p,s.type,s.stateNode):xT(p,h,s.memoizedProps)):h===null&&s.stateNode!==null&&Yp(s,s.memoizedProps,c.memoizedProps)}break;case 27:Cn(a,s),In(s),h&512&&(Be||c===null||Qi(c,c.return)),c!==null&&h&4&&Yp(s,s.memoizedProps,c.memoizedProps);break;case 5:if(Cn(a,s),In(s),h&512&&(Be||c===null||Qi(c,c.return)),s.flags&32){p=s.stateNode;try{An(p,"")}catch(mt){ee(s,s.return,mt)}}h&4&&s.stateNode!=null&&(p=s.memoizedProps,Yp(s,p,c!==null?c.memoizedProps:p)),h&1024&&(Kp=!0);break;case 6:if(Cn(a,s),In(s),h&4){if(s.stateNode===null)throw Error(i(162));h=s.memoizedProps,c=s.stateNode;try{c.nodeValue=h}catch(mt){ee(s,s.return,mt)}}break;case 3:if(xf=null,p=Ei,Ei=Sf(a.containerInfo),Cn(a,s),Ei=p,In(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{sl(a.containerInfo)}catch(mt){ee(s,s.return,mt)}Kp&&(Kp=!1,Rb(s));break;case 4:h=Ei,Ei=Sf(s.stateNode.containerInfo),Cn(a,s),In(s),Ei=h;break;case 12:Cn(a,s),In(s);break;case 31:Cn(a,s),In(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,cf(s,h)));break;case 13:Cn(a,s),In(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(hf=Tn()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,cf(s,h)));break;case 22:p=s.memoizedState!==null;var z=c!==null&&c.memoizedState!==null,X=Es,et=Be;if(Es=X||p,Be=et||z,Cn(a,s),Be=et,Es=X,In(s),h&8192)t:for(a=s.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(c===null||z||Es||Be||La(s)),c=null,a=s;;){if(a.tag===5||a.tag===26){if(c===null){z=c=a;try{if(y=z.stateNode,p)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{I=z.stateNode;var at=z.memoizedProps.style,Q=at!=null&&at.hasOwnProperty("display")?at.display:null;I.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(mt){ee(z,z.return,mt)}}}else if(a.tag===6){if(c===null){z=a;try{z.stateNode.nodeValue=p?"":z.memoizedProps}catch(mt){ee(z,z.return,mt)}}}else if(a.tag===18){if(c===null){z=a;try{var Z=z.stateNode;p?gT(Z,!0):gT(z.stateNode,!1)}catch(mt){ee(z,z.return,mt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=s.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,cf(s,c))));break;case 19:Cn(a,s),In(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,cf(s,h)));break;case 30:break;case 21:break;default:Cn(a,s),In(s)}}function In(s){var a=s.flags;if(a&2){try{for(var c,h=s.return;h!==null;){if(_b(h)){c=h;break}h=h.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var p=c.stateNode,y=$p(s);lf(s,y,p);break;case 5:var T=c.stateNode;c.flags&32&&(An(T,""),c.flags&=-33);var I=$p(s);lf(s,I,T);break;case 3:case 4:var z=c.stateNode.containerInfo,X=$p(s);Wp(s,X,z);break;default:throw Error(i(161))}}catch(et){ee(s,s.return,et)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function Rb(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;Rb(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function ws(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Tb(s,a.alternate,a),a=a.sibling}function La(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:pr(4,a,a.return),La(a);break;case 1:Qi(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&gb(a,a.return,c),La(a);break;case 27:zc(a.stateNode);case 26:case 5:Qi(a,a.return),La(a);break;case 22:a.memoizedState===null&&La(a);break;case 30:La(a);break;default:La(a)}s=s.sibling}}function xs(s,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,p=s,y=a,T=y.flags;switch(y.tag){case 0:case 11:case 15:xs(p,y,c),Cc(4,y);break;case 1:if(xs(p,y,c),h=y,p=h.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(X){ee(h,h.return,X)}if(h=y,p=h.updateQueue,p!==null){var I=h.stateNode;try{var z=p.shared.hiddenCallbacks;if(z!==null)for(p.shared.hiddenCallbacks=null,p=0;p<z.length;p++)s0(z[p],I)}catch(X){ee(h,h.return,X)}}c&&T&64&&pb(y),Ic(y,y.return);break;case 27:vb(y);case 26:case 5:xs(p,y,c),c&&h===null&&T&4&&yb(y),Ic(y,y.return);break;case 12:xs(p,y,c);break;case 31:xs(p,y,c),c&&T&4&&wb(p,y);break;case 13:xs(p,y,c),c&&T&4&&xb(p,y);break;case 22:y.memoizedState===null&&xs(p,y,c),Ic(y,y.return);break;case 30:break;default:xs(p,y,c)}a=a.sibling}}function Xp(s,a){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&pc(c))}function Qp(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&pc(s))}function Si(s,a,c,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Cb(s,a,c,h),a=a.sibling}function Cb(s,a,c,h){var p=a.flags;switch(a.tag){case 0:case 11:case 15:Si(s,a,c,h),p&2048&&Cc(9,a);break;case 1:Si(s,a,c,h);break;case 3:Si(s,a,c,h),p&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&pc(s)));break;case 12:if(p&2048){Si(s,a,c,h),s=a.stateNode;try{var y=a.memoizedProps,T=y.id,I=y.onPostCommit;typeof I=="function"&&I(T,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(z){ee(a,a.return,z)}}else Si(s,a,c,h);break;case 31:Si(s,a,c,h);break;case 13:Si(s,a,c,h);break;case 23:break;case 22:y=a.stateNode,T=a.alternate,a.memoizedState!==null?y._visibility&2?Si(s,a,c,h):Dc(s,a):y._visibility&2?Si(s,a,c,h):(y._visibility|=2,$o(s,a,c,h,(a.subtreeFlags&10256)!==0||!1)),p&2048&&Xp(T,a);break;case 24:Si(s,a,c,h),p&2048&&Qp(a.alternate,a);break;default:Si(s,a,c,h)}}function $o(s,a,c,h,p){for(p=p&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var y=s,T=a,I=c,z=h,X=T.flags;switch(T.tag){case 0:case 11:case 15:$o(y,T,I,z,p),Cc(8,T);break;case 23:break;case 22:var et=T.stateNode;T.memoizedState!==null?et._visibility&2?$o(y,T,I,z,p):Dc(y,T):(et._visibility|=2,$o(y,T,I,z,p)),p&&X&2048&&Xp(T.alternate,T);break;case 24:$o(y,T,I,z,p),p&&X&2048&&Qp(T.alternate,T);break;default:$o(y,T,I,z,p)}a=a.sibling}}function Dc(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=s,h=a,p=h.flags;switch(h.tag){case 22:Dc(c,h),p&2048&&Xp(h.alternate,h);break;case 24:Dc(c,h),p&2048&&Qp(h.alternate,h);break;default:Dc(c,h)}a=a.sibling}}var Mc=8192;function Wo(s,a,c){if(s.subtreeFlags&Mc)for(s=s.child;s!==null;)Ib(s,a,c),s=s.sibling}function Ib(s,a,c){switch(s.tag){case 26:Wo(s,a,c),s.flags&Mc&&s.memoizedState!==null&&zI(c,Ei,s.memoizedState,s.memoizedProps);break;case 5:Wo(s,a,c);break;case 3:case 4:var h=Ei;Ei=Sf(s.stateNode.containerInfo),Wo(s,a,c),Ei=h;break;case 22:s.memoizedState===null&&(h=s.alternate,h!==null&&h.memoizedState!==null?(h=Mc,Mc=16777216,Wo(s,a,c),Mc=h):Wo(s,a,c));break;default:Wo(s,a,c)}}function Db(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Oc(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];Je=h,Ob(h,s)}Db(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Mb(s),s=s.sibling}function Mb(s){switch(s.tag){case 0:case 11:case 15:Oc(s),s.flags&2048&&pr(9,s,s.return);break;case 3:Oc(s);break;case 12:Oc(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,uf(s)):Oc(s);break;default:Oc(s)}}function uf(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];Je=h,Ob(h,s)}Db(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:pr(8,a,a.return),uf(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,uf(a));break;default:uf(a)}s=s.sibling}}function Ob(s,a){for(;Je!==null;){var c=Je;switch(c.tag){case 0:case 11:case 15:pr(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:pc(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,Je=h;else t:for(c=s;Je!==null;){h=Je;var p=h.sibling,y=h.return;if(Eb(h),h===c){Je=null;break t}if(p!==null){p.return=y,Je=p;break t}Je=y}}}var ZC={getCacheForType:function(s){var a=rn(Ve),c=a.data.get(s);return c===void 0&&(c=s(),a.data.set(s,c)),c},cacheSignal:function(){return rn(Ve).controller.signal}},tI=typeof WeakMap=="function"?WeakMap:Map,Qt=0,oe=null,Nt=null,zt=0,te=0,Fn=null,gr=!1,Ko=!1,Jp=!1,As=0,Se=0,yr=0,Va=0,Zp=0,Hn=0,Xo=0,kc=null,Dn=null,tg=!1,hf=0,kb=0,ff=1/0,df=null,_r=null,Ye=0,vr=null,Qo=null,Rs=0,eg=0,ng=null,Nb=null,Nc=0,ig=null;function qn(){return(Qt&2)!==0&&zt!==0?zt&-zt:j.T!==null?cg():dh()}function Pb(){if(Hn===0)if((zt&536870912)===0||qt){var s=ua;ua<<=1,(ua&3932160)===0&&(ua=262144),Hn=s}else Hn=536870912;return s=Bn.current,s!==null&&(s.flags|=32),Hn}function Mn(s,a,c){(s===oe&&(te===2||te===9)||s.cancelPendingCommit!==null)&&(Jo(s,0),br(s,zt,Hn,!1)),ha(s,c),((Qt&2)===0||s!==oe)&&(s===oe&&((Qt&2)===0&&(Va|=c),Se===4&&br(s,zt,Hn,!1)),Ji(s))}function Lb(s,a,c){if((Qt&6)!==0)throw Error(i(327));var h=!c&&(a&127)===0&&(a&s.expiredLanes)===0||di(s,a),p=h?iI(s,a):rg(s,a,!0),y=h;do{if(p===0){Ko&&!h&&br(s,a,0,!1);break}else{if(c=s.current.alternate,y&&!eI(c)){p=rg(s,a,!1),y=!1;continue}if(p===2){if(y=a,s.errorRecoveryDisabledLanes&y)var T=0;else T=s.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){a=T;t:{var I=s;p=kc;var z=I.current.memoizedState.isDehydrated;if(z&&(Jo(I,T).flags|=256),T=rg(I,T,!1),T!==2){if(Jp&&!z){I.errorRecoveryDisabledLanes|=y,Va|=y,p=4;break t}y=Dn,Dn=p,y!==null&&(Dn===null?Dn=y:Dn.push.apply(Dn,y))}p=T}if(y=!1,p!==2)continue}}if(p===1){Jo(s,0),br(s,a,0,!0);break}t:{switch(h=s,y=p,y){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:br(h,a,Hn,!gr);break t;case 2:Dn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(p=hf+300-Tn(),10<p)){if(br(h,a,Hn,!gr),Ni(h,0,!0)!==0)break t;Rs=a,h.timeoutHandle=dT(Vb.bind(null,h,c,Dn,df,tg,a,Hn,Va,Xo,gr,y,"Throttled",-0,0),p);break t}Vb(h,c,Dn,df,tg,a,Hn,Va,Xo,gr,y,null,-0,0)}}break}while(!0);Ji(s)}function Vb(s,a,c,h,p,y,T,I,z,X,et,at,Q,Z){if(s.timeoutHandle=-1,at=a.subtreeFlags,at&8192||(at&16785408)===16785408){at={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:gi},Ib(a,y,at);var mt=(y&62914560)===y?hf-Tn():(y&4194048)===y?kb-Tn():0;if(mt=UI(at,mt),mt!==null){Rs=y,s.cancelPendingCommit=mt(Gb.bind(null,s,a,y,c,h,p,T,I,z,et,at,null,Q,Z)),br(s,y,T,!X);return}}Gb(s,a,y,c,h,p,T,I,z)}function eI(s){for(var a=s;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var p=c[h],y=p.getSnapshot;p=p.value;try{if(!zn(y(),p))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function br(s,a,c,h){a&=~Zp,a&=~Va,s.suspendedLanes|=a,s.pingedLanes&=~a,h&&(s.warmLanes|=a),h=s.expirationTimes;for(var p=a;0<p;){var y=31-Ae(p),T=1<<y;h[y]=-1,p&=~T}c!==0&&fa(s,c,a)}function mf(){return(Qt&6)===0?(Pc(0),!1):!0}function sg(){if(Nt!==null){if(te===0)var s=Nt.return;else s=Nt,gs=Ca=null,bp(s),Fo=null,yc=0,s=Nt;for(;s!==null;)mb(s.alternate,s),s=s.return;Nt=null}}function Jo(s,a){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,TI(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),Rs=0,sg(),oe=s,Nt=c=ms(s.current,null),zt=a,te=0,Fn=null,gr=!1,Ko=di(s,a),Jp=!1,Xo=Hn=Zp=Va=yr=Se=0,Dn=kc=null,tg=!1,(a&8)!==0&&(a|=a&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=a;0<h;){var p=31-Ae(h),y=1<<p;a|=s[p],h&=~y}return As=a,Nh(),c}function zb(s,a){Ot=null,j.H=xc,a===jo||a===Fh?(a=t0(),te=3):a===lp?(a=t0(),te=4):te=a===Lp?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Fn=a,Nt===null&&(Se=1,nf(s,ti(a,s.current)))}function Ub(){var s=Bn.current;return s===null?!0:(zt&4194048)===zt?si===null:(zt&62914560)===zt||(zt&536870912)!==0?s===si:!1}function Bb(){var s=j.H;return j.H=xc,s===null?xc:s}function jb(){var s=j.A;return j.A=ZC,s}function pf(){Se=4,gr||(zt&4194048)!==zt&&Bn.current!==null||(Ko=!0),(yr&134217727)===0&&(Va&134217727)===0||oe===null||br(oe,zt,Hn,!1)}function rg(s,a,c){var h=Qt;Qt|=2;var p=Bb(),y=jb();(oe!==s||zt!==a)&&(df=null,Jo(s,a)),a=!1;var T=Se;t:do try{if(te!==0&&Nt!==null){var I=Nt,z=Fn;switch(te){case 8:sg(),T=6;break t;case 3:case 2:case 9:case 6:Bn.current===null&&(a=!0);var X=te;if(te=0,Fn=null,Zo(s,I,z,X),c&&Ko){T=0;break t}break;default:X=te,te=0,Fn=null,Zo(s,I,z,X)}}nI(),T=Se;break}catch(et){zb(s,et)}while(!0);return a&&s.shellSuspendCounter++,gs=Ca=null,Qt=h,j.H=p,j.A=y,Nt===null&&(oe=null,zt=0,Nh()),T}function nI(){for(;Nt!==null;)Fb(Nt)}function iI(s,a){var c=Qt;Qt|=2;var h=Bb(),p=jb();oe!==s||zt!==a?(df=null,ff=Tn()+500,Jo(s,a)):Ko=di(s,a);t:do try{if(te!==0&&Nt!==null){a=Nt;var y=Fn;e:switch(te){case 1:te=0,Fn=null,Zo(s,a,y,1);break;case 2:case 9:if(Jv(y)){te=0,Fn=null,Hb(a);break}a=function(){te!==2&&te!==9||oe!==s||(te=7),Ji(s)},y.then(a,a);break t;case 3:te=7;break t;case 4:te=5;break t;case 7:Jv(y)?(te=0,Fn=null,Hb(a)):(te=0,Fn=null,Zo(s,a,y,7));break;case 5:var T=null;switch(Nt.tag){case 26:T=Nt.memoizedState;case 5:case 27:var I=Nt;if(T?CT(T):I.stateNode.complete){te=0,Fn=null;var z=I.sibling;if(z!==null)Nt=z;else{var X=I.return;X!==null?(Nt=X,gf(X)):Nt=null}break e}}te=0,Fn=null,Zo(s,a,y,5);break;case 6:te=0,Fn=null,Zo(s,a,y,6);break;case 8:sg(),Se=6;break t;default:throw Error(i(462))}}sI();break}catch(et){zb(s,et)}while(!0);return gs=Ca=null,j.H=h,j.A=p,Qt=c,Nt!==null?0:(oe=null,zt=0,Nh(),Se)}function sI(){for(;Nt!==null&&!Pm();)Fb(Nt)}function Fb(s){var a=fb(s.alternate,s,As);s.memoizedProps=s.pendingProps,a===null?gf(s):Nt=a}function Hb(s){var a=s,c=a.alternate;switch(a.tag){case 15:case 0:a=ab(c,a,a.pendingProps,a.type,void 0,zt);break;case 11:a=ab(c,a,a.pendingProps,a.type.render,a.ref,zt);break;case 5:bp(a);default:mb(c,a),a=Nt=jv(a,As),a=fb(c,a,As)}s.memoizedProps=s.pendingProps,a===null?gf(s):Nt=a}function Zo(s,a,c,h){gs=Ca=null,bp(a),Fo=null,yc=0;var p=a.return;try{if(YC(s,p,a,c,zt)){Se=1,nf(s,ti(c,s.current)),Nt=null;return}}catch(y){if(p!==null)throw Nt=p,y;Se=1,nf(s,ti(c,s.current)),Nt=null;return}a.flags&32768?(qt||h===1?s=!0:Ko||(zt&536870912)!==0?s=!1:(gr=s=!0,(h===2||h===9||h===3||h===6)&&(h=Bn.current,h!==null&&h.tag===13&&(h.flags|=16384))),qb(a,s)):gf(a)}function gf(s){var a=s;do{if((a.flags&32768)!==0){qb(a,gr);return}s=a.return;var c=KC(a.alternate,a,As);if(c!==null){Nt=c;return}if(a=a.sibling,a!==null){Nt=a;return}Nt=a=s}while(a!==null);Se===0&&(Se=5)}function qb(s,a){do{var c=XC(s.alternate,s);if(c!==null){c.flags&=32767,Nt=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(s=s.sibling,s!==null)){Nt=s;return}Nt=s=c}while(s!==null);Se=6,Nt=null}function Gb(s,a,c,h,p,y,T,I,z){s.cancelPendingCommit=null;do yf();while(Ye!==0);if((Qt&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(y=a.lanes|a.childLanes,y|=$m,zm(s,c,y,T,I,z),s===oe&&(Nt=oe=null,zt=0),Qo=a,vr=s,Rs=c,eg=y,ng=p,Nb=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,lI(Xs,function(){return Xb(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=j.T,j.T=null,p=it.p,it.p=2,T=Qt,Qt|=4;try{QC(s,a,c)}finally{Qt=T,it.p=p,j.T=h}}Ye=1,Yb(),$b(),Wb()}}function Yb(){if(Ye===1){Ye=0;var s=vr,a=Qo,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=j.T,j.T=null;var h=it.p;it.p=2;var p=Qt;Qt|=4;try{Ab(a,s);var y=yg,T=Ov(s.containerInfo),I=y.focusedElem,z=y.selectionRange;if(T!==I&&I&&I.ownerDocument&&Mv(I.ownerDocument.documentElement,I)){if(z!==null&&Fm(I)){var X=z.start,et=z.end;if(et===void 0&&(et=X),"selectionStart"in I)I.selectionStart=X,I.selectionEnd=Math.min(et,I.value.length);else{var at=I.ownerDocument||document,Q=at&&at.defaultView||window;if(Q.getSelection){var Z=Q.getSelection(),mt=I.textContent.length,Tt=Math.min(z.start,mt),ae=z.end===void 0?Tt:Math.min(z.end,mt);!Z.extend&&Tt>ae&&(T=ae,ae=Tt,Tt=T);var G=Dv(I,Tt),H=Dv(I,ae);if(G&&H&&(Z.rangeCount!==1||Z.anchorNode!==G.node||Z.anchorOffset!==G.offset||Z.focusNode!==H.node||Z.focusOffset!==H.offset)){var K=at.createRange();K.setStart(G.node,G.offset),Z.removeAllRanges(),Tt>ae?(Z.addRange(K),Z.extend(H.node,H.offset)):(K.setEnd(H.node,H.offset),Z.addRange(K))}}}}for(at=[],Z=I;Z=Z.parentNode;)Z.nodeType===1&&at.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<at.length;I++){var st=at[I];st.element.scrollLeft=st.left,st.element.scrollTop=st.top}}If=!!gg,yg=gg=null}finally{Qt=p,it.p=h,j.T=c}}s.current=a,Ye=2}}function $b(){if(Ye===2){Ye=0;var s=vr,a=Qo,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=j.T,j.T=null;var h=it.p;it.p=2;var p=Qt;Qt|=4;try{Tb(s,a.alternate,a)}finally{Qt=p,it.p=h,j.T=c}}Ye=3}}function Wb(){if(Ye===4||Ye===3){Ye=0,ah();var s=vr,a=Qo,c=Rs,h=Nb;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ye=5:(Ye=0,Qo=vr=null,Kb(s,s.pendingLanes));var p=s.pendingLanes;if(p===0&&(_r=null),us(c),a=a.stateNode,en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(fi,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=j.T,p=it.p,it.p=2,j.T=null;try{for(var y=s.onRecoverableError,T=0;T<h.length;T++){var I=h[T];y(I.value,{componentStack:I.stack})}}finally{j.T=a,it.p=p}}(Rs&3)!==0&&yf(),Ji(s),p=s.pendingLanes,(c&261930)!==0&&(p&42)!==0?s===ig?Nc++:(Nc=0,ig=s):Nc=0,Pc(0)}}function Kb(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,pc(a)))}function yf(){return Yb(),$b(),Wb(),Xb()}function Xb(){if(Ye!==5)return!1;var s=vr,a=eg;eg=0;var c=us(Rs),h=j.T,p=it.p;try{it.p=32>c?32:c,j.T=null,c=ng,ng=null;var y=vr,T=Rs;if(Ye=0,Qo=vr=null,Rs=0,(Qt&6)!==0)throw Error(i(331));var I=Qt;if(Qt|=4,Mb(y.current),Cb(y,y.current,T,c),Qt=I,Pc(0,!1),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(fi,y)}catch{}return!0}finally{it.p=p,j.T=h,Kb(s,a)}}function Qb(s,a,c){a=ti(c,a),a=Pp(s.stateNode,a,2),s=fr(s,a,2),s!==null&&(ha(s,2),Ji(s))}function ee(s,a,c){if(s.tag===3)Qb(s,s,c);else for(;a!==null;){if(a.tag===3){Qb(a,s,c);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(_r===null||!_r.has(h))){s=ti(c,s),c=J0(2),h=fr(a,c,2),h!==null&&(Z0(c,h,a,s),ha(h,2),Ji(h));break}}a=a.return}}function ag(s,a,c){var h=s.pingCache;if(h===null){h=s.pingCache=new tI;var p=new Set;h.set(a,p)}else p=h.get(a),p===void 0&&(p=new Set,h.set(a,p));p.has(c)||(Jp=!0,p.add(c),s=rI.bind(null,s,a,c),a.then(s,s))}function rI(s,a,c){var h=s.pingCache;h!==null&&h.delete(a),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,oe===s&&(zt&c)===c&&(Se===4||Se===3&&(zt&62914560)===zt&&300>Tn()-hf?(Qt&2)===0&&Jo(s,0):Zp|=c,Xo===zt&&(Xo=0)),Ji(s)}function Jb(s,a){a===0&&(a=fh()),s=xa(s,a),s!==null&&(ha(s,a),Ji(s))}function aI(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),Jb(s,c)}function oI(s,a){var c=0;switch(s.tag){case 31:case 13:var h=s.stateNode,p=s.memoizedState;p!==null&&(c=p.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(i(314))}h!==null&&h.delete(a),Jb(s,c)}function lI(s,a){return Ge(s,a)}var _f=null,tl=null,og=!1,vf=!1,lg=!1,Tr=0;function Ji(s){s!==tl&&s.next===null&&(tl===null?_f=tl=s:tl=tl.next=s),vf=!0,og||(og=!0,uI())}function Pc(s,a){if(!lg&&vf){lg=!0;do for(var c=!1,h=_f;h!==null;){if(s!==0){var p=h.pendingLanes;if(p===0)var y=0;else{var T=h.suspendedLanes,I=h.pingedLanes;y=(1<<31-Ae(42|s)+1)-1,y&=p&~(T&~I),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(c=!0,nT(h,y))}else y=zt,y=Ni(h,h===oe?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||di(h,y)||(c=!0,nT(h,y));h=h.next}while(c);lg=!1}}function cI(){Zb()}function Zb(){vf=og=!1;var s=0;Tr!==0&&bI()&&(s=Tr);for(var a=Tn(),c=null,h=_f;h!==null;){var p=h.next,y=tT(h,a);y===0?(h.next=null,c===null?_f=p:c.next=p,p===null&&(tl=c)):(c=h,(s!==0||(y&3)!==0)&&(vf=!0)),h=p}Ye!==0&&Ye!==5||Pc(s),Tr!==0&&(Tr=0)}function tT(s,a){for(var c=s.suspendedLanes,h=s.pingedLanes,p=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var T=31-Ae(y),I=1<<T,z=p[T];z===-1?((I&c)===0||(I&h)!==0)&&(p[T]=Vm(I,a)):z<=a&&(s.expiredLanes|=I),y&=~I}if(a=oe,c=zt,c=Ni(s,s===a?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,c===0||s===a&&(te===2||te===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&Ks(h),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||di(s,c)){if(a=c&-c,a===s.callbackPriority)return a;switch(h!==null&&Ks(h),us(c)){case 2:case 8:c=Gl;break;case 32:c=Xs;break;case 268435456:c=oh;break;default:c=Xs}return h=eT.bind(null,s),c=Ge(c,h),s.callbackPriority=a,s.callbackNode=c,a}return h!==null&&h!==null&&Ks(h),s.callbackPriority=2,s.callbackNode=null,2}function eT(s,a){if(Ye!==0&&Ye!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(yf()&&s.callbackNode!==c)return null;var h=zt;return h=Ni(s,s===oe?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:(Lb(s,h,a),tT(s,Tn()),s.callbackNode!=null&&s.callbackNode===c?eT.bind(null,s):null)}function nT(s,a){if(yf())return null;Lb(s,a,!0)}function uI(){EI(function(){(Qt&6)!==0?Ge(ql,cI):Zb()})}function cg(){if(Tr===0){var s=Uo;s===0&&(s=Oi,Oi<<=1,(Oi&261888)===0&&(Oi=256)),Tr=s}return Tr}function iT(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:wo(""+s)}function sT(s,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,s.id&&c.setAttribute("form",s.id),a.parentNode.insertBefore(c,a),s=new FormData(s),c.parentNode.removeChild(c),s}function hI(s,a,c,h,p){if(a==="submit"&&c&&c.stateNode===p){var y=iT((p[Xe]||null).action),T=h.submitter;T&&(a=(a=T[Xe]||null)?iT(a.formAction):T.getAttribute("formAction"),a!==null&&(y=a,T=null));var I=new Gi("action","action",null,h,p);s.push({event:I,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Tr!==0){var z=T?sT(p,T):new FormData(p);Ip(c,{pending:!0,data:z,method:p.method,action:y},null,z)}}else typeof y=="function"&&(I.preventDefault(),z=T?sT(p,T):new FormData(p),Ip(c,{pending:!0,data:z,method:p.method,action:y},y,z))},currentTarget:p}]})}}for(var ug=0;ug<Ym.length;ug++){var hg=Ym[ug],fI=hg.toLowerCase(),dI=hg[0].toUpperCase()+hg.slice(1);Ti(fI,"on"+dI)}Ti(Pv,"onAnimationEnd"),Ti(Lv,"onAnimationIteration"),Ti(Vv,"onAnimationStart"),Ti("dblclick","onDoubleClick"),Ti("focusin","onFocus"),Ti("focusout","onBlur"),Ti(IC,"onTransitionRun"),Ti(DC,"onTransitionStart"),Ti(MC,"onTransitionCancel"),Ti(zv,"onTransitionEnd"),ji("onMouseEnter",["mouseout","mouseover"]),ji("onMouseLeave",["mouseout","mouseover"]),ji("onPointerEnter",["pointerout","pointerover"]),ji("onPointerLeave",["pointerout","pointerover"]),Bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lc));function rT(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],p=h.event;h=h.listeners;t:{var y=void 0;if(a)for(var T=h.length-1;0<=T;T--){var I=h[T],z=I.instance,X=I.currentTarget;if(I=I.listener,z!==y&&p.isPropagationStopped())break t;y=I,p.currentTarget=X;try{y(p)}catch(et){kh(et)}p.currentTarget=null,y=z}else for(T=0;T<h.length;T++){if(I=h[T],z=I.instance,X=I.currentTarget,I=I.listener,z!==y&&p.isPropagationStopped())break t;y=I,p.currentTarget=X;try{y(p)}catch(et){kh(et)}p.currentTarget=null,y=z}}}}function Pt(s,a){var c=a[vo];c===void 0&&(c=a[vo]=new Set);var h=s+"__bubble";c.has(h)||(aT(a,s,2,!1),c.add(h))}function fg(s,a,c){var h=0;a&&(h|=4),aT(c,s,h,a)}var bf="_reactListening"+Math.random().toString(36).slice(2);function dg(s){if(!s[bf]){s[bf]=!0,Wl.forEach(function(c){c!=="selectionchange"&&(mI.has(c)||fg(c,!1,s),fg(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[bf]||(a[bf]=!0,fg("selectionchange",!1,a))}}function aT(s,a,c,h){switch(PT(a)){case 2:var p=FI;break;case 8:p=HI;break;default:p=Cg}c=p.bind(null,a,c,s),p=void 0,!ya||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),h?p!==void 0?s.addEventListener(a,c,{capture:!0,passive:p}):s.addEventListener(a,c,!0):p!==void 0?s.addEventListener(a,c,{passive:p}):s.addEventListener(a,c,!1)}function mg(s,a,c,h,p){var y=h;if((a&1)===0&&(a&2)===0&&h!==null)t:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var I=h.stateNode.containerInfo;if(I===p)break;if(T===4)for(T=h.return;T!==null;){var z=T.tag;if((z===3||z===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;I!==null;){if(T=zi(I),T===null)return;if(z=T.tag,z===5||z===6||z===26||z===27){h=y=T;continue t}I=I.parentNode}}h=h.return}nr(function(){var X=y,et=Xn(c),at=[];t:{var Q=Uv.get(s);if(Q!==void 0){var Z=Gi,mt=s;switch(s){case"keypress":if(va(c)===0)break t;case"keydown":case"keyup":Z=Dh;break;case"focusin":mt="focus",Z=Ta;break;case"focusout":mt="blur",Z=Ta;break;case"beforeblur":case"afterblur":Z=Ta;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=oc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Th;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=b;break;case Pv:case Lv:case Vv:Z=Sh;break;case zv:Z=D;break;case"scroll":case"scrollend":Z=ac;break;case"wheel":Z=J;break;case"copy":case"cut":case"paste":Z=wh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=ds;break;case"toggle":case"beforetoggle":Z=Mt}var Tt=(a&4)!==0,ae=!Tt&&(s==="scroll"||s==="scrollend"),G=Tt?Q!==null?Q+"Capture":null:Q;Tt=[];for(var H=X,K;H!==null;){var st=H;if(K=st.stateNode,st=st.tag,st!==5&&st!==26&&st!==27||K===null||G===null||(st=yi(H,G),st!=null&&Tt.push(Vc(H,st,K))),ae)break;H=H.return}0<Tt.length&&(Q=new Z(Q,mt,null,c,et),at.push({event:Q,listeners:Tt}))}}if((a&7)===0){t:{if(Q=s==="mouseover"||s==="pointerover",Z=s==="mouseout"||s==="pointerout",Q&&c!==ic&&(mt=c.relatedTarget||c.fromElement)&&(zi(mt)||mt[Li]))break t;if((Z||Q)&&(Q=et.window===et?et:(Q=et.ownerDocument)?Q.defaultView||Q.parentWindow:window,Z?(mt=c.relatedTarget||c.toElement,Z=X,mt=mt?zi(mt):null,mt!==null&&(ae=o(mt),Tt=mt.tag,mt!==ae||Tt!==5&&Tt!==27&&Tt!==6)&&(mt=null)):(Z=null,mt=X),Z!==mt)){if(Tt=oc,st="onMouseLeave",G="onMouseEnter",H="mouse",(s==="pointerout"||s==="pointerover")&&(Tt=ds,st="onPointerLeave",G="onPointerEnter",H="pointer"),ae=Z==null?Q:Ln(Z),K=mt==null?Q:Ln(mt),Q=new Tt(st,H+"leave",Z,c,et),Q.target=ae,Q.relatedTarget=K,st=null,zi(et)===X&&(Tt=new Tt(G,H+"enter",mt,c,et),Tt.target=K,Tt.relatedTarget=ae,st=Tt),ae=st,Z&&mt)e:{for(Tt=pI,G=Z,H=mt,K=0,st=G;st;st=Tt(st))K++;st=0;for(var gt=H;gt;gt=Tt(gt))st++;for(;0<K-st;)G=Tt(G),K--;for(;0<st-K;)H=Tt(H),st--;for(;K--;){if(G===H||H!==null&&G===H.alternate){Tt=G;break e}G=Tt(G),H=Tt(H)}Tt=null}else Tt=null;Z!==null&&oT(at,Q,Z,Tt,!1),mt!==null&&ae!==null&&oT(at,ae,mt,Tt,!0)}}t:{if(Q=X?Ln(X):window,Z=Q.nodeName&&Q.nodeName.toLowerCase(),Z==="select"||Z==="input"&&Q.type==="file")var $t=wv;else if(Ev(Q))if(xv)$t=AC;else{$t=wC;var pt=SC}else Z=Q.nodeName,!Z||Z.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?X&&So(X.elementType)&&($t=wv):$t=xC;if($t&&($t=$t(s,X))){Sv(at,$t,c,et);break t}pt&&pt(s,Q,X),s==="focusout"&&X&&Q.type==="number"&&X.memoizedProps.value!=null&&tc(Q,"number",Q.value)}switch(pt=X?Ln(X):window,s){case"focusin":(Ev(pt)||pt.contentEditable==="true")&&(Mo=pt,Hm=X,fc=null);break;case"focusout":fc=Hm=Mo=null;break;case"mousedown":qm=!0;break;case"contextmenu":case"mouseup":case"dragend":qm=!1,kv(at,c,et);break;case"selectionchange":if(CC)break;case"keydown":case"keyup":kv(at,c,et)}var kt;if(Xt)t:{switch(s){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else Do?Ea(s,c)&&(Ut="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Ut="onCompositionStart");Ut&&(Wi&&c.locale!=="ko"&&(Do||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&Do&&(kt=rc()):(qi=et,sc="value"in qi?qi.value:qi.textContent,Do=!0)),pt=Tf(X,Ut),0<pt.length&&(Ut=new $i(Ut,s,null,c,et),at.push({event:Ut,listeners:pt}),kt?Ut.data=kt:(kt=Io(c),kt!==null&&(Ut.data=kt)))),(kt=Jn?vC(s,c):bC(s,c))&&(Ut=Tf(X,"onBeforeInput"),0<Ut.length&&(pt=new $i("onBeforeInput","beforeinput",null,c,et),at.push({event:pt,listeners:Ut}),pt.data=kt)),hI(at,s,X,c,et)}rT(at,a)})}function Vc(s,a,c){return{instance:s,listener:a,currentTarget:c}}function Tf(s,a){for(var c=a+"Capture",h=[];s!==null;){var p=s,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=yi(s,c),p!=null&&h.unshift(Vc(s,p,y)),p=yi(s,a),p!=null&&h.push(Vc(s,p,y))),s.tag===3)return h;s=s.return}return[]}function pI(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function oT(s,a,c,h,p){for(var y=a._reactName,T=[];c!==null&&c!==h;){var I=c,z=I.alternate,X=I.stateNode;if(I=I.tag,z!==null&&z===h)break;I!==5&&I!==26&&I!==27||X===null||(z=X,p?(X=yi(c,y),X!=null&&T.unshift(Vc(c,X,z))):p||(X=yi(c,y),X!=null&&T.push(Vc(c,X,z)))),c=c.return}T.length!==0&&s.push({event:a,listeners:T})}var gI=/\r\n?/g,yI=/\u0000|\uFFFD/g;function lT(s){return(typeof s=="string"?s:""+s).replace(gI,`
`).replace(yI,"")}function cT(s,a){return a=lT(a),lT(s)===a}function re(s,a,c,h,p,y){switch(c){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||An(s,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&An(s,""+h);break;case"className":Vn(s,"class",h);break;case"tabIndex":Vn(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Vn(s,c,h);break;case"style":nc(s,h,y);break;case"data":if(a!=="object"){Vn(s,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||c!=="href")){s.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=wo(""+h),s.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(c==="formAction"?(a!=="input"&&re(s,a,"name",p.name,p,null),re(s,a,"formEncType",p.formEncType,p,null),re(s,a,"formMethod",p.formMethod,p,null),re(s,a,"formTarget",p.formTarget,p,null)):(re(s,a,"encType",p.encType,p,null),re(s,a,"method",p.method,p,null),re(s,a,"target",p.target,p,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=wo(""+h),s.setAttribute(c,h);break;case"onClick":h!=null&&(s.onclick=gi);break;case"onScroll":h!=null&&Pt("scroll",s);break;case"onScrollEnd":h!=null&&Pt("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}c=wo(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""+h):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":h===!0?s.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,h):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(c,h):s.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(c):s.setAttribute(c,h);break;case"popover":Pt("beforetoggle",s),Pt("toggle",s),To(s,"popover",h);break;case"xlinkActuate":Le(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Le(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Le(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Le(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Le(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Le(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Le(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Le(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Le(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":To(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=bh.get(c)||c,To(s,c,h))}}function pg(s,a,c,h,p,y){switch(c){case"style":nc(s,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"children":typeof h=="string"?An(s,h):(typeof h=="number"||typeof h=="bigint")&&An(s,""+h);break;case"onScroll":h!=null&&Pt("scroll",s);break;case"onScrollEnd":h!=null&&Pt("scrollend",s);break;case"onClick":h!=null&&(s.onclick=gi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kl.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(p=c.endsWith("Capture"),a=c.slice(2,p?c.length-7:void 0),y=s[Xe]||null,y=y!=null?y[c]:null,typeof y=="function"&&s.removeEventListener(a,y,p),typeof h=="function")){typeof y!="function"&&y!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(a,h,p);break t}c in s?s[c]=h:h===!0?s.setAttribute(c,""):To(s,c,h)}}}function on(s,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",s),Pt("load",s);var h=!1,p=!1,y;for(y in c)if(c.hasOwnProperty(y)){var T=c[y];if(T!=null)switch(y){case"src":h=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:re(s,a,y,T,c,null)}}p&&re(s,a,"srcSet",c.srcSet,c,null),h&&re(s,a,"src",c.src,c,null);return;case"input":Pt("invalid",s);var I=y=T=p=null,z=null,X=null;for(h in c)if(c.hasOwnProperty(h)){var et=c[h];if(et!=null)switch(h){case"name":p=et;break;case"type":T=et;break;case"checked":z=et;break;case"defaultChecked":X=et;break;case"value":y=et;break;case"defaultValue":I=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(i(137,a));break;default:re(s,a,h,et,c,null)}}yh(s,y,I,z,X,T,p,!1);return;case"select":Pt("invalid",s),h=T=y=null;for(p in c)if(c.hasOwnProperty(p)&&(I=c[p],I!=null))switch(p){case"value":y=I;break;case"defaultValue":T=I;break;case"multiple":h=I;default:re(s,a,p,I,c,null)}a=y,c=T,s.multiple=!!h,a!=null?Js(s,!!h,a,!1):c!=null&&Js(s,!!h,c,!0);return;case"textarea":Pt("invalid",s),y=p=h=null;for(T in c)if(c.hasOwnProperty(T)&&(I=c[T],I!=null))switch(T){case"value":h=I;break;case"defaultValue":p=I;break;case"children":y=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(91));break;default:re(s,a,T,I,c,null)}Zs(s,h,p,y);return;case"option":for(z in c)c.hasOwnProperty(z)&&(h=c[z],h!=null)&&(z==="selected"?s.selected=h&&typeof h!="function"&&typeof h!="symbol":re(s,a,z,h,c,null));return;case"dialog":Pt("beforetoggle",s),Pt("toggle",s),Pt("cancel",s),Pt("close",s);break;case"iframe":case"object":Pt("load",s);break;case"video":case"audio":for(h=0;h<Lc.length;h++)Pt(Lc[h],s);break;case"image":Pt("error",s),Pt("load",s);break;case"details":Pt("toggle",s);break;case"embed":case"source":case"link":Pt("error",s),Pt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in c)if(c.hasOwnProperty(X)&&(h=c[X],h!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:re(s,a,X,h,c,null)}return;default:if(So(a)){for(et in c)c.hasOwnProperty(et)&&(h=c[et],h!==void 0&&pg(s,a,et,h,c,void 0));return}}for(I in c)c.hasOwnProperty(I)&&(h=c[I],h!=null&&re(s,a,I,h,c,null))}function _I(s,a,c,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,T=null,I=null,z=null,X=null,et=null;for(Z in c){var at=c[Z];if(c.hasOwnProperty(Z)&&at!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":z=at;default:h.hasOwnProperty(Z)||re(s,a,Z,null,h,at)}}for(var Q in h){var Z=h[Q];if(at=c[Q],h.hasOwnProperty(Q)&&(Z!=null||at!=null))switch(Q){case"type":y=Z;break;case"name":p=Z;break;case"checked":X=Z;break;case"defaultChecked":et=Z;break;case"value":T=Z;break;case"defaultValue":I=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,a));break;default:Z!==at&&re(s,a,Q,Z,h,at)}}Eo(s,T,I,z,X,et,y,p);return;case"select":Z=T=I=Q=null;for(y in c)if(z=c[y],c.hasOwnProperty(y)&&z!=null)switch(y){case"value":break;case"multiple":Z=z;default:h.hasOwnProperty(y)||re(s,a,y,null,h,z)}for(p in h)if(y=h[p],z=c[p],h.hasOwnProperty(p)&&(y!=null||z!=null))switch(p){case"value":Q=y;break;case"defaultValue":I=y;break;case"multiple":T=y;default:y!==z&&re(s,a,p,y,h,z)}a=I,c=T,h=Z,Q!=null?Js(s,!!c,Q,!1):!!h!=!!c&&(a!=null?Js(s,!!c,a,!0):Js(s,!!c,c?[]:"",!1));return;case"textarea":Z=Q=null;for(I in c)if(p=c[I],c.hasOwnProperty(I)&&p!=null&&!h.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:re(s,a,I,null,h,p)}for(T in h)if(p=h[T],y=c[T],h.hasOwnProperty(T)&&(p!=null||y!=null))switch(T){case"value":Q=p;break;case"defaultValue":Z=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==y&&re(s,a,T,p,h,y)}_h(s,Q,Z);return;case"option":for(var mt in c)Q=c[mt],c.hasOwnProperty(mt)&&Q!=null&&!h.hasOwnProperty(mt)&&(mt==="selected"?s.selected=!1:re(s,a,mt,null,h,Q));for(z in h)Q=h[z],Z=c[z],h.hasOwnProperty(z)&&Q!==Z&&(Q!=null||Z!=null)&&(z==="selected"?s.selected=Q&&typeof Q!="function"&&typeof Q!="symbol":re(s,a,z,Q,h,Z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in c)Q=c[Tt],c.hasOwnProperty(Tt)&&Q!=null&&!h.hasOwnProperty(Tt)&&re(s,a,Tt,null,h,Q);for(X in h)if(Q=h[X],Z=c[X],h.hasOwnProperty(X)&&Q!==Z&&(Q!=null||Z!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,a));break;default:re(s,a,X,Q,h,Z)}return;default:if(So(a)){for(var ae in c)Q=c[ae],c.hasOwnProperty(ae)&&Q!==void 0&&!h.hasOwnProperty(ae)&&pg(s,a,ae,void 0,h,Q);for(et in h)Q=h[et],Z=c[et],!h.hasOwnProperty(et)||Q===Z||Q===void 0&&Z===void 0||pg(s,a,et,Q,h,Z);return}}for(var G in c)Q=c[G],c.hasOwnProperty(G)&&Q!=null&&!h.hasOwnProperty(G)&&re(s,a,G,null,h,Q);for(at in h)Q=h[at],Z=c[at],!h.hasOwnProperty(at)||Q===Z||Q==null&&Z==null||re(s,a,at,Q,h,Z)}function uT(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vI(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var p=c[h],y=p.transferSize,T=p.initiatorType,I=p.duration;if(y&&I&&uT(T)){for(T=0,I=p.responseEnd,h+=1;h<c.length;h++){var z=c[h],X=z.startTime;if(X>I)break;var et=z.transferSize,at=z.initiatorType;et&&uT(at)&&(z=z.responseEnd,T+=et*(z<I?1:(I-X)/(z-X)))}if(--h,a+=8*(y+T)/(p.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var gg=null,yg=null;function Ef(s){return s.nodeType===9?s:s.ownerDocument}function hT(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fT(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function _g(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var vg=null;function bI(){var s=window.event;return s&&s.type==="popstate"?s===vg?!1:(vg=s,!0):(vg=null,!1)}var dT=typeof setTimeout=="function"?setTimeout:void 0,TI=typeof clearTimeout=="function"?clearTimeout:void 0,mT=typeof Promise=="function"?Promise:void 0,EI=typeof queueMicrotask=="function"?queueMicrotask:typeof mT<"u"?function(s){return mT.resolve(null).then(s).catch(SI)}:dT;function SI(s){setTimeout(function(){throw s})}function Er(s){return s==="head"}function pT(s,a){var c=a,h=0;do{var p=c.nextSibling;if(s.removeChild(c),p&&p.nodeType===8)if(c=p.data,c==="/$"||c==="/&"){if(h===0){s.removeChild(p),sl(a);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")zc(s.ownerDocument.documentElement);else if(c==="head"){c=s.ownerDocument.head,zc(c);for(var y=c.firstChild;y;){var T=y.nextSibling,I=y.nodeName;y[Vi]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&y.rel.toLowerCase()==="stylesheet"||c.removeChild(y),y=T}}else c==="body"&&zc(s.ownerDocument.body);c=p}while(c);sl(a)}function gT(s,a){var c=s;s=0;do{var h=c.nextSibling;if(c.nodeType===1?a?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(a?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(s===0)break;s--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||s++;c=h}while(c)}function bg(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":bg(c),bo(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function wI(s,a,c,h){for(;s.nodeType===1;){var p=c;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[Vi])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==p.rel||s.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||s.getAttribute("title")!==(p.title==null?null:p.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(p.src==null?null:p.src)||s.getAttribute("type")!==(p.type==null?null:p.type)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=ri(s.nextSibling),s===null)break}return null}function xI(s,a,c){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=ri(s.nextSibling),s===null))return null;return s}function yT(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=ri(s.nextSibling),s===null))return null;return s}function Tg(s){return s.data==="$?"||s.data==="$~"}function Eg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function AI(s,a){var c=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||c.readyState!=="loading")a();else{var h=function(){a(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function ri(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var Sg=null;function _T(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"||c==="/&"){if(a===0)return ri(s.nextSibling);a--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||a++}s=s.nextSibling}return null}function vT(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(a===0)return s;a--}else c!=="/$"&&c!=="/&"||a++}s=s.previousSibling}return null}function bT(s,a,c){switch(a=Ef(c),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function zc(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);bo(s)}var ai=new Map,TT=new Set;function Sf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Cs=it.d;it.d={f:RI,r:CI,D:II,C:DI,L:MI,m:OI,X:NI,S:kI,M:PI};function RI(){var s=Cs.f(),a=mf();return s||a}function CI(s){var a=Kn(s);a!==null&&a.tag===5&&a.type==="form"?z0(a):Cs.r(s)}var el=typeof document>"u"?null:document;function ET(s,a,c){var h=el;if(h&&typeof a=="string"&&a){var p=xn(a);p='link[rel="'+s+'"][href="'+p+'"]',typeof c=="string"&&(p+='[crossorigin="'+c+'"]'),TT.has(p)||(TT.add(p),s={rel:s,crossOrigin:c,href:a},h.querySelector(p)===null&&(a=h.createElement("link"),on(a,"link",s),Pe(a),h.head.appendChild(a)))}}function II(s){Cs.D(s),ET("dns-prefetch",s,null)}function DI(s,a){Cs.C(s,a),ET("preconnect",s,a)}function MI(s,a,c){Cs.L(s,a,c);var h=el;if(h&&s&&a){var p='link[rel="preload"][as="'+xn(a)+'"]';a==="image"&&c&&c.imageSrcSet?(p+='[imagesrcset="'+xn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(p+='[imagesizes="'+xn(c.imageSizes)+'"]')):p+='[href="'+xn(s)+'"]';var y=p;switch(a){case"style":y=nl(s);break;case"script":y=il(s)}ai.has(y)||(s=_({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:s,as:a},c),ai.set(y,s),h.querySelector(p)!==null||a==="style"&&h.querySelector(Uc(y))||a==="script"&&h.querySelector(Bc(y))||(a=h.createElement("link"),on(a,"link",s),Pe(a),h.head.appendChild(a)))}}function OI(s,a){Cs.m(s,a);var c=el;if(c&&s){var h=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+xn(h)+'"][href="'+xn(s)+'"]',y=p;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=il(s)}if(!ai.has(y)&&(s=_({rel:"modulepreload",href:s},a),ai.set(y,s),c.querySelector(p)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Bc(y)))return}h=c.createElement("link"),on(h,"link",s),Pe(h),c.head.appendChild(h)}}}function kI(s,a,c){Cs.S(s,a,c);var h=el;if(h&&s){var p=Ui(h).hoistableStyles,y=nl(s);a=a||"default";var T=p.get(y);if(!T){var I={loading:0,preload:null};if(T=h.querySelector(Uc(y)))I.loading=5;else{s=_({rel:"stylesheet",href:s,"data-precedence":a},c),(c=ai.get(y))&&wg(s,c);var z=T=h.createElement("link");Pe(z),on(z,"link",s),z._p=new Promise(function(X,et){z.onload=X,z.onerror=et}),z.addEventListener("load",function(){I.loading|=1}),z.addEventListener("error",function(){I.loading|=2}),I.loading|=4,wf(T,a,h)}T={type:"stylesheet",instance:T,count:1,state:I},p.set(y,T)}}}function NI(s,a){Cs.X(s,a);var c=el;if(c&&s){var h=Ui(c).hoistableScripts,p=il(s),y=h.get(p);y||(y=c.querySelector(Bc(p)),y||(s=_({src:s,async:!0},a),(a=ai.get(p))&&xg(s,a),y=c.createElement("script"),Pe(y),on(y,"link",s),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(p,y))}}function PI(s,a){Cs.M(s,a);var c=el;if(c&&s){var h=Ui(c).hoistableScripts,p=il(s),y=h.get(p);y||(y=c.querySelector(Bc(p)),y||(s=_({src:s,async:!0,type:"module"},a),(a=ai.get(p))&&xg(s,a),y=c.createElement("script"),Pe(y),on(y,"link",s),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(p,y))}}function ST(s,a,c,h){var p=(p=St.current)?Sf(p):null;if(!p)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=nl(c.href),c=Ui(p).hoistableStyles,h=c.get(a),h||(h={type:"style",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=nl(c.href);var y=Ui(p).hoistableStyles,T=y.get(s);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,T),(y=p.querySelector(Uc(s)))&&!y._p&&(T.instance=y,T.state.loading=5),ai.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},ai.set(s,c),y||LI(p,s,c,T.state))),a&&h===null)throw Error(i(528,""));return T}if(a&&h!==null)throw Error(i(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=il(c),c=Ui(p).hoistableScripts,h=c.get(a),h||(h={type:"script",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function nl(s){return'href="'+xn(s)+'"'}function Uc(s){return'link[rel="stylesheet"]['+s+"]"}function wT(s){return _({},s,{"data-precedence":s.precedence,precedence:null})}function LI(s,a,c,h){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=s.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),on(a,"link",c),Pe(a),s.head.appendChild(a))}function il(s){return'[src="'+xn(s)+'"]'}function Bc(s){return"script[async]"+s}function xT(s,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var h=s.querySelector('style[data-href~="'+xn(c.href)+'"]');if(h)return a.instance=h,Pe(h),h;var p=_({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),Pe(h),on(h,"style",p),wf(h,c.precedence,s),a.instance=h;case"stylesheet":p=nl(c.href);var y=s.querySelector(Uc(p));if(y)return a.state.loading|=4,a.instance=y,Pe(y),y;h=wT(c),(p=ai.get(p))&&wg(h,p),y=(s.ownerDocument||s).createElement("link"),Pe(y);var T=y;return T._p=new Promise(function(I,z){T.onload=I,T.onerror=z}),on(y,"link",h),a.state.loading|=4,wf(y,c.precedence,s),a.instance=y;case"script":return y=il(c.src),(p=s.querySelector(Bc(y)))?(a.instance=p,Pe(p),p):(h=c,(p=ai.get(y))&&(h=_({},c),xg(h,p)),s=s.ownerDocument||s,p=s.createElement("script"),Pe(p),on(p,"link",h),s.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,wf(h,c.precedence,s));return a.instance}function wf(s,a,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=h.length?h[h.length-1]:null,y=p,T=0;T<h.length;T++){var I=h[T];if(I.dataset.precedence===a)y=I;else if(y!==p)break}y?y.parentNode.insertBefore(s,y.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(s,a.firstChild))}function wg(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function xg(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var xf=null;function AT(s,a,c){if(xf===null){var h=new Map,p=xf=new Map;p.set(c,h)}else p=xf,h=p.get(c),h||(h=new Map,p.set(c,h));if(h.has(s))return h;for(h.set(s,null),c=c.getElementsByTagName(s),p=0;p<c.length;p++){var y=c[p];if(!(y[Vi]||y[Ne]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(a)||"";T=s+T;var I=h.get(T);I?I.push(y):h.set(T,[y])}}return h}function RT(s,a,c){s=s.ownerDocument||s,s.head.insertBefore(c,a==="title"?s.querySelector("head > title"):null)}function VI(s,a,c){if(c===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(s=a.disabled,typeof a.precedence=="string"&&s==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function CT(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function zI(s,a,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var p=nl(h.href),y=a.querySelector(Uc(p));if(y){a=y._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=Af.bind(s),a.then(s,s)),c.state.loading|=4,c.instance=y,Pe(y);return}y=a.ownerDocument||a,h=wT(h),(p=ai.get(p))&&wg(h,p),y=y.createElement("link"),Pe(y);var T=y;T._p=new Promise(function(I,z){T.onload=I,T.onerror=z}),on(y,"link",h),c.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(c,a),(a=c.state.preload)&&(c.state.loading&3)===0&&(s.count++,c=Af.bind(s),a.addEventListener("load",c),a.addEventListener("error",c))}}var Ag=0;function UI(s,a){return s.stylesheets&&s.count===0&&Cf(s,s.stylesheets),0<s.count||0<s.imgCount?function(c){var h=setTimeout(function(){if(s.stylesheets&&Cf(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4+a);0<s.imgBytes&&Ag===0&&(Ag=62500*vI());var p=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Cf(s,s.stylesheets),s.unsuspend)){var y=s.unsuspend;s.unsuspend=null,y()}},(s.imgBytes>Ag?50:800)+a);return s.unsuspend=c,function(){s.unsuspend=null,clearTimeout(h),clearTimeout(p)}}:null}function Af(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cf(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Rf=null;function Cf(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Rf=new Map,a.forEach(BI,s),Rf=null,Af.call(s))}function BI(s,a){if(!(a.state.loading&4)){var c=Rf.get(s);if(c)var h=c.get(null);else{c=new Map,Rf.set(s,c);for(var p=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var T=p[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(c.set(T.dataset.precedence,T),h=T)}h&&c.set(null,h)}p=a.instance,T=p.getAttribute("data-precedence"),y=c.get(T)||h,y===h&&c.set(null,p),c.set(T,p),this.count++,h=Af.bind(this),p.addEventListener("load",h),p.addEventListener("error",h),y?y.parentNode.insertBefore(p,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(p,s.firstChild)),a.state.loading|=4}}var jc={$$typeof:U,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function jI(s,a,c,h,p,y,T,I,z){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pi(0),this.hiddenUpdates=Pi(null),this.identifierPrefix=h,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function IT(s,a,c,h,p,y,T,I,z,X,et,at){return s=new jI(s,a,c,T,z,X,et,at,I),a=1,y===!0&&(a|=24),y=Un(3,null,null,a),s.current=y,y.stateNode=s,a=rp(),a.refCount++,s.pooledCache=a,a.refCount++,y.memoizedState={element:h,isDehydrated:c,cache:a},cp(y),s}function DT(s){return s?(s=No,s):No}function MT(s,a,c,h,p,y){p=DT(p),h.context===null?h.context=p:h.pendingContext=p,h=hr(a),h.payload={element:c},y=y===void 0?null:y,y!==null&&(h.callback=y),c=fr(s,h,a),c!==null&&(Mn(c,s,a),vc(c,s,a))}function OT(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function Rg(s,a){OT(s,a),(s=s.alternate)&&OT(s,a)}function kT(s){if(s.tag===13||s.tag===31){var a=xa(s,67108864);a!==null&&Mn(a,s,67108864),Rg(s,67108864)}}function NT(s){if(s.tag===13||s.tag===31){var a=qn();a=da(a);var c=xa(s,a);c!==null&&Mn(c,s,a),Rg(s,a)}}var If=!0;function FI(s,a,c,h){var p=j.T;j.T=null;var y=it.p;try{it.p=2,Cg(s,a,c,h)}finally{it.p=y,j.T=p}}function HI(s,a,c,h){var p=j.T;j.T=null;var y=it.p;try{it.p=8,Cg(s,a,c,h)}finally{it.p=y,j.T=p}}function Cg(s,a,c,h){if(If){var p=Ig(h);if(p===null)mg(s,a,h,Df,c),LT(s,h);else if(GI(p,s,a,c,h))h.stopPropagation();else if(LT(s,h),a&4&&-1<qI.indexOf(s)){for(;p!==null;){var y=Kn(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=ki(y.pendingLanes);if(T!==0){var I=y;for(I.pendingLanes|=2,I.entangledLanes|=2;T;){var z=1<<31-Ae(T);I.entanglements[1]|=z,T&=~z}Ji(y),(Qt&6)===0&&(ff=Tn()+500,Pc(0))}}break;case 31:case 13:I=xa(y,2),I!==null&&Mn(I,y,2),mf(),Rg(y,2)}if(y=Ig(h),y===null&&mg(s,a,h,Df,c),y===p)break;p=y}p!==null&&h.stopPropagation()}else mg(s,a,h,null,c)}}function Ig(s){return s=Xn(s),Dg(s)}var Df=null;function Dg(s){if(Df=null,s=zi(s),s!==null){var a=o(s);if(a===null)s=null;else{var c=a.tag;if(c===13){if(s=l(a),s!==null)return s;s=null}else if(c===31){if(s=u(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Df=s,null}function PT(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ca()){case ql:return 2;case Gl:return 8;case Xs:case Lm:return 32;case oh:return 268435456;default:return 32}default:return 32}}var Mg=!1,Sr=null,wr=null,xr=null,Fc=new Map,Hc=new Map,Ar=[],qI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function LT(s,a){switch(s){case"focusin":case"focusout":Sr=null;break;case"dragenter":case"dragleave":wr=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":Fc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hc.delete(a.pointerId)}}function qc(s,a,c,h,p,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:c,eventSystemFlags:h,nativeEvent:y,targetContainers:[p]},a!==null&&(a=Kn(a),a!==null&&kT(a)),s):(s.eventSystemFlags|=h,a=s.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),s)}function GI(s,a,c,h,p){switch(a){case"focusin":return Sr=qc(Sr,s,a,c,h,p),!0;case"dragenter":return wr=qc(wr,s,a,c,h,p),!0;case"mouseover":return xr=qc(xr,s,a,c,h,p),!0;case"pointerover":var y=p.pointerId;return Fc.set(y,qc(Fc.get(y)||null,s,a,c,h,p)),!0;case"gotpointercapture":return y=p.pointerId,Hc.set(y,qc(Hc.get(y)||null,s,a,c,h,p)),!0}return!1}function VT(s){var a=zi(s.target);if(a!==null){var c=o(a);if(c!==null){if(a=c.tag,a===13){if(a=l(c),a!==null){s.blockedOn=a,mi(s.priority,function(){NT(c)});return}}else if(a===31){if(a=u(c),a!==null){s.blockedOn=a,mi(s.priority,function(){NT(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Mf(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=Ig(s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);ic=h,c.target.dispatchEvent(h),ic=null}else return a=Kn(c),a!==null&&kT(a),s.blockedOn=c,!1;a.shift()}return!0}function zT(s,a,c){Mf(s)&&c.delete(a)}function YI(){Mg=!1,Sr!==null&&Mf(Sr)&&(Sr=null),wr!==null&&Mf(wr)&&(wr=null),xr!==null&&Mf(xr)&&(xr=null),Fc.forEach(zT),Hc.forEach(zT)}function Of(s,a){s.blockedOn===a&&(s.blockedOn=null,Mg||(Mg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,YI)))}var kf=null;function UT(s){kf!==s&&(kf=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){kf===s&&(kf=null);for(var a=0;a<s.length;a+=3){var c=s[a],h=s[a+1],p=s[a+2];if(typeof h!="function"){if(Dg(h||c)===null)continue;break}var y=Kn(c);y!==null&&(s.splice(a,3),a-=3,Ip(y,{pending:!0,data:p,method:c.method,action:h},h,p))}}))}function sl(s){function a(z){return Of(z,s)}Sr!==null&&Of(Sr,s),wr!==null&&Of(wr,s),xr!==null&&Of(xr,s),Fc.forEach(a),Hc.forEach(a);for(var c=0;c<Ar.length;c++){var h=Ar[c];h.blockedOn===s&&(h.blockedOn=null)}for(;0<Ar.length&&(c=Ar[0],c.blockedOn===null);)VT(c),c.blockedOn===null&&Ar.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var p=c[h],y=c[h+1],T=p[Xe]||null;if(typeof y=="function")T||UT(c);else if(T){var I=null;if(y&&y.hasAttribute("formAction")){if(p=y,T=y[Xe]||null)I=T.formAction;else if(Dg(p)!==null)continue}else I=T.action;typeof I=="function"?c[h+1]=I:(c.splice(h,3),h-=3),UT(c)}}}function BT(){function s(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(T){return p=T})},focusReset:"manual",scroll:"manual"})}function a(){p!==null&&(p(),p=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,p=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),p!==null&&(p(),p=null)}}}function Og(s){this._internalRoot=s}Nf.prototype.render=Og.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var c=a.current,h=qn();MT(c,h,s,a,null,null)},Nf.prototype.unmount=Og.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;MT(s.current,2,null,s,null,null),mf(),a[Li]=null}};function Nf(s){this._internalRoot=s}Nf.prototype.unstable_scheduleHydration=function(s){if(s){var a=dh();s={blockedOn:null,target:s,priority:a};for(var c=0;c<Ar.length&&a!==0&&a<Ar[c].priority;c++);Ar.splice(c,0,s),c===0&&VT(s)}};var jT=t.version;if(jT!=="19.2.4")throw Error(i(527,jT,"19.2.4"));it.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=d(a),s=s!==null?g(s):null,s=s===null?null:s.stateNode,s};var $I={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pf.isDisabled&&Pf.supportsFiber)try{fi=Pf.inject($I),en=Pf}catch{}}return Yc.createRoot=function(s,a){if(!r(s))throw Error(i(299));var c=!1,h="",p=W0,y=K0,T=X0;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError)),a=IT(s,1,!1,null,null,c,h,null,p,y,T,BT),s[Li]=a.current,dg(s),new Og(a)},Yc.hydrateRoot=function(s,a,c){if(!r(s))throw Error(i(299));var h=!1,p="",y=W0,T=K0,I=X0,z=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(p=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(T=c.onCaughtError),c.onRecoverableError!==void 0&&(I=c.onRecoverableError),c.formState!==void 0&&(z=c.formState)),a=IT(s,1,!0,a,c??null,h,p,z,y,T,I,BT),a.context=DT(null),c=a.current,h=qn(),h=da(h),p=hr(h),p.callback=null,fr(c,p,h),c=h,a.current.lanes=c,ha(a,c),Ji(a),s[Li]=a.current,dg(s),new Nf(a)},Yc.version="19.2.4",Yc}var QT;function i2(){if(QT)return Pg.exports;QT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Pg.exports=n2(),Pg.exports}var s2=i2();const r2=lw(s2);var JT="popstate";function a2(n={}){function t(i,r){let{pathname:o,search:l,hash:u}=i.location;return py("",{pathname:o,search:l,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(i,r){return typeof r=="string"?r:Tu(r)}return l2(t,e,null,n)}function be(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Ri(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function o2(){return Math.random().toString(36).substring(2,10)}function ZT(n,t){return{usr:n.state,key:n.key,idx:t}}function py(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?Cl(t):t,state:e,key:t&&t.key||i||o2()}}function Tu({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function Cl(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function l2(n,t,e,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,l=r.history,u="POP",f=null,d=g();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function g(){return(l.state||{idx:null}).idx}function _(){u="POP";let R=g(),O=R==null?null:R-d;d=R,f&&f({action:u,location:A.location,delta:O})}function v(R,O){u="PUSH";let k=py(A.location,R,O);d=g()+1;let U=ZT(k,d),Y=A.createHref(k);try{l.pushState(U,"",Y)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;r.location.assign(Y)}o&&f&&f({action:u,location:A.location,delta:1})}function E(R,O){u="REPLACE";let k=py(A.location,R,O);d=g();let U=ZT(k,d),Y=A.createHref(k);l.replaceState(U,"",Y),o&&f&&f({action:u,location:A.location,delta:0})}function x(R){return c2(R)}let A={get action(){return u},get location(){return n(r,l)},listen(R){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(JT,_),f=R,()=>{r.removeEventListener(JT,_),f=null}},createHref(R){return t(r,R)},createURL:x,encodeLocation(R){let O=x(R);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:v,replace:E,go(R){return l.go(R)}};return A}function c2(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),be(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Tu(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function cw(n,t,e="/"){return u2(n,t,e,!1)}function u2(n,t,e,i){let r=typeof t=="string"?Cl(t):t,o=Bs(r.pathname||"/",e);if(o==null)return null;let l=uw(n);h2(l);let u=null;for(let f=0;u==null&&f<l.length;++f){let d=E2(o);u=b2(l[f],d,i)}return u}function uw(n,t=[],e=[],i="",r=!1){let o=(l,u,f=r,d)=>{let g={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(i)&&f)return;be(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length)}let _=zs([i,g.relativePath]),v=e.concat(g);l.children&&l.children.length>0&&(be(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),uw(l.children,t,v,_,f)),!(l.path==null&&!l.index)&&t.push({path:_,score:_2(_,l.index),routesMeta:v})};return n.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))o(l,u);else for(let f of hw(l.path))o(l,u,!0,f)}),t}function hw(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let l=hw(i.join("/")),u=[];return u.push(...l.map(f=>f===""?o:[o,f].join("/"))),r&&u.push(...l),u.map(f=>n.startsWith("/")&&f===""?"/":f)}function h2(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:v2(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var f2=/^:[\w-]+$/,d2=3,m2=2,p2=1,g2=10,y2=-2,tE=n=>n==="*";function _2(n,t){let e=n.split("/"),i=e.length;return e.some(tE)&&(i+=y2),t&&(i+=m2),e.filter(r=>!tE(r)).reduce((r,o)=>r+(f2.test(o)?d2:o===""?p2:g2),i)}function v2(n,t){return n.length===t.length&&n.slice(0,-1).every((i,r)=>i===t[r])?n[n.length-1]-t[t.length-1]:0}function b2(n,t,e=!1){let{routesMeta:i}=n,r={},o="/",l=[];for(let u=0;u<i.length;++u){let f=i[u],d=u===i.length-1,g=o==="/"?t:t.slice(o.length)||"/",_=yd({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},g),v=f.route;if(!_&&d&&e&&!i[i.length-1].route.index&&(_=yd({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!_)return null;Object.assign(r,_.params),l.push({params:r,pathname:zs([o,_.pathname]),pathnameBase:A2(zs([o,_.pathnameBase])),route:v}),_.pathnameBase!=="/"&&(o=zs([o,_.pathnameBase]))}return l}function yd(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=T2(n.path,n.caseSensitive,n.end),r=t.match(e);if(!r)return null;let o=r[0],l=o.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((d,{paramName:g,isOptional:_},v)=>{if(g==="*"){let x=u[v]||"";l=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const E=u[v];return _&&!E?d[g]=void 0:d[g]=(E||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:l,pattern:n}}function T2(n,t=!1,e=!0){Ri(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,f)=>(i.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function E2(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ri(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Bs(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}var S2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function w2(n,t="/"){let{pathname:e,search:i="",hash:r=""}=typeof n=="string"?Cl(n):n,o;return e?(e=e.replace(/\/\/+/g,"/"),e.startsWith("/")?o=eE(e.substring(1),"/"):o=eE(e,t)):o=t,{pathname:o,search:R2(i),hash:C2(r)}}function eE(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function Ug(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function x2(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function o_(n){let t=x2(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function l_(n,t,e,i=!1){let r;typeof n=="string"?r=Cl(n):(r={...n},be(!r.pathname||!r.pathname.includes("?"),Ug("?","pathname","search",r)),be(!r.pathname||!r.pathname.includes("#"),Ug("#","pathname","hash",r)),be(!r.search||!r.search.includes("#"),Ug("#","search","hash",r)));let o=n===""||r.pathname==="",l=o?"/":r.pathname,u;if(l==null)u=e;else{let _=t.length-1;if(!i&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),_-=1;r.pathname=v.join("/")}u=_>=0?t[_]:"/"}let f=w2(r,u),d=l&&l!=="/"&&l.endsWith("/"),g=(o||l===".")&&e.endsWith("/");return!f.pathname.endsWith("/")&&(d||g)&&(f.pathname+="/"),f}var zs=n=>n.join("/").replace(/\/\/+/g,"/"),A2=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),R2=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,C2=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,I2=class{constructor(n,t,e,i=!1){this.status=n,this.statusText=t||"",this.internal=i,e instanceof Error?(this.data=e.toString(),this.error=e):this.data=e}};function D2(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function M2(n){return n.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var fw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function dw(n,t){let e=n;if(typeof e!="string"||!S2.test(e))return{absoluteURL:void 0,isExternal:!1,to:e};let i=e,r=!1;if(fw)try{let o=new URL(window.location.href),l=e.startsWith("//")?new URL(o.protocol+e):new URL(e),u=Bs(l.pathname,t);l.origin===o.origin&&u!=null?e=u+l.search+l.hash:r=!0}catch{Ri(!1,`<Link to="${e}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:r,to:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var mw=["POST","PUT","PATCH","DELETE"];new Set(mw);var O2=["GET",...mw];new Set(O2);var Il=q.createContext(null);Il.displayName="DataRouter";var qd=q.createContext(null);qd.displayName="DataRouterState";var k2=q.createContext(!1),pw=q.createContext({isTransitioning:!1});pw.displayName="ViewTransition";var N2=q.createContext(new Map);N2.displayName="Fetchers";var P2=q.createContext(null);P2.displayName="Await";var $n=q.createContext(null);$n.displayName="Navigation";var ju=q.createContext(null);ju.displayName="Location";var cs=q.createContext({outlet:null,matches:[],isDataRoute:!1});cs.displayName="Route";var c_=q.createContext(null);c_.displayName="RouteError";var gw="REACT_ROUTER_ERROR",L2="REDIRECT",V2="ROUTE_ERROR_RESPONSE";function z2(n){if(n.startsWith(`${gw}:${L2}:{`))try{let t=JSON.parse(n.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function U2(n){if(n.startsWith(`${gw}:${V2}:{`))try{let t=JSON.parse(n.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new I2(t.status,t.statusText,t.data)}catch{}}function B2(n,{relative:t}={}){be(Dl(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=q.useContext($n),{hash:r,pathname:o,search:l}=Hu(n,{relative:t}),u=o;return e!=="/"&&(u=o==="/"?e:zs([e,o])),i.createHref({pathname:u,search:l,hash:r})}function Dl(){return q.useContext(ju)!=null}function ta(){return be(Dl(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(ju).location}var yw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _w(n){q.useContext($n).static||q.useLayoutEffect(n)}function Fu(){let{isDataRoute:n}=q.useContext(cs);return n?Z2():j2()}function j2(){be(Dl(),"useNavigate() may be used only in the context of a <Router> component.");let n=q.useContext(Il),{basename:t,navigator:e}=q.useContext($n),{matches:i}=q.useContext(cs),{pathname:r}=ta(),o=JSON.stringify(o_(i)),l=q.useRef(!1);return _w(()=>{l.current=!0}),q.useCallback((f,d={})=>{if(Ri(l.current,yw),!l.current)return;if(typeof f=="number"){e.go(f);return}let g=l_(f,JSON.parse(o),r,d.relative==="path");n==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:zs([t,g.pathname])),(d.replace?e.replace:e.push)(g,d.state,d)},[t,e,o,r,n])}q.createContext(null);function Hu(n,{relative:t}={}){let{matches:e}=q.useContext(cs),{pathname:i}=ta(),r=JSON.stringify(o_(e));return q.useMemo(()=>l_(n,JSON.parse(r),i,t==="path"),[n,r,i,t])}function F2(n,t){return vw(n,t)}function vw(n,t,e,i,r){be(Dl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=q.useContext($n),{matches:l}=q.useContext(cs),u=l[l.length-1],f=u?u.params:{},d=u?u.pathname:"/",g=u?u.pathnameBase:"/",_=u&&u.route;{let k=_&&_.path||"";Tw(d,!_||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let v=ta(),E;if(t){let k=typeof t=="string"?Cl(t):t;be(g==="/"||k.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${k.pathname}" was given in the \`location\` prop.`),E=k}else E=v;let x=E.pathname||"/",A=x;if(g!=="/"){let k=g.replace(/^\//,"").split("/");A="/"+x.replace(/^\//,"").split("/").slice(k.length).join("/")}let R=cw(n,{pathname:A});Ri(_||R!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Ri(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=$2(R&&R.map(k=>Object.assign({},k,{params:Object.assign({},f,k.params),pathname:zs([g,o.encodeLocation?o.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?g:zs([g,o.encodeLocation?o.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),l,e,i,r);return t&&O?q.createElement(ju.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},O):O}function H2(){let n=J2(),t=D2(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:o},"ErrorBoundary")," or"," ",q.createElement("code",{style:o},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},t),e?q.createElement("pre",{style:r},e):null,l)}var q2=q.createElement(H2,null),bw=class extends q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const e=U2(n.digest);e&&(n=e)}let t=n!==void 0?q.createElement(cs.Provider,{value:this.props.routeContext},q.createElement(c_.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?q.createElement(G2,{error:n},t):t}};bw.contextType=k2;var Bg=new WeakMap;function G2({children:n,error:t}){let{basename:e}=q.useContext($n);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let i=z2(t.digest);if(i){let r=Bg.get(t);if(r)throw r;let o=dw(i.location,e);if(fw&&!Bg.get(t))if(o.isExternal||i.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:i.replace}));throw Bg.set(t,l),l}return q.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return n}function Y2({routeContext:n,match:t,children:e}){let i=q.useContext(Il);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),q.createElement(cs.Provider,{value:n},e)}function $2(n,t=[],e=null,i=null,r=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let o=n,l=e?.errors;if(l!=null){let g=o.findIndex(_=>_.route.id&&l?.[_.route.id]!==void 0);be(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let u=!1,f=-1;if(e)for(let g=0;g<o.length;g++){let _=o[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(f=g),_.route.id){let{loaderData:v,errors:E}=e,x=_.route.loader&&!v.hasOwnProperty(_.route.id)&&(!E||E[_.route.id]===void 0);if(_.route.lazy||x){u=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}let d=e&&i?(g,_)=>{i(g,{location:e.location,params:e.matches?.[0]?.params??{},unstable_pattern:M2(e.matches),errorInfo:_})}:void 0;return o.reduceRight((g,_,v)=>{let E,x=!1,A=null,R=null;e&&(E=l&&_.route.id?l[_.route.id]:void 0,A=_.route.errorElement||q2,u&&(f<0&&v===0?(Tw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,R=null):f===v&&(x=!0,R=_.route.hydrateFallbackElement||null)));let O=t.concat(o.slice(0,v+1)),k=()=>{let U;return E?U=A:x?U=R:_.route.Component?U=q.createElement(_.route.Component,null):_.route.element?U=_.route.element:U=g,q.createElement(Y2,{match:_,routeContext:{outlet:g,matches:O,isDataRoute:e!=null},children:U})};return e&&(_.route.ErrorBoundary||_.route.errorElement||v===0)?q.createElement(bw,{location:e.location,revalidation:e.revalidation,component:A,error:E,children:k(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:d}):k()},null)}function u_(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function W2(n){let t=q.useContext(Il);return be(t,u_(n)),t}function K2(n){let t=q.useContext(qd);return be(t,u_(n)),t}function X2(n){let t=q.useContext(cs);return be(t,u_(n)),t}function h_(n){let t=X2(n),e=t.matches[t.matches.length-1];return be(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function Q2(){return h_("useRouteId")}function J2(){let n=q.useContext(c_),t=K2("useRouteError"),e=h_("useRouteError");return n!==void 0?n:t.errors?.[e]}function Z2(){let{router:n}=W2("useNavigate"),t=h_("useNavigate"),e=q.useRef(!1);return _w(()=>{e.current=!0}),q.useCallback(async(r,o={})=>{Ri(e.current,yw),e.current&&(typeof r=="number"?await n.navigate(r):await n.navigate(r,{fromRouteId:t,...o}))},[n,t])}var nE={};function Tw(n,t,e){!t&&!nE[n]&&(nE[n]=!0,Ri(!1,e))}q.memo(tD);function tD({routes:n,future:t,state:e,onError:i}){return vw(n,void 0,e,i,t)}function gy({to:n,replace:t,state:e,relative:i}){be(Dl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=q.useContext($n);Ri(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=q.useContext(cs),{pathname:l}=ta(),u=Fu(),f=l_(n,o_(o),l,i==="path"),d=JSON.stringify(f);return q.useEffect(()=>{u(JSON.parse(d),{replace:t,state:e,relative:i})},[u,d,i,t,e]),null}function Fa(n){be(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function eD({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:r,static:o=!1,unstable_useTransitions:l}){be(!Dl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),f=q.useMemo(()=>({basename:u,navigator:r,static:o,unstable_useTransitions:l,future:{}}),[u,r,o,l]);typeof e=="string"&&(e=Cl(e));let{pathname:d="/",search:g="",hash:_="",state:v=null,key:E="default"}=e,x=q.useMemo(()=>{let A=Bs(d,u);return A==null?null:{location:{pathname:A,search:g,hash:_,state:v,key:E},navigationType:i}},[u,d,g,_,v,E,i]);return Ri(x!=null,`<Router basename="${u}"> is not able to match the URL "${d}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:q.createElement($n.Provider,{value:f},q.createElement(ju.Provider,{children:t,value:x}))}function nD({children:n,location:t}){return F2(yy(n),t)}function yy(n,t=[]){let e=[];return q.Children.forEach(n,(i,r)=>{if(!q.isValidElement(i))return;let o=[...t,r];if(i.type===q.Fragment){e.push.apply(e,yy(i.props.children,o));return}be(i.type===Fa,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),be(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=yy(i.props.children,o)),e.push(l)}),e}var nd="get",id="application/x-www-form-urlencoded";function Gd(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function iD(n){return Gd(n)&&n.tagName.toLowerCase()==="button"}function sD(n){return Gd(n)&&n.tagName.toLowerCase()==="form"}function rD(n){return Gd(n)&&n.tagName.toLowerCase()==="input"}function aD(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function oD(n,t){return n.button===0&&(!t||t==="_self")&&!aD(n)}var Lf=null;function lD(){if(Lf===null)try{new FormData(document.createElement("form"),0),Lf=!1}catch{Lf=!0}return Lf}var cD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jg(n){return n!=null&&!cD.has(n)?(Ri(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${id}"`),null):n}function uD(n,t){let e,i,r,o,l;if(sD(n)){let u=n.getAttribute("action");i=u?Bs(u,t):null,e=n.getAttribute("method")||nd,r=jg(n.getAttribute("enctype"))||id,o=new FormData(n)}else if(iD(n)||rD(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||u.getAttribute("action");if(i=f?Bs(f,t):null,e=n.getAttribute("formmethod")||u.getAttribute("method")||nd,r=jg(n.getAttribute("formenctype"))||jg(u.getAttribute("enctype"))||id,o=new FormData(u,n),!lD()){let{name:d,type:g,value:_}=n;if(g==="image"){let v=d?`${d}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else d&&o.append(d,_)}}else{if(Gd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=nd,i=null,r=id,l=n}return o&&r==="text/plain"&&(l=o,o=void 0),{action:i,method:e.toLowerCase(),encType:r,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function f_(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function hD(n,t,e,i){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e?r.pathname.endsWith("/")?r.pathname=`${r.pathname}_.${i}`:r.pathname=`${r.pathname}.${i}`:r.pathname==="/"?r.pathname=`_root.${i}`:t&&Bs(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function fD(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dD(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function mD(n,t,e){let i=await Promise.all(n.map(async r=>{let o=t.routes[r.route.id];if(o){let l=await fD(o,e);return l.links?l.links():[]}return[]}));return _D(i.flat(1).filter(dD).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function iE(n,t,e,i,r,o){let l=(f,d)=>e[d]?f.route.id!==e[d].route.id:!0,u=(f,d)=>e[d].pathname!==f.pathname||e[d].route.path?.endsWith("*")&&e[d].params["*"]!==f.params["*"];return o==="assets"?t.filter((f,d)=>l(f,d)||u(f,d)):o==="data"?t.filter((f,d)=>{let g=i.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(l(f,d)||u(f,d))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function pD(n,t,{includeHydrateFallback:e}={}){return gD(n.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function gD(n){return[...new Set(n)]}function yD(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function _D(n,t){let e=new Set;return new Set(t),n.reduce((i,r)=>{let o=JSON.stringify(yD(r));return e.has(o)||(e.add(o),i.push({key:o,link:r})),i},[])}function Ew(){let n=q.useContext(Il);return f_(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function vD(){let n=q.useContext(qd);return f_(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var d_=q.createContext(void 0);d_.displayName="FrameworkContext";function Sw(){let n=q.useContext(d_);return f_(n,"You must render this element inside a <HydratedRouter> element"),n}function bD(n,t){let e=q.useContext(d_),[i,r]=q.useState(!1),[o,l]=q.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:d,onMouseLeave:g,onTouchStart:_}=t,v=q.useRef(null);q.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let A=O=>{O.forEach(k=>{l(k.isIntersecting)})},R=new IntersectionObserver(A,{threshold:.5});return v.current&&R.observe(v.current),()=>{R.disconnect()}}},[n]),q.useEffect(()=>{if(i){let A=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(A)}}},[i]);let E=()=>{r(!0)},x=()=>{r(!1),l(!1)};return e?n!=="intent"?[o,v,{}]:[o,v,{onFocus:$c(u,E),onBlur:$c(f,x),onMouseEnter:$c(d,E),onMouseLeave:$c(g,x),onTouchStart:$c(_,E)}]:[!1,v,{}]}function $c(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function TD({page:n,...t}){let{router:e}=Ew(),i=q.useMemo(()=>cw(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?q.createElement(SD,{page:n,matches:i,...t}):null}function ED(n){let{manifest:t,routeModules:e}=Sw(),[i,r]=q.useState([]);return q.useEffect(()=>{let o=!1;return mD(n,t,e).then(l=>{o||r(l)}),()=>{o=!0}},[n,t,e]),i}function SD({page:n,matches:t,...e}){let i=ta(),{future:r,manifest:o,routeModules:l}=Sw(),{basename:u}=Ew(),{loaderData:f,matches:d}=vD(),g=q.useMemo(()=>iE(n,t,d,o,i,"data"),[n,t,d,o,i]),_=q.useMemo(()=>iE(n,t,d,o,i,"assets"),[n,t,d,o,i]),v=q.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let A=new Set,R=!1;if(t.forEach(k=>{let U=o.routes[k.route.id];!U||!U.hasLoader||(!g.some(Y=>Y.route.id===k.route.id)&&k.route.id in f&&l[k.route.id]?.shouldRevalidate||U.hasClientLoader?R=!0:A.add(k.route.id))}),A.size===0)return[];let O=hD(n,u,r.unstable_trailingSlashAwareDataRequests,"data");return R&&A.size>0&&O.searchParams.set("_routes",t.filter(k=>A.has(k.route.id)).map(k=>k.route.id).join(",")),[O.pathname+O.search]},[u,r.unstable_trailingSlashAwareDataRequests,f,i,o,g,t,n,l]),E=q.useMemo(()=>pD(_,o),[_,o]),x=ED(_);return q.createElement(q.Fragment,null,v.map(A=>q.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...e})),E.map(A=>q.createElement("link",{key:A,rel:"modulepreload",href:A,...e})),x.map(({key:A,link:R})=>q.createElement("link",{key:A,nonce:e.nonce,...R,crossOrigin:R.crossOrigin??e.crossOrigin})))}function wD(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var xD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xD&&(window.__reactRouterVersion="7.13.0")}catch{}function AD({basename:n,children:t,unstable_useTransitions:e,window:i}){let r=q.useRef();r.current==null&&(r.current=a2({window:i,v5Compat:!0}));let o=r.current,[l,u]=q.useState({action:o.action,location:o.location}),f=q.useCallback(d=>{e===!1?u(d):q.startTransition(()=>u(d))},[e]);return q.useLayoutEffect(()=>o.listen(f),[o,f]),q.createElement(eD,{basename:n,children:t,location:l.location,navigationType:l.action,navigator:o,unstable_useTransitions:e})}var ww=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,js=q.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:r,reloadDocument:o,replace:l,state:u,target:f,to:d,preventScrollReset:g,viewTransition:_,unstable_defaultShouldRevalidate:v,...E},x){let{basename:A,unstable_useTransitions:R}=q.useContext($n),O=typeof d=="string"&&ww.test(d),k=dw(d,A);d=k.to;let U=B2(d,{relative:r}),[Y,$,tt]=bD(i,E),w=DD(d,{replace:l,state:u,target:f,preventScrollReset:g,relative:r,viewTransition:_,unstable_defaultShouldRevalidate:v,unstable_useTransitions:R});function C(V){t&&t(V),V.defaultPrevented||w(V)}let M=q.createElement("a",{...E,...tt,href:k.absoluteURL||U,onClick:k.isExternal||o?t:C,ref:wD(x,$),target:f,"data-discover":!O&&e==="render"?"true":void 0});return Y&&!O?q.createElement(q.Fragment,null,M,q.createElement(TD,{page:U})):M});js.displayName="Link";var RD=q.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:r=!1,style:o,to:l,viewTransition:u,children:f,...d},g){let _=Hu(l,{relative:d.relative}),v=ta(),E=q.useContext(qd),{navigator:x,basename:A}=q.useContext($n),R=E!=null&&PD(_)&&u===!0,O=x.encodeLocation?x.encodeLocation(_).pathname:_.pathname,k=v.pathname,U=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;e||(k=k.toLowerCase(),U=U?U.toLowerCase():null,O=O.toLowerCase()),U&&A&&(U=Bs(U,A)||U);const Y=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let $=k===O||!r&&k.startsWith(O)&&k.charAt(Y)==="/",tt=U!=null&&(U===O||!r&&U.startsWith(O)&&U.charAt(O.length)==="/"),w={isActive:$,isPending:tt,isTransitioning:R},C=$?t:void 0,M;typeof i=="function"?M=i(w):M=[i,$?"active":null,tt?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let V=typeof o=="function"?o(w):o;return q.createElement(js,{...d,"aria-current":C,className:M,ref:g,style:V,to:l,viewTransition:u},typeof f=="function"?f(w):f)});RD.displayName="NavLink";var CD=q.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:r,state:o,method:l=nd,action:u,onSubmit:f,relative:d,preventScrollReset:g,viewTransition:_,unstable_defaultShouldRevalidate:v,...E},x)=>{let{unstable_useTransitions:A}=q.useContext($n),R=kD(),O=ND(u,{relative:d}),k=l.toLowerCase()==="get"?"get":"post",U=typeof u=="string"&&ww.test(u),Y=$=>{if(f&&f($),$.defaultPrevented)return;$.preventDefault();let tt=$.nativeEvent.submitter,w=tt?.getAttribute("formmethod")||l,C=()=>R(tt||$.currentTarget,{fetcherKey:t,method:w,navigate:e,replace:r,state:o,relative:d,preventScrollReset:g,viewTransition:_,unstable_defaultShouldRevalidate:v});A&&e!==!1?q.startTransition(()=>C()):C()};return q.createElement("form",{ref:x,method:k,action:O,onSubmit:i?f:Y,...E,"data-discover":!U&&n==="render"?"true":void 0})});CD.displayName="Form";function ID(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xw(n){let t=q.useContext(Il);return be(t,ID(n)),t}function DD(n,{target:t,replace:e,state:i,preventScrollReset:r,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:u,unstable_useTransitions:f}={}){let d=Fu(),g=ta(),_=Hu(n,{relative:o});return q.useCallback(v=>{if(oD(v,t)){v.preventDefault();let E=e!==void 0?e:Tu(g)===Tu(_),x=()=>d(n,{replace:E,state:i,preventScrollReset:r,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:u});f?q.startTransition(()=>x()):x()}},[g,d,_,e,i,t,n,r,o,l,u,f])}var MD=0,OD=()=>`__${String(++MD)}__`;function kD(){let{router:n}=xw("useSubmit"),{basename:t}=q.useContext($n),e=Q2(),i=n.fetch,r=n.navigate;return q.useCallback(async(o,l={})=>{let{action:u,method:f,encType:d,formData:g,body:_}=uD(o,t);if(l.navigate===!1){let v=l.fetcherKey||OD();await i(v,e,l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:g,body:_,formMethod:l.method||f,formEncType:l.encType||d,flushSync:l.flushSync})}else await r(l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:g,body:_,formMethod:l.method||f,formEncType:l.encType||d,replace:l.replace,state:l.state,fromRouteId:e,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,r,t,e])}function ND(n,{relative:t}={}){let{basename:e}=q.useContext($n),i=q.useContext(cs);be(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...Hu(n||".",{relative:t})},l=ta();if(n==null){o.search=l.search;let u=new URLSearchParams(o.search),f=u.getAll("index");if(f.some(g=>g==="")){u.delete("index"),f.filter(_=>_).forEach(_=>u.append("index",_));let g=u.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:zs([e,o.pathname])),Tu(o)}function PD(n,{relative:t}={}){let e=q.useContext(pw);be(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=xw("useViewTransitionState"),r=Hu(n,{relative:t});if(!e.isTransitioning)return!1;let o=Bs(e.currentLocation.pathname,i)||e.currentLocation.pathname,l=Bs(e.nextLocation.pathname,i)||e.nextLocation.pathname;return yd(r.pathname,l)!=null||yd(r.pathname,o)!=null}const LD=()=>{};var sE={};const Aw=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},VD=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[e++],l=n[e++],u=n[e++],f=((r&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],l=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|l&63)}}return t.join("")},Rw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],l=r+1<n.length,u=l?n[r+1]:0,f=r+2<n.length,d=f?n[r+2]:0,g=o>>2,_=(o&3)<<4|u>>4;let v=(u&15)<<2|d>>6,E=d&63;f||(E=64,l||(v=64)),i.push(e[g],e[_],e[v],e[E])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(Aw(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):VD(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],u=r<n.length?e[n.charAt(r)]:0;++r;const d=r<n.length?e[n.charAt(r)]:64;++r;const _=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||u==null||d==null||_==null)throw new zD;const v=o<<2|u>>4;if(i.push(v),d!==64){const E=u<<4&240|d>>2;if(i.push(E),_!==64){const x=d<<6&192|_;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class zD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UD=function(n){const t=Aw(n);return Rw.encodeByteArray(t,!0)},_d=function(n){return UD(n).replace(/\./g,"")},Cw=function(n){try{return Rw.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function BD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const jD=()=>BD().__FIREBASE_DEFAULTS__,FD=()=>{if(typeof process>"u"||typeof sE>"u")return;const n=sE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},HD=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&Cw(n[1]);return t&&JSON.parse(t)},Yd=()=>{try{return LD()||jD()||FD()||HD()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Iw=n=>Yd()?.emulatorHosts?.[n],qD=n=>{const t=Iw(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},Dw=()=>Yd()?.config,Mw=n=>Yd()?.[`_${n}`];class GD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}function Ml(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ow(n){return(await fetch(n,{credentials:"include"})).ok}function YD(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[_d(JSON.stringify(e)),_d(JSON.stringify(l)),""].join(".")}const hu={};function $D(){const n={prod:[],emulator:[]};for(const t of Object.keys(hu))hu[t]?n.emulator.push(t):n.prod.push(t);return n}function WD(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let rE=!1;function kw(n,t){if(typeof window>"u"||typeof document>"u"||!Ml(window.location.host)||hu[n]===t||hu[n]||rE)return;hu[n]=t;function e(v){return`__firebase__banner__${v}`}const i="__firebase__banner",o=$D().prod.length>0;function l(){const v=document.getElementById(i);v&&v.remove()}function u(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,E){v.setAttribute("width","24"),v.setAttribute("id",E),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function d(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{rE=!0,l()},v}function g(v,E){v.setAttribute("id",E),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function _(){const v=WD(i),E=e("text"),x=document.getElementById(E)||document.createElement("span"),A=e("learnmore"),R=document.getElementById(A)||document.createElement("a"),O=e("preprendIcon"),k=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const U=v.element;u(U),g(R,A);const Y=d();f(k,O),U.append(k,x,R,Y),document.body.appendChild(U)}o?(x.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function _n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}function XD(){const n=Yd()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JD(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function ZD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tM(){const n=_n();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function eM(){return!XD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nM(){try{return typeof indexedDB=="object"}catch{return!1}}function iM(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{t(r.error?.message||"")}}catch(e){t(e)}})}const sM="FirebaseError";class $s extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=sM,Object.setPrototypeOf(this,$s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qu.prototype.create)}}class qu{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],l=o?rM(o,i):"Error",u=`${this.serviceName}: ${l} (${r}).`;return new $s(r,u,i)}}function rM(n,t){return n.replace(aM,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const aM=/\{\$([^}]+)}/g;function oM(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Qa(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const o=n[r],l=t[r];if(aE(o)&&aE(l)){if(!Qa(o,l))return!1}else if(o!==l)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function aE(n){return n!==null&&typeof n=="object"}function Gu(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function eu(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(o)}}),t}function nu(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function lM(n,t){const e=new cM(n,t);return e.subscribe.bind(e)}class cM{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");uM(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=Fg),r.error===void 0&&(r.error=Fg),r.complete===void 0&&(r.complete=Fg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uM(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Fg(){}function Ke(n){return n&&n._delegate?n._delegate:n}class Ja{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ha="[DEFAULT]";class hM{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new GD;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(dM(t))try{this.getOrInitializeService({instanceIdentifier:Ha})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=Ha){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ha){return this.instances.has(t)}getOptions(t=Ha){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);i===u&&l.resolve(r)}return r}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&t(o,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:fM(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Ha){return this.component?this.component.multipleInstances?t:Ha:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fM(n){return n===Ha?void 0:n}function dM(n){return n.instantiationMode==="EAGER"}class mM{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new hM(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var Bt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Bt||(Bt={}));const pM={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},gM=Bt.INFO,yM={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},_M=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=yM[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class m_{constructor(t){this.name=t,this._logLevel=gM,this._logHandler=_M,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?pM[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...t),this._logHandler(this,Bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...t),this._logHandler(this,Bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...t),this._logHandler(this,Bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...t),this._logHandler(this,Bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...t),this._logHandler(this,Bt.ERROR,...t)}}const vM=(n,t)=>t.some(e=>n instanceof e);let oE,lE;function bM(){return oE||(oE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TM(){return lE||(lE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Nw=new WeakMap,_y=new WeakMap,Pw=new WeakMap,Hg=new WeakMap,p_=new WeakMap;function EM(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{e(zr(n.result)),r()},l=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",l)});return t.then(e=>{e instanceof IDBCursor&&Nw.set(e,n)}).catch(()=>{}),p_.set(t,n),t}function SM(n){if(_y.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{e(),r()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});_y.set(n,t)}let vy={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return _y.get(n);if(t==="objectStoreNames")return n.objectStoreNames||Pw.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return zr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function wM(n){vy=n(vy)}function xM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(qg(this),t,...e);return Pw.set(i,t.sort?t.sort():[t]),zr(i)}:TM().includes(n)?function(...t){return n.apply(qg(this),t),zr(Nw.get(this))}:function(...t){return zr(n.apply(qg(this),t))}}function AM(n){return typeof n=="function"?xM(n):(n instanceof IDBTransaction&&SM(n),vM(n,bM())?new Proxy(n,vy):n)}function zr(n){if(n instanceof IDBRequest)return EM(n);if(Hg.has(n))return Hg.get(n);const t=AM(n);return t!==n&&(Hg.set(n,t),p_.set(t,n)),t}const qg=n=>p_.get(n);function RM(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){const l=indexedDB.open(n,t),u=zr(l);return i&&l.addEventListener("upgradeneeded",f=>{i(zr(l.result),f.oldVersion,f.newVersion,zr(l.transaction),f)}),e&&l.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),u.then(f=>{o&&f.addEventListener("close",()=>o()),r&&f.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const CM=["get","getKey","getAll","getAllKeys","count"],IM=["put","add","delete","clear"],Gg=new Map;function cE(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Gg.get(t))return Gg.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=IM.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||CM.includes(e)))return;const o=async function(l,...u){const f=this.transaction(l,r?"readwrite":"readonly");let d=f.store;return i&&(d=d.index(u.shift())),(await Promise.all([d[e](...u),r&&f.done]))[0]};return Gg.set(t,o),o}wM(n=>({...n,get:(t,e,i)=>cE(t,e)||n.get(t,e,i),has:(t,e)=>!!cE(t,e)||n.has(t,e)}));class DM{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(MM(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function MM(n){return n.getComponent()?.type==="VERSION"}const by="@firebase/app",uE="0.14.8";const Fs=new m_("@firebase/app"),OM="@firebase/app-compat",kM="@firebase/analytics-compat",NM="@firebase/analytics",PM="@firebase/app-check-compat",LM="@firebase/app-check",VM="@firebase/auth",zM="@firebase/auth-compat",UM="@firebase/database",BM="@firebase/data-connect",jM="@firebase/database-compat",FM="@firebase/functions",HM="@firebase/functions-compat",qM="@firebase/installations",GM="@firebase/installations-compat",YM="@firebase/messaging",$M="@firebase/messaging-compat",WM="@firebase/performance",KM="@firebase/performance-compat",XM="@firebase/remote-config",QM="@firebase/remote-config-compat",JM="@firebase/storage",ZM="@firebase/storage-compat",tO="@firebase/firestore",eO="@firebase/ai",nO="@firebase/firestore-compat",iO="firebase",sO="12.9.0";const Ty="[DEFAULT]",rO={[by]:"fire-core",[OM]:"fire-core-compat",[NM]:"fire-analytics",[kM]:"fire-analytics-compat",[LM]:"fire-app-check",[PM]:"fire-app-check-compat",[VM]:"fire-auth",[zM]:"fire-auth-compat",[UM]:"fire-rtdb",[BM]:"fire-data-connect",[jM]:"fire-rtdb-compat",[FM]:"fire-fn",[HM]:"fire-fn-compat",[qM]:"fire-iid",[GM]:"fire-iid-compat",[YM]:"fire-fcm",[$M]:"fire-fcm-compat",[WM]:"fire-perf",[KM]:"fire-perf-compat",[XM]:"fire-rc",[QM]:"fire-rc-compat",[JM]:"fire-gcs",[ZM]:"fire-gcs-compat",[tO]:"fire-fst",[nO]:"fire-fst-compat",[eO]:"fire-vertex","fire-js":"fire-js",[iO]:"fire-js-all"};const vd=new Map,aO=new Map,Ey=new Map;function hE(n,t){try{n.container.addComponent(t)}catch(e){Fs.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function vl(n){const t=n.name;if(Ey.has(t))return Fs.debug(`There were multiple attempts to register component ${t}.`),!1;Ey.set(t,n);for(const e of vd.values())hE(e,n);for(const e of aO.values())hE(e,n);return!0}function g_(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function li(n){return n==null?!1:n.settings!==void 0}const oO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ur=new qu("app","Firebase",oO);class lO{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ja("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ur.create("app-deleted",{appName:this._name})}}const Ol=sO;function Lw(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:Ty,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw Ur.create("bad-app-name",{appName:String(r)});if(e||(e=Dw()),!e)throw Ur.create("no-options");const o=vd.get(r);if(o){if(Qa(e,o.options)&&Qa(i,o.config))return o;throw Ur.create("duplicate-app",{appName:r})}const l=new mM(r);for(const f of Ey.values())l.addComponent(f);const u=new lO(e,i,l);return vd.set(r,u),u}function Vw(n=Ty){const t=vd.get(n);if(!t&&n===Ty&&Dw())return Lw();if(!t)throw Ur.create("no-app",{appName:n});return t}function Br(n,t,e){let i=rO[n]??n;e&&(i+=`-${e}`);const r=i.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const l=[`Unable to register library "${i}" with version "${t}":`];r&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&l.push("and"),o&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Fs.warn(l.join(" "));return}vl(new Ja(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const cO="firebase-heartbeat-database",uO=1,Eu="firebase-heartbeat-store";let Yg=null;function zw(){return Yg||(Yg=RM(cO,uO,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Eu)}catch(e){console.warn(e)}}}}).catch(n=>{throw Ur.create("idb-open",{originalErrorMessage:n.message})})),Yg}async function hO(n){try{const e=(await zw()).transaction(Eu),i=await e.objectStore(Eu).get(Uw(n));return await e.done,i}catch(t){if(t instanceof $s)Fs.warn(t.message);else{const e=Ur.create("idb-get",{originalErrorMessage:t?.message});Fs.warn(e.message)}}}async function fE(n,t){try{const i=(await zw()).transaction(Eu,"readwrite");await i.objectStore(Eu).put(t,Uw(n)),await i.done}catch(e){if(e instanceof $s)Fs.warn(e.message);else{const i=Ur.create("idb-set",{originalErrorMessage:e?.message});Fs.warn(i.message)}}}function Uw(n){return`${n.name}!${n.options.appId}`}const fO=1024,dO=30;class mO{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new gO(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=dE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>dO){const r=yO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Fs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=dE(),{heartbeatsToSend:e,unsentEntries:i}=pO(this._heartbeatsCache.heartbeats),r=_d(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return Fs.warn(t),""}}}function dE(){return new Date().toISOString().substring(0,10)}function pO(n,t=fO){const e=[];let i=n.slice();for(const r of n){const o=e.find(l=>l.agent===r.agent);if(o){if(o.dates.push(r.date),mE(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),mE(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class gO{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nM()?iM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await hO(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return fE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return fE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function mE(n){return _d(JSON.stringify({version:2,heartbeats:n})).length}function yO(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}function _O(n){vl(new Ja("platform-logger",t=>new DM(t),"PRIVATE")),vl(new Ja("heartbeat",t=>new mO(t),"PRIVATE")),Br(by,uE,n),Br(by,uE,"esm2020"),Br("fire-js","")}_O("");var vO="firebase",bO="12.9.0";Br(vO,bO,"app");function Bw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TO=Bw,jw=new qu("auth","Firebase",Bw());const bd=new m_("@firebase/auth");function EO(n,...t){bd.logLevel<=Bt.WARN&&bd.warn(`Auth (${Ol}): ${n}`,...t)}function sd(n,...t){bd.logLevel<=Bt.ERROR&&bd.error(`Auth (${Ol}): ${n}`,...t)}function Ci(n,...t){throw y_(n,...t)}function ns(n,...t){return y_(n,...t)}function Fw(n,t,e){const i={...TO(),[t]:e};return new qu("auth","Firebase",i).create(t,{appName:n.name})}function Us(n){return Fw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function y_(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return jw.create(n,...t)}function wt(n,t,...e){if(!n)throw y_(t,...e)}function ks(n){const t="INTERNAL ASSERTION FAILED: "+n;throw sd(t),new Error(t)}function Hs(n,t){n||ks(t)}function Sy(){return typeof self<"u"&&self.location?.href||""}function SO(){return pE()==="http:"||pE()==="https:"}function pE(){return typeof self<"u"&&self.location?.protocol||null}function wO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SO()||JD()||"connection"in navigator)?navigator.onLine:!0}function xO(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Yu{constructor(t,e){this.shortDelay=t,this.longDelay=e,Hs(e>t,"Short delay should be less than long delay!"),this.isMobile=KD()||ZD()}get(){return wO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function __(n,t){Hs(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class Hw{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ks("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ks("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ks("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const AO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const RO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CO=new Yu(3e4,6e4);function ea(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function na(n,t,e,i,r={}){return qw(n,r,async()=>{let o={},l={};i&&(t==="GET"?l=i:o={body:JSON.stringify(i)});const u=Gu({key:n.config.apiKey,...l}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d={method:t,headers:f,...o};return QD()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&Ml(n.emulatorConfig.host)&&(d.credentials="include"),Hw.fetch()(await Gw(n,n.config.apiHost,e,u),d)})}async function qw(n,t,e){n._canInitEmulator=!1;const i={...AO,...t};try{const r=new DO(n),o=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Vf(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[f,d]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vf(n,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw Vf(n,"email-already-in-use",l);if(f==="USER_DISABLED")throw Vf(n,"user-disabled",l);const g=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Fw(n,g,d);Ci(n,g)}}catch(r){if(r instanceof $s)throw r;Ci(n,"network-request-failed",{message:String(r)})}}async function $u(n,t,e,i,r={}){const o=await na(n,t,e,i,r);return"mfaPendingCredential"in o&&Ci(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function Gw(n,t,e,i){const r=`${t}${e}?${i}`,o=n,l=o.config.emulator?__(n.config,r):`${n.config.apiScheme}://${r}`;return RO.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function IO(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class DO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(ns(this.auth,"network-request-failed")),CO.get())})}}function Vf(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=ns(n,t,i);return r.customData._tokenResponse=e,r}function gE(n){return n!==void 0&&n.enterprise!==void 0}class MO{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return IO(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function OO(n,t){return na(n,"GET","/v2/recaptchaConfig",ea(n,t))}async function kO(n,t){return na(n,"POST","/v1/accounts:delete",t)}async function Td(n,t){return na(n,"POST","/v1/accounts:lookup",t)}function fu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function NO(n,t=!1){const e=Ke(n),i=await e.getIdToken(t),r=v_(i);wt(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,l=o?.sign_in_provider;return{claims:r,token:i,authTime:fu($g(r.auth_time)),issuedAtTime:fu($g(r.iat)),expirationTime:fu($g(r.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function $g(n){return Number(n)*1e3}function v_(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return sd("JWT malformed, contained fewer than 3 sections"),null;try{const r=Cw(e);return r?JSON.parse(r):(sd("Failed to decode base64 JWT payload"),null)}catch(r){return sd("Caught error parsing JWT payload as JSON",r?.toString()),null}}function yE(n){const t=v_(n);return wt(t,"internal-error"),wt(typeof t.exp<"u","internal-error"),wt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Su(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof $s&&PO(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function PO({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class LO{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class wy{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=fu(this.lastLoginAt),this.creationTime=fu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ed(n){const t=n.auth,e=await n.getIdToken(),i=await Su(n,Td(t,{idToken:e}));wt(i?.users.length,t,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const o=r.providerUserInfo?.length?Yw(r.providerUserInfo):[],l=zO(n.providerData,o),u=n.isAnonymous,f=!(n.email&&r.passwordHash)&&!l?.length,d=u?f:!1,g={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:l,metadata:new wy(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(n,g)}async function VO(n){const t=Ke(n);await Ed(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function zO(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function Yw(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function UO(n,t){const e=await qw(n,{},async()=>{const i=Gu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,l=await Gw(n,r,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:u,body:i};return n.emulatorConfig&&Ml(n.emulatorConfig.host)&&(f.credentials="include"),Hw.fetch()(l,f)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function BO(n,t){return na(n,"POST","/v2/accounts:revokeToken",ea(n,t))}class fl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){wt(t.idToken,"internal-error"),wt(typeof t.idToken<"u","internal-error"),wt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):yE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){wt(t.length!==0,"internal-error");const e=yE(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(wt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:o}=await UO(t,e);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,l=new fl;return i&&(wt(typeof i=="string","internal-error",{appName:t}),l.refreshToken=i),r&&(wt(typeof r=="string","internal-error",{appName:t}),l.accessToken=r),o&&(wt(typeof o=="number","internal-error",{appName:t}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new fl,this.toJSON())}_performRefresh(){return ks("not implemented")}}function Cr(n,t){wt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class wi{constructor({uid:t,auth:e,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new LO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new wy(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await Su(this,this.stsTokenManager.getToken(this.auth,t));return wt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return NO(this,t)}reload(){return VO(this)}_assign(t){this!==t&&(wt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new wi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Ed(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(li(this.auth.app))return Promise.reject(Us(this.auth));const t=await this.getIdToken();return await Su(this,kO(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,r=e.email??void 0,o=e.phoneNumber??void 0,l=e.photoURL??void 0,u=e.tenantId??void 0,f=e._redirectEventId??void 0,d=e.createdAt??void 0,g=e.lastLoginAt??void 0,{uid:_,emailVerified:v,isAnonymous:E,providerData:x,stsTokenManager:A}=e;wt(_&&A,t,"internal-error");const R=fl.fromJSON(this.name,A);wt(typeof _=="string",t,"internal-error"),Cr(i,t.name),Cr(r,t.name),wt(typeof v=="boolean",t,"internal-error"),wt(typeof E=="boolean",t,"internal-error"),Cr(o,t.name),Cr(l,t.name),Cr(u,t.name),Cr(f,t.name),Cr(d,t.name),Cr(g,t.name);const O=new wi({uid:_,auth:t,email:r,emailVerified:v,displayName:i,isAnonymous:E,photoURL:l,phoneNumber:o,tenantId:u,stsTokenManager:R,createdAt:d,lastLoginAt:g});return x&&Array.isArray(x)&&(O.providerData=x.map(k=>({...k}))),f&&(O._redirectEventId=f),O}static async _fromIdTokenResponse(t,e,i=!1){const r=new fl;r.updateFromServerResponse(e);const o=new wi({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await Ed(o),o}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];wt(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?Yw(r.providerUserInfo):[],l=!(r.email&&r.passwordHash)&&!o?.length,u=new fl;u.updateFromIdToken(i);const f=new wi({uid:r.localId,auth:t,stsTokenManager:u,isAnonymous:l}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new wy(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(f,d),f}}const _E=new Map;function Ns(n){Hs(n instanceof Function,"Expected a class definition");let t=_E.get(n);return t?(Hs(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,_E.set(n,t),t)}class $w{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}$w.type="NONE";const vE=$w;function rd(n,t,e){return`firebase:${n}:${t}:${e}`}class dl{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=rd(this.userKey,r.apiKey,o),this.fullPersistenceKey=rd("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Td(this.auth,{idToken:t}).catch(()=>{});return e?wi._fromGetAccountInfoResponse(this.auth,e,t):null}return wi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new dl(Ns(vE),t,i);const r=(await Promise.all(e.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=r[0]||Ns(vE);const l=rd(i,t.config.apiKey,t.name);let u=null;for(const d of e)try{const g=await d._get(l);if(g){let _;if(typeof g=="string"){const v=await Td(t,{idToken:g}).catch(()=>{});if(!v)break;_=await wi._fromGetAccountInfoResponse(t,v,g)}else _=wi._fromJSON(t,g);d!==o&&(u=_),o=d;break}}catch{}const f=r.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new dl(o,t,i):(o=f[0],u&&await o._set(l,u.toJSON()),await Promise.all(e.map(async d=>{if(d!==o)try{await d._remove(l)}catch{}})),new dl(o,t,i))}}function bE(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Qw(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ww(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Zw(t))return"Blackberry";if(tx(t))return"Webos";if(Kw(t))return"Safari";if((t.includes("chrome/")||Xw(t))&&!t.includes("edge/"))return"Chrome";if(Jw(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function Ww(n=_n()){return/firefox\//i.test(n)}function Kw(n=_n()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Xw(n=_n()){return/crios\//i.test(n)}function Qw(n=_n()){return/iemobile/i.test(n)}function Jw(n=_n()){return/android/i.test(n)}function Zw(n=_n()){return/blackberry/i.test(n)}function tx(n=_n()){return/webos/i.test(n)}function b_(n=_n()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function jO(n=_n()){return b_(n)&&!!window.navigator?.standalone}function FO(){return tM()&&document.documentMode===10}function ex(n=_n()){return b_(n)||Jw(n)||tx(n)||Zw(n)||/windows phone/i.test(n)||Qw(n)}function nx(n,t=[]){let e;switch(n){case"Browser":e=bE(_n());break;case"Worker":e=`${bE(_n())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Ol}/${i}`}class HO{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((l,u)=>{try{const f=t(o);l(f)}catch(f){u(f)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function qO(n,t={}){return na(n,"GET","/v2/passwordPolicy",ea(n,t))}const GO=6;class YO{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??GO,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}class $O{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new TE(this),this.idTokenSubscription=new TE(this),this.beforeStateQueue=new HO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Ns(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await dl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Td(this,{idToken:t}),i=await wi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(li(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=i?._redirectEventId,u=await this.tryRedirectSignIn(t);(!o||o===l)&&u?.user&&(i=u.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Ed(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=xO()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(li(this.app))return Promise.reject(Us(this));const e=t?Ke(t):null;return e&&wt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&wt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return li(this.app)?Promise.reject(Us(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return li(this.app)?Promise.reject(Us(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ns(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await qO(this),e=new YO(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new qu("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await BO(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Ns(t)||this._popupRedirectResolver;wt(e,this,"argument-error"),this.redirectPersistenceManager=await dl.create(this,[Ns(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(wt(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,i,r);return()=>{l=!0,f()}}else{const f=t.addObserver(e);return()=>{l=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=nx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(li(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&EO(`Error while retrieving App Check token: ${t.error}`),t?.token}}function co(n){return Ke(n)}class TE{constructor(t){this.auth=t,this.observer=null,this.addObserver=lM(e=>this.observer=e)}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let $d={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WO(n){$d=n}function ix(n){return $d.loadJS(n)}function KO(){return $d.recaptchaEnterpriseScript}function XO(){return $d.gapiScript}function QO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class JO{constructor(){this.enterprise=new ZO}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class ZO{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const tk="recaptcha-enterprise",sx="NO_RECAPTCHA";class ek{constructor(t){this.type=tk,this.auth=co(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{OO(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new MO(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,l(d.siteKey)}}).catch(f=>{u(f)})})}function r(o,l,u){const f=window.grecaptcha;gE(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:t}).then(d=>{l(d)}).catch(()=>{l(sx)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new JO().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{i(this.auth).then(u=>{if(!e&&gE(window.grecaptcha))r(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=KO();f.length!==0&&(f+=u),ix(f).then(()=>{r(u,o,l)}).catch(d=>{l(d)})}}).catch(u=>{l(u)})})}}async function EE(n,t,e,i=!1,r=!1){const o=new ek(n);let l;if(r)l=sx;else try{l=await o.verify(e)}catch{l=await o.verify(e,!0)}const u={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const f=u.phoneEnrollmentInfo.phoneNumber,d=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const f=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return i?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function xy(n,t,e,i,r){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await EE(n,t,e,e==="getOobCode");return i(n,o)}else return i(n,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await EE(n,t,e,e==="getOobCode");return i(n,l)}else return Promise.reject(o)})}function nk(n,t){const e=g_(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),o=e.getOptions();if(Qa(o,t??{}))return r;Ci(r,"already-initialized")}return e.initialize({options:t})}function ik(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Ns);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function sk(n,t,e){const i=co(n);wt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,o=rx(t),{host:l,port:u}=rk(t),f=u===null?"":`:${u}`,d={url:`${o}//${l}${f}/`},g=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){wt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),wt(Qa(d,i.config.emulator)&&Qa(g,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=g,i.settings.appVerificationDisabledForTesting=!0,Ml(l)?(Ow(`${o}//${l}${f}`),kw("Auth",!0)):ak()}function rx(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function rk(n){const t=rx(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:SE(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:SE(l)}}}function SE(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function ak(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class T_{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return ks("not implemented")}_getIdTokenResponse(t){return ks("not implemented")}_linkToIdToken(t,e){return ks("not implemented")}_getReauthenticationResolver(t){return ks("not implemented")}}async function ok(n,t){return na(n,"POST","/v1/accounts:signUp",t)}async function lk(n,t){return $u(n,"POST","/v1/accounts:signInWithPassword",ea(n,t))}async function ck(n,t){return $u(n,"POST","/v1/accounts:signInWithEmailLink",ea(n,t))}async function uk(n,t){return $u(n,"POST","/v1/accounts:signInWithEmailLink",ea(n,t))}class wu extends T_{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new wu(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new wu(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xy(t,e,"signInWithPassword",lk);case"emailLink":return ck(t,{email:this._email,oobCode:this._password});default:Ci(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xy(t,i,"signUpPassword",ok);case"emailLink":return uk(t,{idToken:e,email:this._email,oobCode:this._password});default:Ci(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function ml(n,t){return $u(n,"POST","/v1/accounts:signInWithIdp",ea(n,t))}const hk="http://localhost";class Za extends T_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Za(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Ci("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r,...o}=e;if(!i||!r)return null;const l=new Za(i,r);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(t){const e=this.buildRequest();return ml(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,ml(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,ml(t,e)}buildRequest(){const t={requestUri:hk,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Gu(e)}return t}}function fk(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function dk(n){const t=eu(nu(n)).link,e=t?eu(nu(t)).deep_link_id:null,i=eu(nu(n)).deep_link_id;return(i?eu(nu(i)).link:null)||i||e||t||n}class E_{constructor(t){const e=eu(nu(t)),i=e.apiKey??null,r=e.oobCode??null,o=fk(e.mode??null);wt(i&&r&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=r,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=dk(t);try{return new E_(e)}catch{return null}}}class kl{constructor(){this.providerId=kl.PROVIDER_ID}static credential(t,e){return wu._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=E_.parseLink(e);return wt(i,"argument-error"),wu._fromEmailAndCode(t,i.code,i.tenantId)}}kl.PROVIDER_ID="password";kl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";kl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ax{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Wu extends ax{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ir extends Wu{constructor(){super("facebook.com")}static credential(t){return Za._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ir.credentialFromTaggedObject(t)}static credentialFromError(t){return Ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ir.credential(t.oauthAccessToken)}catch{return null}}}Ir.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ir.PROVIDER_ID="facebook.com";class Dr extends Wu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Za._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Dr.credentialFromTaggedObject(t)}static credentialFromError(t){return Dr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return Dr.credential(e,i)}catch{return null}}}Dr.GOOGLE_SIGN_IN_METHOD="google.com";Dr.PROVIDER_ID="google.com";class Mr extends Wu{constructor(){super("github.com")}static credential(t){return Za._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Mr.credentialFromTaggedObject(t)}static credentialFromError(t){return Mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Mr.credential(t.oauthAccessToken)}catch{return null}}}Mr.GITHUB_SIGN_IN_METHOD="github.com";Mr.PROVIDER_ID="github.com";class Or extends Wu{constructor(){super("twitter.com")}static credential(t,e){return Za._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Or.credentialFromTaggedObject(t)}static credentialFromError(t){return Or.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return Or.credential(e,i)}catch{return null}}}Or.TWITTER_SIGN_IN_METHOD="twitter.com";Or.PROVIDER_ID="twitter.com";async function mk(n,t){return $u(n,"POST","/v1/accounts:signUp",ea(n,t))}class to{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const o=await wi._fromIdTokenResponse(t,i,r),l=wE(i);return new to({user:o,providerId:l,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=wE(i);return new to({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function wE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Sd extends $s{constructor(t,e,i,r){super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Sd.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new Sd(t,e,i,r)}}function ox(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Sd._fromErrorAndOperation(n,o,t,i):o})}async function pk(n,t,e=!1){const i=await Su(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return to._forOperation(n,"link",i)}async function gk(n,t,e=!1){const{auth:i}=n;if(li(i.app))return Promise.reject(Us(i));const r="reauthenticate";try{const o=await Su(n,ox(i,r,t,n),e);wt(o.idToken,i,"internal-error");const l=v_(o.idToken);wt(l,i,"internal-error");const{sub:u}=l;return wt(n.uid===u,i,"user-mismatch"),to._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&Ci(i,"user-mismatch"),o}}async function lx(n,t,e=!1){if(li(n.app))return Promise.reject(Us(n));const i="signIn",r=await ox(n,i,t),o=await to._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(o.user),o}async function yk(n,t){return lx(co(n),t)}async function cx(n){const t=co(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function _k(n,t,e){if(li(n.app))return Promise.reject(Us(n));const i=co(n),l=await xy(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mk).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&cx(n),f}),u=await to._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(u.user),u}function vk(n,t,e){return li(n.app)?Promise.reject(Us(n)):yk(Ke(n),kl.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&cx(n),i})}function bk(n,t,e,i){return Ke(n).onIdTokenChanged(t,e,i)}function Tk(n,t,e){return Ke(n).beforeAuthStateChanged(t,e)}function Ek(n,t,e,i){return Ke(n).onAuthStateChanged(t,e,i)}function Sk(n){return Ke(n).signOut()}const wd="__sak";class ux{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(wd,"1"),this.storage.removeItem(wd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const wk=1e3,xk=10;class hx extends ux{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ex(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((l,u,f)=>{this.notifyListeners(l,f)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const l=this.storage.getItem(i);!e&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);FO()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,xk):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},wk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}hx.type="LOCAL";const Ak=hx;class fx extends ux{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}fx.type="SESSION";const dx=fx;function Rk(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class Wd{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new Wd(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:o}=e.data,l=this.handlersMap[r];if(!l?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const u=Array.from(l).map(async d=>d(e.origin,o)),f=await Rk(u);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wd.receivers=[];function S_(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}class Ck{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,l;return new Promise((u,f)=>{const d=S_("",20);r.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},i);l={messageChannel:r,onMessage(_){const v=_;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(v.data.response);break;default:clearTimeout(g),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:d,data:e},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function is(){return window}function Ik(n){is().location.href=n}function mx(){return typeof is().WorkerGlobalScope<"u"&&typeof is().importScripts=="function"}async function Dk(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Mk(){return navigator?.serviceWorker?.controller||null}function Ok(){return mx()?self:null}const px="firebaseLocalStorageDb",kk=1,xd="firebaseLocalStorage",gx="fbase_key";class Ku{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Kd(n,t){return n.transaction([xd],t?"readwrite":"readonly").objectStore(xd)}function Nk(){const n=indexedDB.deleteDatabase(px);return new Ku(n).toPromise()}function Ay(){const n=indexedDB.open(px,kk);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(xd,{keyPath:gx})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(xd)?t(i):(i.close(),await Nk(),t(await Ay()))})})}async function xE(n,t,e){const i=Kd(n,!0).put({[gx]:t,value:e});return new Ku(i).toPromise()}async function Pk(n,t){const e=Kd(n,!1).get(t),i=await new Ku(e).toPromise();return i===void 0?null:i.value}function AE(n,t){const e=Kd(n,!0).delete(t);return new Ku(e).toPromise()}const Lk=800,Vk=3;class yx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ay(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>Vk)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wd._getInstance(Ok()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Dk(),!this.activeServiceWorker)return;this.sender=new Ck(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Mk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Ay();return await xE(t,wd,"1"),await AE(t,wd),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>xE(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>Pk(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>AE(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=Kd(r,!1).getAll();return new Ku(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Lk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yx.type="LOCAL";const zk=yx;new Yu(3e4,6e4);function Uk(n,t){return t?Ns(t):(wt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class w_ extends T_{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ml(t,this._buildIdpRequest())}_linkToIdToken(t,e){return ml(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return ml(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function Bk(n){return lx(n.auth,new w_(n),n.bypassAuthState)}function jk(n){const{auth:t,user:e}=n;return wt(e,t,"internal-error"),gk(e,new w_(n),n.bypassAuthState)}async function Fk(n){const{auth:t,user:e}=n;return wt(e,t,"internal-error"),pk(e,new w_(n),n.bypassAuthState)}class _x{constructor(t,e,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:l,type:u}=t;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Bk;case"linkViaPopup":case"linkViaRedirect":return Fk;case"reauthViaPopup":case"reauthViaRedirect":return jk;default:Ci(this.auth,"internal-error")}}resolve(t){Hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Hk=new Yu(2e3,1e4);class hl extends _x{constructor(t,e,i,r,o){super(t,e,r,o),this.provider=i,this.authWindow=null,this.pollId=null,hl.currentPopupAction&&hl.currentPopupAction.cancel(),hl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return wt(t,this.auth,"internal-error"),t}async onExecution(){Hs(this.filter.length===1,"Popup operations only handle one event");const t=S_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(ns(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ns(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hl.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ns(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Hk.get())};t()}}hl.currentPopupAction=null;const qk="pendingRedirect",ad=new Map;class Gk extends _x{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=ad.get(this.auth._key());if(!t){try{const i=await Yk(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}ad.set(this.auth._key(),t)}return this.bypassAuthState||ad.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Yk(n,t){const e=Kk(t),i=Wk(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function $k(n,t){ad.set(n._key(),t)}function Wk(n){return Ns(n._redirectPersistence)}function Kk(n){return rd(qk,n.config.apiKey,n.name)}async function Xk(n,t,e=!1){if(li(n.app))return Promise.reject(Us(n));const i=co(n),r=Uk(i,t),l=await new Gk(i,r,e).execute();return l&&!e&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,t)),l}const Qk=600*1e3;class Jk{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Zk(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!vx(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(ns(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Qk&&this.cachedEventUids.clear(),this.cachedEventUids.has(RE(t))}saveEventToCache(t){this.cachedEventUids.add(RE(t)),this.lastProcessedEventTime=Date.now()}}function RE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function vx({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function Zk(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vx(n);default:return!1}}async function tN(n,t={}){return na(n,"GET","/v1/projects",t)}const eN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nN=/^https?/;async function iN(n){if(n.config.emulator)return;const{authorizedDomains:t}=await tN(n);for(const e of t)try{if(sN(e))return}catch{}Ci(n,"unauthorized-domain")}function sN(n){const t=Sy(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&l.hostname===i}if(!nN.test(e))return!1;if(eN.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const rN=new Yu(3e4,6e4);function CE(){const n=is().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function aN(n){return new Promise((t,e)=>{function i(){CE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{CE(),e(ns(n,"network-request-failed"))},timeout:rN.get()})}if(is().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(is().gapi?.load)i();else{const r=QO("iframefcb");return is()[r]=()=>{gapi.load?i():e(ns(n,"network-request-failed"))},ix(`${XO()}?onload=${r}`).catch(o=>e(o))}}).catch(t=>{throw od=null,t})}let od=null;function oN(n){return od=od||aN(n),od}const lN=new Yu(5e3,15e3),cN="__/auth/iframe",uN="emulator/auth/iframe",hN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dN(n){const t=n.config;wt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?__(t,uN):`https://${n.config.authDomain}/${cN}`,i={apiKey:t.apiKey,appName:n.name,v:Ol},r=fN.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${Gu(i).slice(1)}`}async function mN(n){const t=await oN(n),e=is().gapi;return wt(e,n,"internal-error"),t.open({where:document.body,url:dN(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hN,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const l=ns(n,"network-request-failed"),u=is().setTimeout(()=>{o(l)},lN.get());function f(){is().clearTimeout(u),r(i)}i.ping(f).then(f,()=>{o(l)})}))}const pN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gN=500,yN=600,_N="_blank",vN="http://localhost";class IE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bN(n,t,e,i=gN,r=yN){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const f={...pN,width:i.toString(),height:r.toString(),top:o,left:l},d=_n().toLowerCase();e&&(u=Xw(d)?_N:e),Ww(d)&&(t=t||vN,f.scrollbars="yes");const g=Object.entries(f).reduce((v,[E,x])=>`${v}${E}=${x},`,"");if(jO(d)&&u!=="_self")return TN(t||"",u),new IE(null);const _=window.open(t||"",u,g);wt(_,n,"popup-blocked");try{_.focus()}catch{}return new IE(_)}function TN(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}const EN="__/auth/handler",SN="emulator/auth/handler",wN=encodeURIComponent("fac");async function DE(n,t,e,i,r,o){wt(n.config.authDomain,n,"auth-domain-config-required"),wt(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Ol,eventId:r};if(t instanceof ax){t.setDefaultLanguage(n.languageCode),l.providerId=t.providerId||"",oM(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[g,_]of Object.entries({}))l[g]=_}if(t instanceof Wu){const g=t.getScopes().filter(_=>_!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const f=await n._getAppCheckToken(),d=f?`#${wN}=${encodeURIComponent(f)}`:"";return`${xN(n)}?${Gu(u).slice(1)}${d}`}function xN({config:n}){return n.emulator?__(n,SN):`https://${n.authDomain}/${EN}`}const Wg="webStorageSupport";class AN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dx,this._completeRedirectFn=Xk,this._overrideRedirectResult=$k}async _openPopup(t,e,i,r){Hs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await DE(t,e,i,Sy(),r);return bN(t,o,S_())}async _openRedirect(t,e,i,r){await this._originValidation(t);const o=await DE(t,e,i,Sy(),r);return Ik(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(Hs(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await mN(t),i=new Jk(t);return e.register("authEvent",r=>(wt(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Wg,{type:Wg},r=>{const o=r?.[0]?.[Wg];o!==void 0&&e(!!o),Ci(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=iN(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return ex()||Kw()||b_()}}const RN=AN;var ME="@firebase/auth",OE="1.12.0";class CN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function IN(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DN(n){vl(new Ja("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=i.options;wt(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nx(n)},d=new $O(i,r,o,f);return ik(d,e),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),vl(new Ja("auth-internal",t=>{const e=co(t.getProvider("auth").getImmediate());return(i=>new CN(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Br(ME,OE,IN(n)),Br(ME,OE,"esm2020")}const MN=300,ON=Mw("authIdTokenMaxAge")||MN;let kE=null;const kN=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>ON)return;const r=e?.token;kE!==r&&(kE=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function NN(n=Vw()){const t=g_(n,"auth");if(t.isInitialized())return t.getImmediate();const e=nk(n,{popupRedirectResolver:RN,persistence:[zk,Ak,dx]}),i=Mw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const l=kN(o.toString());Tk(e,l,()=>l(e.currentUser)),bk(e,u=>l(u))}}const r=Iw("auth");return r&&sk(e,`http://${r}`),e}function PN(){return document.getElementsByTagName("head")?.[0]??document}WO({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const o=ns("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",PN().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DN("Browser");var NE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var jr,bx;(function(){var n;function t(w,C){function M(){}M.prototype=C.prototype,w.F=C.prototype,w.prototype=new M,w.prototype.constructor=w,w.D=function(V,P,B){for(var L=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)L[Dt-2]=arguments[Dt];return C.prototype[P].apply(V,L)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,e),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(w,C,M){M||(M=0);const V=Array(16);if(typeof C=="string")for(var P=0;P<16;++P)V[P]=C.charCodeAt(M++)|C.charCodeAt(M++)<<8|C.charCodeAt(M++)<<16|C.charCodeAt(M++)<<24;else for(P=0;P<16;++P)V[P]=C[M++]|C[M++]<<8|C[M++]<<16|C[M++]<<24;C=w.g[0],M=w.g[1],P=w.g[2];let B=w.g[3],L;L=C+(B^M&(P^B))+V[0]+3614090360&4294967295,C=M+(L<<7&4294967295|L>>>25),L=B+(P^C&(M^P))+V[1]+3905402710&4294967295,B=C+(L<<12&4294967295|L>>>20),L=P+(M^B&(C^M))+V[2]+606105819&4294967295,P=B+(L<<17&4294967295|L>>>15),L=M+(C^P&(B^C))+V[3]+3250441966&4294967295,M=P+(L<<22&4294967295|L>>>10),L=C+(B^M&(P^B))+V[4]+4118548399&4294967295,C=M+(L<<7&4294967295|L>>>25),L=B+(P^C&(M^P))+V[5]+1200080426&4294967295,B=C+(L<<12&4294967295|L>>>20),L=P+(M^B&(C^M))+V[6]+2821735955&4294967295,P=B+(L<<17&4294967295|L>>>15),L=M+(C^P&(B^C))+V[7]+4249261313&4294967295,M=P+(L<<22&4294967295|L>>>10),L=C+(B^M&(P^B))+V[8]+1770035416&4294967295,C=M+(L<<7&4294967295|L>>>25),L=B+(P^C&(M^P))+V[9]+2336552879&4294967295,B=C+(L<<12&4294967295|L>>>20),L=P+(M^B&(C^M))+V[10]+4294925233&4294967295,P=B+(L<<17&4294967295|L>>>15),L=M+(C^P&(B^C))+V[11]+2304563134&4294967295,M=P+(L<<22&4294967295|L>>>10),L=C+(B^M&(P^B))+V[12]+1804603682&4294967295,C=M+(L<<7&4294967295|L>>>25),L=B+(P^C&(M^P))+V[13]+4254626195&4294967295,B=C+(L<<12&4294967295|L>>>20),L=P+(M^B&(C^M))+V[14]+2792965006&4294967295,P=B+(L<<17&4294967295|L>>>15),L=M+(C^P&(B^C))+V[15]+1236535329&4294967295,M=P+(L<<22&4294967295|L>>>10),L=C+(P^B&(M^P))+V[1]+4129170786&4294967295,C=M+(L<<5&4294967295|L>>>27),L=B+(M^P&(C^M))+V[6]+3225465664&4294967295,B=C+(L<<9&4294967295|L>>>23),L=P+(C^M&(B^C))+V[11]+643717713&4294967295,P=B+(L<<14&4294967295|L>>>18),L=M+(B^C&(P^B))+V[0]+3921069994&4294967295,M=P+(L<<20&4294967295|L>>>12),L=C+(P^B&(M^P))+V[5]+3593408605&4294967295,C=M+(L<<5&4294967295|L>>>27),L=B+(M^P&(C^M))+V[10]+38016083&4294967295,B=C+(L<<9&4294967295|L>>>23),L=P+(C^M&(B^C))+V[15]+3634488961&4294967295,P=B+(L<<14&4294967295|L>>>18),L=M+(B^C&(P^B))+V[4]+3889429448&4294967295,M=P+(L<<20&4294967295|L>>>12),L=C+(P^B&(M^P))+V[9]+568446438&4294967295,C=M+(L<<5&4294967295|L>>>27),L=B+(M^P&(C^M))+V[14]+3275163606&4294967295,B=C+(L<<9&4294967295|L>>>23),L=P+(C^M&(B^C))+V[3]+4107603335&4294967295,P=B+(L<<14&4294967295|L>>>18),L=M+(B^C&(P^B))+V[8]+1163531501&4294967295,M=P+(L<<20&4294967295|L>>>12),L=C+(P^B&(M^P))+V[13]+2850285829&4294967295,C=M+(L<<5&4294967295|L>>>27),L=B+(M^P&(C^M))+V[2]+4243563512&4294967295,B=C+(L<<9&4294967295|L>>>23),L=P+(C^M&(B^C))+V[7]+1735328473&4294967295,P=B+(L<<14&4294967295|L>>>18),L=M+(B^C&(P^B))+V[12]+2368359562&4294967295,M=P+(L<<20&4294967295|L>>>12),L=C+(M^P^B)+V[5]+4294588738&4294967295,C=M+(L<<4&4294967295|L>>>28),L=B+(C^M^P)+V[8]+2272392833&4294967295,B=C+(L<<11&4294967295|L>>>21),L=P+(B^C^M)+V[11]+1839030562&4294967295,P=B+(L<<16&4294967295|L>>>16),L=M+(P^B^C)+V[14]+4259657740&4294967295,M=P+(L<<23&4294967295|L>>>9),L=C+(M^P^B)+V[1]+2763975236&4294967295,C=M+(L<<4&4294967295|L>>>28),L=B+(C^M^P)+V[4]+1272893353&4294967295,B=C+(L<<11&4294967295|L>>>21),L=P+(B^C^M)+V[7]+4139469664&4294967295,P=B+(L<<16&4294967295|L>>>16),L=M+(P^B^C)+V[10]+3200236656&4294967295,M=P+(L<<23&4294967295|L>>>9),L=C+(M^P^B)+V[13]+681279174&4294967295,C=M+(L<<4&4294967295|L>>>28),L=B+(C^M^P)+V[0]+3936430074&4294967295,B=C+(L<<11&4294967295|L>>>21),L=P+(B^C^M)+V[3]+3572445317&4294967295,P=B+(L<<16&4294967295|L>>>16),L=M+(P^B^C)+V[6]+76029189&4294967295,M=P+(L<<23&4294967295|L>>>9),L=C+(M^P^B)+V[9]+3654602809&4294967295,C=M+(L<<4&4294967295|L>>>28),L=B+(C^M^P)+V[12]+3873151461&4294967295,B=C+(L<<11&4294967295|L>>>21),L=P+(B^C^M)+V[15]+530742520&4294967295,P=B+(L<<16&4294967295|L>>>16),L=M+(P^B^C)+V[2]+3299628645&4294967295,M=P+(L<<23&4294967295|L>>>9),L=C+(P^(M|~B))+V[0]+4096336452&4294967295,C=M+(L<<6&4294967295|L>>>26),L=B+(M^(C|~P))+V[7]+1126891415&4294967295,B=C+(L<<10&4294967295|L>>>22),L=P+(C^(B|~M))+V[14]+2878612391&4294967295,P=B+(L<<15&4294967295|L>>>17),L=M+(B^(P|~C))+V[5]+4237533241&4294967295,M=P+(L<<21&4294967295|L>>>11),L=C+(P^(M|~B))+V[12]+1700485571&4294967295,C=M+(L<<6&4294967295|L>>>26),L=B+(M^(C|~P))+V[3]+2399980690&4294967295,B=C+(L<<10&4294967295|L>>>22),L=P+(C^(B|~M))+V[10]+4293915773&4294967295,P=B+(L<<15&4294967295|L>>>17),L=M+(B^(P|~C))+V[1]+2240044497&4294967295,M=P+(L<<21&4294967295|L>>>11),L=C+(P^(M|~B))+V[8]+1873313359&4294967295,C=M+(L<<6&4294967295|L>>>26),L=B+(M^(C|~P))+V[15]+4264355552&4294967295,B=C+(L<<10&4294967295|L>>>22),L=P+(C^(B|~M))+V[6]+2734768916&4294967295,P=B+(L<<15&4294967295|L>>>17),L=M+(B^(P|~C))+V[13]+1309151649&4294967295,M=P+(L<<21&4294967295|L>>>11),L=C+(P^(M|~B))+V[4]+4149444226&4294967295,C=M+(L<<6&4294967295|L>>>26),L=B+(M^(C|~P))+V[11]+3174756917&4294967295,B=C+(L<<10&4294967295|L>>>22),L=P+(C^(B|~M))+V[2]+718787259&4294967295,P=B+(L<<15&4294967295|L>>>17),L=M+(B^(P|~C))+V[9]+3951481745&4294967295,w.g[0]=w.g[0]+C&4294967295,w.g[1]=w.g[1]+(P+(L<<21&4294967295|L>>>11))&4294967295,w.g[2]=w.g[2]+P&4294967295,w.g[3]=w.g[3]+B&4294967295}i.prototype.v=function(w,C){C===void 0&&(C=w.length);const M=C-this.blockSize,V=this.C;let P=this.h,B=0;for(;B<C;){if(P==0)for(;B<=M;)r(this,w,B),B+=this.blockSize;if(typeof w=="string"){for(;B<C;)if(V[P++]=w.charCodeAt(B++),P==this.blockSize){r(this,V),P=0;break}}else for(;B<C;)if(V[P++]=w[B++],P==this.blockSize){r(this,V),P=0;break}}this.h=P,this.o+=C},i.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var C=1;C<w.length-8;++C)w[C]=0;C=this.o*8;for(var M=w.length-8;M<w.length;++M)w[M]=C&255,C/=256;for(this.v(w),w=Array(16),C=0,M=0;M<4;++M)for(let V=0;V<32;V+=8)w[C++]=this.g[M]>>>V&255;return w};function o(w,C){var M=u;return Object.prototype.hasOwnProperty.call(M,w)?M[w]:M[w]=C(w)}function l(w,C){this.h=C;const M=[];let V=!0;for(let P=w.length-1;P>=0;P--){const B=w[P]|0;V&&B==C||(M[P]=B,V=!1)}this.g=M}var u={};function f(w){return-128<=w&&w<128?o(w,function(C){return new l([C|0],C<0?-1:0)}):new l([w|0],w<0?-1:0)}function d(w){if(isNaN(w)||!isFinite(w))return _;if(w<0)return R(d(-w));const C=[];let M=1;for(let V=0;w>=M;V++)C[V]=w/M|0,M*=4294967296;return new l(C,0)}function g(w,C){if(w.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(w.charAt(0)=="-")return R(g(w.substring(1),C));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=d(Math.pow(C,8));let V=_;for(let B=0;B<w.length;B+=8){var P=Math.min(8,w.length-B);const L=parseInt(w.substring(B,B+P),C);P<8?(P=d(Math.pow(C,P)),V=V.j(P).add(d(L))):(V=V.j(M),V=V.add(d(L)))}return V}var _=f(0),v=f(1),E=f(16777216);n=l.prototype,n.m=function(){if(A(this))return-R(this).m();let w=0,C=1;for(let M=0;M<this.g.length;M++){const V=this.i(M);w+=(V>=0?V:4294967296+V)*C,C*=4294967296}return w},n.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(x(this))return"0";if(A(this))return"-"+R(this).toString(w);const C=d(Math.pow(w,6));var M=this;let V="";for(;;){const P=Y(M,C).g;M=O(M,P.j(C));let B=((M.g.length>0?M.g[0]:M.h)>>>0).toString(w);if(M=P,x(M))return B+V;for(;B.length<6;)B="0"+B;V=B+V}},n.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function x(w){if(w.h!=0)return!1;for(let C=0;C<w.g.length;C++)if(w.g[C]!=0)return!1;return!0}function A(w){return w.h==-1}n.l=function(w){return w=O(this,w),A(w)?-1:x(w)?0:1};function R(w){const C=w.g.length,M=[];for(let V=0;V<C;V++)M[V]=~w.g[V];return new l(M,~w.h).add(v)}n.abs=function(){return A(this)?R(this):this},n.add=function(w){const C=Math.max(this.g.length,w.g.length),M=[];let V=0;for(let P=0;P<=C;P++){let B=V+(this.i(P)&65535)+(w.i(P)&65535),L=(B>>>16)+(this.i(P)>>>16)+(w.i(P)>>>16);V=L>>>16,B&=65535,L&=65535,M[P]=L<<16|B}return new l(M,M[M.length-1]&-2147483648?-1:0)};function O(w,C){return w.add(R(C))}n.j=function(w){if(x(this)||x(w))return _;if(A(this))return A(w)?R(this).j(R(w)):R(R(this).j(w));if(A(w))return R(this.j(R(w)));if(this.l(E)<0&&w.l(E)<0)return d(this.m()*w.m());const C=this.g.length+w.g.length,M=[];for(var V=0;V<2*C;V++)M[V]=0;for(V=0;V<this.g.length;V++)for(let P=0;P<w.g.length;P++){const B=this.i(V)>>>16,L=this.i(V)&65535,Dt=w.i(P)>>>16,_t=w.i(P)&65535;M[2*V+2*P]+=L*_t,k(M,2*V+2*P),M[2*V+2*P+1]+=B*_t,k(M,2*V+2*P+1),M[2*V+2*P+1]+=L*Dt,k(M,2*V+2*P+1),M[2*V+2*P+2]+=B*Dt,k(M,2*V+2*P+2)}for(w=0;w<C;w++)M[w]=M[2*w+1]<<16|M[2*w];for(w=C;w<2*C;w++)M[w]=0;return new l(M,0)};function k(w,C){for(;(w[C]&65535)!=w[C];)w[C+1]+=w[C]>>>16,w[C]&=65535,C++}function U(w,C){this.g=w,this.h=C}function Y(w,C){if(x(C))throw Error("division by zero");if(x(w))return new U(_,_);if(A(w))return C=Y(R(w),C),new U(R(C.g),R(C.h));if(A(C))return C=Y(w,R(C)),new U(R(C.g),C.h);if(w.g.length>30){if(A(w)||A(C))throw Error("slowDivide_ only works with positive integers.");for(var M=v,V=C;V.l(w)<=0;)M=$(M),V=$(V);var P=tt(M,1),B=tt(V,1);for(V=tt(V,2),M=tt(M,2);!x(V);){var L=B.add(V);L.l(w)<=0&&(P=P.add(M),B=L),V=tt(V,1),M=tt(M,1)}return C=O(w,P.j(C)),new U(P,C)}for(P=_;w.l(C)>=0;){for(M=Math.max(1,Math.floor(w.m()/C.m())),V=Math.ceil(Math.log(M)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),B=d(M),L=B.j(C);A(L)||L.l(w)>0;)M-=V,B=d(M),L=B.j(C);x(B)&&(B=v),P=P.add(B),w=O(w,L)}return new U(P,w)}n.B=function(w){return Y(this,w).h},n.and=function(w){const C=Math.max(this.g.length,w.g.length),M=[];for(let V=0;V<C;V++)M[V]=this.i(V)&w.i(V);return new l(M,this.h&w.h)},n.or=function(w){const C=Math.max(this.g.length,w.g.length),M=[];for(let V=0;V<C;V++)M[V]=this.i(V)|w.i(V);return new l(M,this.h|w.h)},n.xor=function(w){const C=Math.max(this.g.length,w.g.length),M=[];for(let V=0;V<C;V++)M[V]=this.i(V)^w.i(V);return new l(M,this.h^w.h)};function $(w){const C=w.g.length+1,M=[];for(let V=0;V<C;V++)M[V]=w.i(V)<<1|w.i(V-1)>>>31;return new l(M,w.h)}function tt(w,C){const M=C>>5;C%=32;const V=w.g.length-M,P=[];for(let B=0;B<V;B++)P[B]=C>0?w.i(B+M)>>>C|w.i(B+M+1)<<32-C:w.i(B+M);return new l(P,w.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,bx=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=g,jr=l}).apply(typeof NE<"u"?NE:typeof self<"u"?self:typeof window<"u"?window:{});var zf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Tx,iu,Ex,ld,Ry,Sx,wx,xx;(function(){var n,t=Object.defineProperty;function e(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof zf=="object"&&zf];for(var b=0;b<m.length;++b){var S=m[b];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var i=e(this);function r(m,b){if(b)t:{var S=i;m=m.split(".");for(var D=0;D<m.length-1;D++){var W=m[D];if(!(W in S))break t;S=S[W]}m=m[m.length-1],D=S[m],b=b(D),b!=D&&b!=null&&t(S,m,{configurable:!0,writable:!0,value:b})}}r("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(m){return m||function(b){var S=[],D;for(D in b)Object.prototype.hasOwnProperty.call(b,D)&&S.push([D,b[D]]);return S}});var o=o||{},l=this||self;function u(m){var b=typeof m;return b=="object"&&m!=null||b=="function"}function f(m,b,S){return m.call.apply(m.bind,arguments)}function d(m,b,S){return d=f,d.apply(null,arguments)}function g(m,b){var S=Array.prototype.slice.call(arguments,1);return function(){var D=S.slice();return D.push.apply(D,arguments),m.apply(this,D)}}function _(m,b){function S(){}S.prototype=b.prototype,m.Z=b.prototype,m.prototype=new S,m.prototype.constructor=m,m.Ob=function(D,W,J){for(var lt=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)lt[Mt-2]=arguments[Mt];return b.prototype[W].apply(D,lt)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function E(m){const b=m.length;if(b>0){const S=Array(b);for(let D=0;D<b;D++)S[D]=m[D];return S}return[]}function x(m,b){for(let D=1;D<arguments.length;D++){const W=arguments[D];var S=typeof W;if(S=S!="object"?S:W?Array.isArray(W)?"array":S:"null",S=="array"||S=="object"&&typeof W.length=="number"){S=m.length||0;const J=W.length||0;m.length=S+J;for(let lt=0;lt<J;lt++)m[S+lt]=W[lt]}else m.push(W)}}class A{constructor(b,S){this.i=b,this.j=S,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function R(m){l.setTimeout(()=>{throw m},0)}function O(){var m=w;let b=null;return m.g&&(b=m.g,m.g=m.g.next,m.g||(m.h=null),b.next=null),b}class k{constructor(){this.h=this.g=null}add(b,S){const D=U.get();D.set(b,S),this.h?this.h.next=D:this.g=D,this.h=D}}var U=new A(()=>new Y,m=>m.reset());class Y{constructor(){this.next=this.g=this.h=null}set(b,S){this.h=b,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let $,tt=!1,w=new k,C=()=>{const m=Promise.resolve(void 0);$=()=>{m.then(M)}};function M(){for(var m;m=O();){try{m.h.call(m.g)}catch(S){R(S)}var b=U;b.j(m),b.h<100&&(b.h++,m.next=b.g,b.g=m)}tt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(m,b){this.type=m,this.g=this.target=b,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var m=!1,b=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const S=()=>{};l.addEventListener("test",S,b),l.removeEventListener("test",S,b)}catch{}return m})();function L(m){return/^[\s\xa0]*$/.test(m)}function Dt(m,b){P.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,b)}_(Dt,P),Dt.prototype.init=function(m,b){const S=this.type=m.type,D=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=b,b=m.relatedTarget,b||(S=="mouseover"?b=m.fromElement:S=="mouseout"&&(b=m.toElement)),this.relatedTarget=b,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&Dt.Z.h.call(this)},Dt.prototype.h=function(){Dt.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var _t="closure_listenable_"+(Math.random()*1e6|0),j=0;function it(m,b,S,D,W){this.listener=m,this.proxy=null,this.src=b,this.type=S,this.capture=!!D,this.ha=W,this.key=++j,this.da=this.fa=!1}function ft(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Et(m,b,S){for(const D in m)b.call(S,m[D],D,m)}function Vt(m,b){for(const S in m)b.call(void 0,m[S],S,m)}function F(m){const b={};for(const S in m)b[S]=m[S];return b}const nt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ct(m,b){let S,D;for(let W=1;W<arguments.length;W++){D=arguments[W];for(S in D)m[S]=D[S];for(let J=0;J<nt.length;J++)S=nt[J],Object.prototype.hasOwnProperty.call(D,S)&&(m[S]=D[S])}}function ut(m){this.src=m,this.g={},this.h=0}ut.prototype.add=function(m,b,S,D,W){const J=m.toString();m=this.g[J],m||(m=this.g[J]=[],this.h++);const lt=St(m,b,D,W);return lt>-1?(b=m[lt],S||(b.fa=!1)):(b=new it(b,this.src,J,!!D,W),b.fa=S,m.push(b)),b};function bt(m,b){const S=b.type;if(S in m.g){var D=m.g[S],W=Array.prototype.indexOf.call(D,b,void 0),J;(J=W>=0)&&Array.prototype.splice.call(D,W,1),J&&(ft(b),m.g[S].length==0&&(delete m.g[S],m.h--))}}function St(m,b,S,D){for(let W=0;W<m.length;++W){const J=m[W];if(!J.da&&J.listener==b&&J.capture==!!S&&J.ha==D)return W}return-1}var Gt="closure_lm_"+(Math.random()*1e6|0),qe={};function pe(m,b,S,D,W){if(Array.isArray(b)){for(let J=0;J<b.length;J++)pe(m,b[J],S,D,W);return null}return S=Hl(S),m&&m[_t]?m.J(b,S,u(D)?!!D.capture:!1,W):oa(m,b,S,!1,D,W)}function oa(m,b,S,D,W,J){if(!b)throw Error("Invalid event type");const lt=u(W)?!!W.capture:!!W;let Mt=la(m);if(Mt||(m[Gt]=Mt=new ut(m)),S=Mt.add(b,S,D,lt,J),S.proxy)return S;if(D=po(),S.proxy=D,D.src=m,D.listener=S,m.addEventListener)B||(W=lt),W===void 0&&(W=!1),m.addEventListener(b.toString(),D,W);else if(m.attachEvent)m.attachEvent(Mi(b.toString()),D);else if(m.addListener&&m.removeListener)m.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return S}function po(){function m(S){return b.call(m.src,m.listener,S)}const b=jl;return m}function go(m,b,S,D,W){if(Array.isArray(b))for(var J=0;J<b.length;J++)go(m,b[J],S,D,W);else D=u(D)?!!D.capture:!!D,S=Hl(S),m&&m[_t]?(m=m.i,J=String(b).toString(),J in m.g&&(b=m.g[J],S=St(b,S,D,W),S>-1&&(ft(b[S]),Array.prototype.splice.call(b,S,1),b.length==0&&(delete m.g[J],m.h--)))):m&&(m=la(m))&&(b=m.g[b.toString()],m=-1,b&&(m=St(b,S,D,W)),(S=m>-1?b[m]:null)&&yo(S))}function yo(m){if(typeof m!="number"&&m&&!m.da){var b=m.src;if(b&&b[_t])bt(b.i,m);else{var S=m.type,D=m.proxy;b.removeEventListener?b.removeEventListener(S,D,m.capture):b.detachEvent?b.detachEvent(Mi(S),D):b.addListener&&b.removeListener&&b.removeListener(D),(S=la(b))?(bt(S,m),S.h==0&&(S.src=null,b[Gt]=null)):ft(m)}}}function Mi(m){return m in qe?qe[m]:qe[m]="on"+m}function jl(m,b){if(m.da)m=!0;else{b=new Dt(b,this);const S=m.listener,D=m.ha||m.src;m.fa&&yo(m),m=S.call(D,b)}return m}function la(m){return m=m[Gt],m instanceof ut?m:null}var Fl="__closure_events_fn_"+(Math.random()*1e9>>>0);function Hl(m){return typeof m=="function"?m:(m[Fl]||(m[Fl]=function(b){return m.handleEvent(b)}),m[Fl])}function Oe(){V.call(this),this.i=new ut(this),this.M=this,this.G=null}_(Oe,V),Oe.prototype[_t]=!0,Oe.prototype.removeEventListener=function(m,b,S,D){go(this,m,b,S,D)};function Ge(m,b){var S,D=m.G;if(D)for(S=[];D;D=D.G)S.push(D);if(m=m.M,D=b.type||b,typeof b=="string")b=new P(b,m);else if(b instanceof P)b.target=b.target||m;else{var W=b;b=new P(D,m),ct(b,W)}W=!0;let J,lt;if(S)for(lt=S.length-1;lt>=0;lt--)J=b.g=S[lt],W=Ks(J,D,!0,b)&&W;if(J=b.g=m,W=Ks(J,D,!0,b)&&W,W=Ks(J,D,!1,b)&&W,S)for(lt=0;lt<S.length;lt++)J=b.g=S[lt],W=Ks(J,D,!1,b)&&W}Oe.prototype.N=function(){if(Oe.Z.N.call(this),this.i){var m=this.i;for(const b in m.g){const S=m.g[b];for(let D=0;D<S.length;D++)ft(S[D]);delete m.g[b],m.h--}}this.G=null},Oe.prototype.J=function(m,b,S,D){return this.i.add(String(m),b,!1,S,D)},Oe.prototype.K=function(m,b,S,D){return this.i.add(String(m),b,!0,S,D)};function Ks(m,b,S,D){if(b=m.i.g[String(b)],!b)return!0;b=b.concat();let W=!0;for(let J=0;J<b.length;++J){const lt=b[J];if(lt&&!lt.da&&lt.capture==S){const Mt=lt.listener,Re=lt.ha||lt.src;lt.fa&&bt(m.i,lt),W=Mt.call(Re,D)!==!1&&W}}return W&&!D.defaultPrevented}function Pm(m,b){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=d(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:l.setTimeout(m,b||0)}function ah(m){m.g=Pm(()=>{m.g=null,m.i&&(m.i=!1,ah(m))},m.l);const b=m.h;m.h=null,m.m.apply(null,b)}class Tn extends V{constructor(b,S){super(),this.m=b,this.l=S,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:ah(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ca(m){V.call(this),this.h=m,this.g={}}_(ca,V);var ql=[];function Gl(m){Et(m.g,function(b,S){this.g.hasOwnProperty(S)&&yo(b)},m),m.g={}}ca.prototype.N=function(){ca.Z.N.call(this),Gl(this)},ca.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xs=l.JSON.stringify,Lm=l.JSON.parse,oh=class{stringify(m){return l.JSON.stringify(m,void 0)}parse(m){return l.JSON.parse(m,void 0)}};function lh(){}function ch(){}var fi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function en(){P.call(this,"d")}_(en,P);function Wn(){P.call(this,"c")}_(Wn,P);var Ae={},uh=null;function _o(){return uh=uh||new Oe}Ae.Ia="serverreachability";function hh(m){P.call(this,Ae.Ia,m)}_(hh,P);function Oi(m){const b=_o();Ge(b,new hh(b))}Ae.STAT_EVENT="statevent";function ua(m,b){P.call(this,Ae.STAT_EVENT,m),this.stat=b}_(ua,P);function ke(m){const b=_o();Ge(b,new ua(b,m))}Ae.Ja="timingevent";function ki(m,b){P.call(this,Ae.Ja,m),this.size=b}_(ki,P);function Ni(m,b){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){m()},b)}function di(){this.g=!0}di.prototype.ua=function(){this.g=!1};function Vm(m,b,S,D,W,J){m.info(function(){if(m.g)if(J){var lt="",Mt=J.split("&");for(let Xt=0;Xt<Mt.length;Xt++){var Re=Mt[Xt].split("=");if(Re.length>1){const ge=Re[0];Re=Re[1];const Jn=ge.split("_");lt=Jn.length>=2&&Jn[1]=="type"?lt+(ge+"="+Re+"&"):lt+(ge+"=redacted&")}}}else lt=null;else lt=J;return"XMLHTTP REQ ("+D+") [attempt "+W+"]: "+b+`
`+S+`
`+lt})}function fh(m,b,S,D,W,J,lt){m.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+W+"]: "+b+`
`+S+`
`+J+" "+lt})}function Pi(m,b,S,D){m.info(function(){return"XMLHTTP TEXT ("+b+"): "+zm(m,S)+(D?" "+D:"")})}function ha(m,b){m.info(function(){return"TIMEOUT: "+b})}di.prototype.info=function(){};function zm(m,b){if(!m.g)return b;if(!b)return null;try{const J=JSON.parse(b);if(J){for(m=0;m<J.length;m++)if(Array.isArray(J[m])){var S=J[m];if(!(S.length<2)){var D=S[1];if(Array.isArray(D)&&!(D.length<1)){var W=D[0];if(W!="noop"&&W!="stop"&&W!="close")for(let lt=1;lt<D.length;lt++)D[lt]=""}}}}return Xs(J)}catch{return b}}var fa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Yl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},$l;function da(){}_(da,lh),da.prototype.g=function(){return new XMLHttpRequest},$l=new da;function us(m){return encodeURIComponent(String(m))}function dh(m){var b=1;m=m.split(":");const S=[];for(;b>0&&m.length;)S.push(m.shift()),b--;return m.length&&S.push(m.join(":")),S}function mi(m,b,S,D){this.j=m,this.i=b,this.l=S,this.S=D||1,this.V=new ca(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new pi}function pi(){this.i=null,this.g="",this.h=!1}var Ne={},Xe={};function Li(m,b,S){m.M=1,m.A=ma(Le(b)),m.u=S,m.R=!0,vo(m,null)}function vo(m,b){m.F=Date.now(),Vi(m),m.B=Le(m.A);var S=m.B,D=m.S;Array.isArray(D)||(D=[String(D)]),So(S.i,"t",D),m.C=0,S=m.j.L,m.h=new pi,m.g=Ch(m.j,S?b:null,!m.u),m.P>0&&(m.O=new Tn(d(m.Y,m,m.g),m.P)),b=m.V,S=m.g,D=m.ba;var W="readystatechange";Array.isArray(W)||(W&&(ql[0]=W.toString()),W=ql);for(let J=0;J<W.length;J++){const lt=pe(S,W[J],D||b.handleEvent,!1,b.h||b);if(!lt)break;b.g[lt.key]=lt}b=m.J?F(m.J):{},m.u?(m.v||(m.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,b)):(m.v="GET",m.g.ea(m.B,m.v,null,b)),Oi(),Vm(m.i,m.v,m.B,m.l,m.S,m.u)}mi.prototype.ba=function(m){m=m.target;const b=this.O;b&&_i(m)==3?b.j():this.Y(m)},mi.prototype.Y=function(m){try{if(m==this.g)t:{const Mt=_i(this.g),Re=this.g.ya(),Xt=this.g.ca();if(!(Mt<3)&&(Mt!=3||this.g&&(this.h.h||this.g.la()||nn(this.g)))){this.K||Mt!=4||Re==7||(Re==8||Xt<=0?Oi(3):Oi(2)),zi(this);var b=this.g.ca();this.X=b;var S=Um(this);if(this.o=b==200,fh(this.i,this.v,this.B,this.l,this.S,Mt,b),this.o){if(this.U&&!this.L){e:{if(this.g){var D,W=this.g;if((D=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(D)){var J=D;break e}}J=null}if(m=J)Pi(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ui(this,m);else{this.o=!1,this.m=3,ke(12),Ln(this),Kn(this);break t}}if(this.R){m=!0;let ge;for(;!this.K&&this.C<S.length;)if(ge=ph(this,S),ge==Xe){Mt==4&&(this.m=4,ke(14),m=!1),Pi(this.i,this.l,null,"[Incomplete Response]");break}else if(ge==Ne){this.m=4,ke(15),Pi(this.i,this.l,S,"[Invalid Chunk]"),m=!1;break}else Pi(this.i,this.l,ge,null),Ui(this,ge);if(mh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||S.length!=0||this.h.h||(this.m=1,ke(16),m=!1),this.o=this.o&&m,!m)Pi(this.i,this.l,S,"[Invalid Chunked Response]"),Ln(this),Kn(this);else if(S.length>0&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.aa&&!lt.P&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),lc(lt),lt.P=!0,ke(11))}}else Pi(this.i,this.l,S,null),Ui(this,S);Mt==4&&Ln(this),this.o&&!this.K&&(Mt==4?wh(this.j,this):(this.o=!1,Vi(this)))}else fs(this.g),b==400&&S.indexOf("Unknown SID")>0?(this.m=3,ke(12)):(this.m=0,ke(13)),Ln(this),Kn(this)}}}catch{}};function Um(m){if(!mh(m))return m.g.la();const b=nn(m.g);if(b==="")return"";let S="";const D=b.length,W=_i(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return Ln(m),Kn(m),"";m.h.i=new l.TextDecoder}for(let J=0;J<D;J++)m.h.h=!0,S+=m.h.i.decode(b[J],{stream:!(W&&J==D-1)});return b.length=0,m.h.g+=S,m.C=0,m.h.g}function mh(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function ph(m,b){var S=m.C,D=b.indexOf(`
`,S);return D==-1?Xe:(S=Number(b.substring(S,D)),isNaN(S)?Ne:(D+=1,D+S>b.length?Xe:(b=b.slice(D,D+S),m.C=D+S,b)))}mi.prototype.cancel=function(){this.K=!0,Ln(this)};function Vi(m){m.T=Date.now()+m.H,bo(m,m.H)}function bo(m,b){if(m.D!=null)throw Error("WatchDog timer not null");m.D=Ni(d(m.aa,m),b)}function zi(m){m.D&&(l.clearTimeout(m.D),m.D=null)}mi.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(ha(this.i,this.B),this.M!=2&&(Oi(),ke(17)),Ln(this),this.m=2,Kn(this)):bo(this,this.T-m)};function Kn(m){m.j.I==0||m.K||wh(m.j,m)}function Ln(m){zi(m);var b=m.O;b&&typeof b.dispose=="function"&&b.dispose(),m.O=null,Gl(m.V),m.g&&(b=m.g,m.g=null,b.abort(),b.dispose())}function Ui(m,b){try{var S=m.j;if(S.I!=0&&(S.g==m||ji(S.h,m))){if(!m.L&&ji(S.h,m)&&S.I==3){try{var D=S.Ba.g.parse(b)}catch{D=null}if(Array.isArray(D)&&D.length==3){var W=D;if(W[0]==0){t:if(!S.v){if(S.g)if(S.g.F+3e3<m.F)Co(S),sr(S);else break t;Ta(S),ke(18)}}else S.xa=W[1],0<S.xa-S.K&&W[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=Ni(d(S.Va,S),6e3));Bi(S.h)<=1&&S.ta&&(S.ta=void 0)}else $i(S,11)}else if((m.L||S.g==m)&&Co(S),!L(b))for(W=S.Ba.g.parse(b),b=0;b<W.length;b++){let Xt=W[b];const ge=Xt[0];if(!(ge<=S.K))if(S.K=ge,Xt=Xt[1],S.I==2)if(Xt[0]=="c"){S.M=Xt[1],S.ba=Xt[2];const Jn=Xt[3];Jn!=null&&(S.ka=Jn,S.j.info("VER="+S.ka));const Wi=Xt[4];Wi!=null&&(S.za=Wi,S.j.info("SVER="+S.za));const vi=Xt[5];vi!=null&&typeof vi=="number"&&vi>0&&(D=1.5*vi,S.O=D,S.j.info("backChannelRequestTimeoutMs_="+D)),D=S;const bi=m.g;if(bi){const Ea=bi.g?bi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ea){var J=D.h;J.g||Ea.indexOf("spdy")==-1&&Ea.indexOf("quic")==-1&&Ea.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Xl(J,J.h),J.h=null))}if(D.G){const Io=bi.g?bi.g.getResponseHeader("X-HTTP-Session-Id"):null;Io&&(D.wa=Io,Zt(D.J,D.G,Io))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-m.F,S.j.info("Handshake RTT: "+S.T+"ms")),D=S;var lt=m;if(D.na=Rh(D,D.L?D.ba:null,D.W),lt.L){Ql(D.h,lt);var Mt=lt,Re=D.O;Re&&(Mt.H=Re),Mt.D&&(zi(Mt),Vi(Mt)),D.g=lt}else Eh(D);S.i.length>0&&Yi(S)}else Xt[0]!="stop"&&Xt[0]!="close"||$i(S,7);else S.I==3&&(Xt[0]=="stop"||Xt[0]=="close"?Xt[0]=="stop"?$i(S,7):ac(S):Xt[0]!="noop"&&S.l&&S.l.qa(Xt),S.A=0)}}Oi(4)}catch{}}var Pe=class{constructor(m,b){this.g=m,this.map=b}};function Wl(m){this.l=m||10,l.PerformanceNavigationTiming?(m=l.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Kl(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Bi(m){return m.h?1:m.g?m.g.size:0}function ji(m,b){return m.h?m.h==b:m.g?m.g.has(b):!1}function Xl(m,b){m.g?m.g.add(b):m.h=b}function Ql(m,b){m.h&&m.h==b?m.h=null:m.g&&m.g.has(b)&&m.g.delete(b)}Wl.prototype.cancel=function(){if(this.i=Jl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Jl(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let b=m.i;for(const S of m.g.values())b=b.concat(S.G);return b}return E(m.i)}var gh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function To(m,b){if(m){m=m.split("&");for(let S=0;S<m.length;S++){const D=m[S].indexOf("=");let W,J=null;D>=0?(W=m[S].substring(0,D),J=m[S].substring(D+1)):W=m[S],b(W,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Vn(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;m instanceof Vn?(this.l=m.l,Qe(this,m.j),this.o=m.o,this.g=m.g,Qs(this,m.u),this.h=m.h,Zl(this,bh(m.i)),this.m=m.m):m&&(b=String(m).match(gh))?(this.l=!1,Qe(this,b[1]||"",!0),this.o=Fi(b[2]||""),this.g=Fi(b[3]||"",!0),Qs(this,b[4]),this.h=Fi(b[5]||"",!0),Zl(this,b[6]||"",!0),this.m=Fi(b[7]||"")):(this.l=!1,this.i=new Zs(null,this.l))}Vn.prototype.toString=function(){const m=[];var b=this.j;b&&m.push(pa(b,Eo,!0),":");var S=this.g;return(S||b=="file")&&(m.push("//"),(b=this.o)&&m.push(pa(b,Eo,!0),"@"),m.push(us(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&m.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&m.push("/"),m.push(pa(S,S.charAt(0)=="/"?tc:yh,!0))),(S=this.i.toString())&&m.push("?",S),(S=this.m)&&m.push("#",pa(S,_h)),m.join("")},Vn.prototype.resolve=function(m){const b=Le(this);let S=!!m.j;S?Qe(b,m.j):S=!!m.o,S?b.o=m.o:S=!!m.g,S?b.g=m.g:S=m.u!=null;var D=m.h;if(S)Qs(b,m.u);else if(S=!!m.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var W=b.h.lastIndexOf("/");W!=-1&&(D=b.h.slice(0,W+1)+D)}if(W=D,W==".."||W==".")D="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){D=W.lastIndexOf("/",0)==0,W=W.split("/");const J=[];for(let lt=0;lt<W.length;){const Mt=W[lt++];Mt=="."?D&&lt==W.length&&J.push(""):Mt==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),D&&lt==W.length&&J.push("")):(J.push(Mt),D=!0)}D=J.join("/")}else D=W}return S?b.h=D:S=m.i.toString()!=="",S?Zl(b,bh(m.i)):S=!!m.m,S&&(b.m=m.m),b};function Le(m){return new Vn(m)}function Qe(m,b,S){m.j=S?Fi(b,!0):b,m.j&&(m.j=m.j.replace(/:$/,""))}function Qs(m,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);m.u=b}else m.u=null}function Zl(m,b,S){b instanceof Zs?(m.i=b,wo(m.i,m.l)):(S||(b=pa(b,Js)),m.i=new Zs(b,m.l))}function Zt(m,b,S){m.i.set(b,S)}function ma(m){return Zt(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function Fi(m,b){return m?b?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function pa(m,b,S){return typeof m=="string"?(m=encodeURI(m).replace(b,xn),S&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function xn(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Eo=/[#\/\?@]/g,yh=/[#\?:]/g,tc=/[#\?]/g,Js=/[#\?@]/g,_h=/#/g;function Zs(m,b){this.h=this.g=null,this.i=m||null,this.j=!!b}function An(m){m.g||(m.g=new Map,m.h=0,m.i&&To(m.i,function(b,S){m.add(decodeURIComponent(b.replace(/\+/g," ")),S)}))}n=Zs.prototype,n.add=function(m,b){An(this),this.i=null,m=tr(this,m);let S=this.g.get(m);return S||this.g.set(m,S=[]),S.push(b),this.h+=1,this};function vh(m,b){An(m),b=tr(m,b),m.g.has(b)&&(m.i=null,m.h-=m.g.get(b).length,m.g.delete(b))}function ec(m,b){return An(m),b=tr(m,b),m.g.has(b)}n.forEach=function(m,b){An(this),this.g.forEach(function(S,D){S.forEach(function(W){m.call(b,W,D,this)},this)},this)};function nc(m,b){An(m);let S=[];if(typeof b=="string")ec(m,b)&&(S=S.concat(m.g.get(tr(m,b))));else for(m=Array.from(m.g.values()),b=0;b<m.length;b++)S=S.concat(m[b]);return S}n.set=function(m,b){return An(this),this.i=null,m=tr(this,m),ec(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[b]),this.h+=1,this},n.get=function(m,b){return m?(m=nc(this,m),m.length>0?String(m[0]):b):b};function So(m,b,S){vh(m,b),S.length>0&&(m.i=null,m.g.set(tr(m,b),E(S)),m.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],b=Array.from(this.g.keys());for(let D=0;D<b.length;D++){var S=b[D];const W=us(S);S=nc(this,S);for(let J=0;J<S.length;J++){let lt=W;S[J]!==""&&(lt+="="+us(S[J])),m.push(lt)}}return this.i=m.join("&")};function bh(m){const b=new Zs;return b.i=m.i,m.g&&(b.g=new Map(m.g),b.h=m.h),b}function tr(m,b){return b=String(b),m.j&&(b=b.toLowerCase()),b}function wo(m,b){b&&!m.j&&(An(m),m.i=null,m.g.forEach(function(S,D){const W=D.toLowerCase();D!=W&&(vh(this,D),So(this,W,S))},m)),m.j=b}function gi(m,b){const S=new di;if(l.Image){const D=new Image;D.onload=g(Xn,S,"TestLoadImage: loaded",!0,b,D),D.onerror=g(Xn,S,"TestLoadImage: error",!1,b,D),D.onabort=g(Xn,S,"TestLoadImage: abort",!1,b,D),D.ontimeout=g(Xn,S,"TestLoadImage: timeout",!1,b,D),l.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=m}else b(!1)}function ic(m,b){const S=new di,D=new AbortController,W=setTimeout(()=>{D.abort(),Xn(S,"TestPingServer: timeout",!1,b)},1e4);fetch(m,{signal:D.signal}).then(J=>{clearTimeout(W),J.ok?Xn(S,"TestPingServer: ok",!0,b):Xn(S,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(W),Xn(S,"TestPingServer: error",!1,b)})}function Xn(m,b,S,D,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),D(S)}catch{}}function er(){this.g=new oh}function Hi(m){this.i=m.Sb||null,this.h=m.ab||!1}_(Hi,lh),Hi.prototype.g=function(){return new ga(this.i,this.h)};function ga(m,b){Oe.call(this),this.H=m,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(ga,Oe),n=ga.prototype,n.open=function(m,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=b,this.readyState=1,yi(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(b.body=m),(this.H||l).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,nr(this)),this.readyState=0},n.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,yi(this)),this.g&&(this.readyState=3,yi(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;xo(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function xo(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}n.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var b=m.value?m.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!m.done}))&&(this.response=this.responseText+=b)}m.done?nr(this):yi(this),this.readyState==3&&xo(this)}},n.Oa=function(m){this.g&&(this.response=this.responseText=m,nr(this))},n.Na=function(m){this.g&&(this.response=m,nr(this))},n.ga=function(){this.g&&nr(this)};function nr(m){m.readyState=4,m.l=null,m.j=null,m.B=null,yi(m)}n.setRequestHeader=function(m,b){this.A.append(m,b)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],b=this.h.entries();for(var S=b.next();!S.done;)S=S.value,m.push(S[0]+": "+S[1]),S=b.next();return m.join(`\r
`)};function yi(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(ga.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Qn(m){let b="";return Et(m,function(S,D){b+=D,b+=":",b+=S,b+=`\r
`}),b}function ya(m,b,S){t:{for(D in S){var D=!1;break t}D=!0}D||(S=Qn(S),typeof m=="string"?S!=null&&us(S):Zt(m,b,S))}function ie(m){Oe.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(ie,Oe);var qi=/^https?$/i,sc=["POST","PUT"];n=ie.prototype,n.Fa=function(m){this.H=m},n.ea=function(m,b,S,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);b=b?b.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():$l.g(),this.g.onreadystatechange=v(d(this.Ca,this));try{this.B=!0,this.g.open(b,String(m),!0),this.B=!1}catch(J){_a(this,J);return}if(m=S||"",S=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var W in D)S.set(W,D[W]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const J of D.keys())S.set(J,D.get(J));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(S.keys()).find(J=>J.toLowerCase()=="content-type"),W=l.FormData&&m instanceof l.FormData,!(Array.prototype.indexOf.call(sc,b,void 0)>=0)||D||W||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,lt]of S)this.g.setRequestHeader(J,lt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(J){_a(this,J)}};function _a(m,b){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=b,m.o=5,rc(m),hs(m)}function rc(m){m.A||(m.A=!0,Ge(m,"complete"),Ge(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,Ge(this,"complete"),Ge(this,"abort"),hs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hs(this,!0)),ie.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?va(this):this.Xa())},n.Xa=function(){va(this)};function va(m){if(m.h&&typeof o<"u"){if(m.v&&_i(m)==4)setTimeout(m.Ca.bind(m),0);else if(Ge(m,"readystatechange"),_i(m)==4){m.h=!1;try{const J=m.ca();t:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break t;default:b=!1}var S;if(!(S=b)){var D;if(D=J===0){let lt=String(m.D).match(gh)[1]||null;!lt&&l.self&&l.self.location&&(lt=l.self.location.protocol.slice(0,-1)),D=!qi.test(lt?lt.toLowerCase():"")}S=D}if(S)Ge(m,"complete"),Ge(m,"success");else{m.o=6;try{var W=_i(m)>2?m.g.statusText:""}catch{W=""}m.l=W+" ["+m.ca()+"]",rc(m)}}finally{hs(m)}}}}function hs(m,b){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const S=m.g;m.g=null,b||Ge(m,"ready");try{S.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function _i(m){return m.g?m.g.readyState:0}n.ca=function(){try{return _i(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(m){if(this.g){var b=this.g.responseText;return m&&b.indexOf(m)==0&&(b=b.substring(m.length)),Lm(b)}};function nn(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function fs(m){const b={};m=(m.g&&_i(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<m.length;D++){if(L(m[D]))continue;var S=dh(m[D]);const W=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const J=b[W]||[];b[W]=J,J.push(S)}Vt(b,function(D){return D.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gi(m,b,S){return S&&S.internalChannelParams&&S.internalChannelParams[m]||b}function ir(m){this.za=0,this.i=[],this.j=new di,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Gi("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Gi("baseRetryDelayMs",5e3,m),this.Za=Gi("retryDelaySeedMs",1e4,m),this.Ta=Gi("forwardChannelMaxRetries",2,m),this.va=Gi("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new Wl(m&&m.concurrentRequestLimit),this.Ba=new er,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=ir.prototype,n.ka=8,n.I=1,n.connect=function(m,b,S,D){ke(0),this.W=m,this.H=b||{},S&&D!==void 0&&(this.H.OSID=S,this.H.OAID=D),this.F=this.X,this.J=Rh(this,null,this.W),Yi(this)};function ac(m){if(Ao(m),m.I==3){var b=m.V++,S=Le(m.J);if(Zt(S,"SID",m.M),Zt(S,"RID",b),Zt(S,"TYPE","terminate"),ba(m,S),b=new mi(m,m.j,b),b.M=2,b.A=ma(Le(S)),S=!1,l.navigator&&l.navigator.sendBeacon)try{S=l.navigator.sendBeacon(b.A.toString(),"")}catch{}!S&&l.Image&&(new Image().src=b.A,S=!0),S||(b.g=Ch(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Vi(b)}Ah(m)}function sr(m){m.g&&(lc(m),m.g.cancel(),m.g=null)}function Ao(m){sr(m),m.v&&(l.clearTimeout(m.v),m.v=null),Co(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&l.clearTimeout(m.m),m.m=null)}function Yi(m){if(!Kl(m.h)&&!m.m){m.m=!0;var b=m.Ea;$||C(),tt||($(),tt=!0),w.add(b,m),m.D=0}}function Ro(m,b){return Bi(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=b.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=Ni(d(m.Ea,m,b),xh(m,m.D)),m.D++,!0)}n.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const W=new mi(this,this.j,m);let J=this.o;if(this.U&&(J?(J=F(J),ct(J,this.U)):J=this.U),this.u!==null||this.R||(W.J=J,J=null),this.S)t:{for(var b=0,S=0;S<this.i.length;S++){e:{var D=this.i[S];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break e}D=void 0}if(D===void 0)break;if(b+=D,b>4096){b=S;break t}if(b===4096||S===this.i.length-1){b=S+1;break t}}b=1e3}else b=1e3;b=Th(this,W,b),S=Le(this.J),Zt(S,"RID",m),Zt(S,"CVER",22),this.G&&Zt(S,"X-HTTP-Session-Id",this.G),ba(this,S),J&&(this.R?b="headers="+us(Qn(J))+"&"+b:this.u&&ya(S,this.u,J)),Xl(this.h,W),this.Ra&&Zt(S,"TYPE","init"),this.S?(Zt(S,"$req",b),Zt(S,"SID","null"),W.U=!0,Li(W,S,null)):Li(W,S,b),this.I=2}}else this.I==3&&(m?oc(this,m):this.i.length==0||Kl(this.h)||oc(this))};function oc(m,b){var S;b?S=b.l:S=m.V++;const D=Le(m.J);Zt(D,"SID",m.M),Zt(D,"RID",S),Zt(D,"AID",m.K),ba(m,D),m.u&&m.o&&ya(D,m.u,m.o),S=new mi(m,m.j,S,m.D+1),m.u===null&&(S.J=m.o),b&&(m.i=b.G.concat(m.i)),b=Th(m,S,1e3),S.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Xl(m.h,S),Li(S,D,b)}function ba(m,b){m.H&&Et(m.H,function(S,D){Zt(b,D,S)}),m.l&&Et({},function(S,D){Zt(b,D,S)})}function Th(m,b,S){S=Math.min(m.i.length,S);const D=m.l?d(m.l.Ka,m.l,m):null;t:{var W=m.i;let Mt=-1;for(;;){const Re=["count="+S];Mt==-1?S>0?(Mt=W[0].g,Re.push("ofs="+Mt)):Mt=0:Re.push("ofs="+Mt);let Xt=!0;for(let ge=0;ge<S;ge++){var J=W[ge].g;const Jn=W[ge].map;if(J-=Mt,J<0)Mt=Math.max(0,W[ge].g-100),Xt=!1;else try{J="req"+J+"_"||"";try{var lt=Jn instanceof Map?Jn:Object.entries(Jn);for(const[Wi,vi]of lt){let bi=vi;u(vi)&&(bi=Xs(vi)),Re.push(J+Wi+"="+encodeURIComponent(bi))}}catch(Wi){throw Re.push(J+"type="+encodeURIComponent("_badmap")),Wi}}catch{D&&D(Jn)}}if(Xt){lt=Re.join("&");break t}}lt=void 0}return m=m.i.splice(0,S),b.G=m,lt}function Eh(m){if(!m.g&&!m.v){m.Y=1;var b=m.Da;$||C(),tt||($(),tt=!0),w.add(b,m),m.A=0}}function Ta(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=Ni(d(m.Da,m),xh(m,m.A)),m.A++,!0)}n.Da=function(){if(this.v=null,Sh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=Ni(d(this.Wa,this),m)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ke(10),sr(this),Sh(this))};function lc(m){m.B!=null&&(l.clearTimeout(m.B),m.B=null)}function Sh(m){m.g=new mi(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var b=Le(m.na);Zt(b,"RID","rpc"),Zt(b,"SID",m.M),Zt(b,"AID",m.K),Zt(b,"CI",m.F?"0":"1"),!m.F&&m.ia&&Zt(b,"TO",m.ia),Zt(b,"TYPE","xmlhttp"),ba(m,b),m.u&&m.o&&ya(b,m.u,m.o),m.O&&(m.g.H=m.O);var S=m.g;m=m.ba,S.M=1,S.A=ma(Le(b)),S.u=null,S.R=!0,vo(S,m)}n.Va=function(){this.C!=null&&(this.C=null,sr(this),Ta(this),ke(19))};function Co(m){m.C!=null&&(l.clearTimeout(m.C),m.C=null)}function wh(m,b){var S=null;if(m.g==b){Co(m),lc(m),m.g=null;var D=2}else if(ji(m.h,b))S=b.G,Ql(m.h,b),D=1;else return;if(m.I!=0){if(b.o)if(D==1){S=b.u?b.u.length:0,b=Date.now()-b.F;var W=m.D;D=_o(),Ge(D,new ki(D,S)),Yi(m)}else Eh(m);else if(W=b.m,W==3||W==0&&b.X>0||!(D==1&&Ro(m,b)||D==2&&Ta(m)))switch(S&&S.length>0&&(b=m.h,b.i=b.i.concat(S)),W){case 1:$i(m,5);break;case 4:$i(m,10);break;case 3:$i(m,6);break;default:$i(m,2)}}}function xh(m,b){let S=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(S*=2),S*b}function $i(m,b){if(m.j.info("Error code "+b),b==2){var S=d(m.bb,m),D=m.Ua;const W=!D;D=new Vn(D||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Qe(D,"https"),ma(D),W?gi(D.toString(),S):ic(D.toString(),S)}else ke(2);m.I=0,m.l&&m.l.pa(b),Ah(m),Ao(m)}n.bb=function(m){m?(this.j.info("Successfully pinged google.com"),ke(2)):(this.j.info("Failed to ping google.com"),ke(1))};function Ah(m){if(m.I=0,m.ja=[],m.l){const b=Jl(m.h);(b.length!=0||m.i.length!=0)&&(x(m.ja,b),x(m.ja,m.i),m.h.i.length=0,E(m.i),m.i.length=0),m.l.oa()}}function Rh(m,b,S){var D=S instanceof Vn?Le(S):new Vn(S);if(D.g!="")b&&(D.g=b+"."+D.g),Qs(D,D.u);else{var W=l.location;D=W.protocol,b=b?b+"."+W.hostname:W.hostname,W=+W.port;const J=new Vn(null);D&&Qe(J,D),b&&(J.g=b),W&&Qs(J,W),S&&(J.h=S),D=J}return S=m.G,b=m.wa,S&&b&&Zt(D,S,b),Zt(D,"VER",m.ka),ba(m,D),D}function Ch(m,b,S){if(b&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=m.Aa&&!m.ma?new ie(new Hi({ab:S})):new ie(m.ma),b.Fa(m.L),b}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ih(){}n=Ih.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function rr(){}rr.prototype.g=function(m,b){return new En(m,b)};function En(m,b){Oe.call(this),this.g=new ir(b),this.l=m,this.h=b&&b.messageUrlParams||null,m=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(m?m["X-WebChannel-Content-Type"]=b.messageContentType:m={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(m?m["X-WebChannel-Client-Profile"]=b.sa:m={"X-WebChannel-Client-Profile":b.sa}),this.g.U=m,(m=b&&b.Qb)&&!L(m)&&(this.g.u=m),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!L(b)&&(this.g.G=b,m=this.h,m!==null&&b in m&&(m=this.h,b in m&&delete m[b])),this.j=new ds(this)}_(En,Oe),En.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){ac(this.g)},En.prototype.o=function(m){var b=this.g;if(typeof m=="string"){var S={};S.__data__=m,m=S}else this.v&&(S={},S.__data__=Xs(m),m=S);b.i.push(new Pe(b.Ya++,m)),b.I==3&&Yi(b)},En.prototype.N=function(){this.g.l=null,delete this.j,ac(this.g),delete this.g,En.Z.N.call(this)};function Dh(m){en.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var b=m.__sm__;if(b){t:{for(const S in b){m=S;break t}m=void 0}(this.i=m)&&(m=this.i,b=b!==null&&m in b?b[m]:void 0),this.data=b}else this.data=m}_(Dh,en);function Mh(){Wn.call(this),this.status=1}_(Mh,Wn);function ds(m){this.g=m}_(ds,Ih),ds.prototype.ra=function(){Ge(this.g,"a")},ds.prototype.qa=function(m){Ge(this.g,new Dh(m))},ds.prototype.pa=function(m){Ge(this.g,new Mh)},ds.prototype.oa=function(){Ge(this.g,"b")},rr.prototype.createWebChannel=rr.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,xx=function(){return new rr},wx=function(){return _o()},Sx=Ae,Ry={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fa.NO_ERROR=0,fa.TIMEOUT=8,fa.HTTP_ERROR=6,ld=fa,Yl.COMPLETE="complete",Ex=Yl,ch.EventType=fi,fi.OPEN="a",fi.CLOSE="b",fi.ERROR="c",fi.MESSAGE="d",Oe.prototype.listen=Oe.prototype.J,iu=ch,ie.prototype.listenOnce=ie.prototype.K,ie.prototype.getLastError=ie.prototype.Ha,ie.prototype.getLastErrorCode=ie.prototype.ya,ie.prototype.getStatus=ie.prototype.ca,ie.prototype.getResponseJson=ie.prototype.La,ie.prototype.getResponseText=ie.prototype.la,ie.prototype.send=ie.prototype.ea,ie.prototype.setWithCredentials=ie.prototype.Fa,Tx=ie}).apply(typeof zf<"u"?zf:typeof self<"u"?self:typeof window<"u"?window:{});class mn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");let Nl="12.9.0";function LN(n){Nl=n}const eo=new m_("@firebase/firestore");function ol(){return eo.logLevel}function dt(n,...t){if(eo.logLevel<=Bt.DEBUG){const e=t.map(x_);eo.debug(`Firestore (${Nl}): ${n}`,...e)}}function qs(n,...t){if(eo.logLevel<=Bt.ERROR){const e=t.map(x_);eo.error(`Firestore (${Nl}): ${n}`,...e)}}function no(n,...t){if(eo.logLevel<=Bt.WARN){const e=t.map(x_);eo.warn(`Firestore (${Nl}): ${n}`,...e)}}function x_(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function xt(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,Ax(n,i,e)}function Ax(n,t,e){let i=`FIRESTORE (${Nl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw qs(i),new Error(i)}function Jt(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||Ax(t,r,i)}function It(n,t){return n}const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends $s{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fr{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class Rx{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class VN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(mn.UNAUTHENTICATED)))}shutdown(){}}class zN{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class UN{constructor(t){this.t=t,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Jt(this.o===void 0,42304);let i=this.i;const r=f=>this.i!==i?(i=this.i,e(f)):Promise.resolve();let o=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Fr,t.enqueueRetryable((()=>r(this.currentUser)))};const l=()=>{const f=o;t.enqueueRetryable((async()=>{await f.promise,await r(this.currentUser)}))},u=f=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>u(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Fr)}}),0),l()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Jt(typeof i.accessToken=="string",31837,{l:i}),new Rx(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Jt(t===null||typeof t=="string",2055,{h:t}),new mn(t)}}class BN{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class jN{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new BN(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class PE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FN{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,li(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Jt(this.o===void 0,3512);const i=o=>{o.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,dt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>i(o)))};const r=o=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>r(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new PE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Jt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new PE(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function HN(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class A_{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=HN(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%62))}return i}}function jt(n,t){return n<t?-1:n>t?1:0}function Cy(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const r=n.charAt(i),o=t.charAt(i);if(r!==o)return Kg(r)===Kg(o)?jt(r,o):Kg(r)?1:-1}return jt(n.length,t.length)}const qN=55296,GN=57343;function Kg(n){const t=n.charCodeAt(0);return t>=qN&&t<=GN}function bl(n,t,e){return n.length===t.length&&n.every(((i,r)=>e(i,t[r])))}const LE="__name__";class es{constructor(t,e,i){e===void 0?e=0:e>t.length&&xt(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&xt(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return es.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof es?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=es.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return jt(t.length,e.length)}static compareSegments(t,e){const i=es.isNumericId(t),r=es.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?es.extractNumericId(t).compare(es.extractNumericId(e)):Cy(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return jr.fromString(t.substring(4,t.length-2))}}class ce extends es{construct(t,e,i){return new ce(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ht(rt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((r=>r.length>0)))}return new ce(e)}static emptyPath(){return new ce([])}}const YN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends es{construct(t,e,i){return new cn(t,e,i)}static isValidIdentifier(t){return YN.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===LE}static keyField(){return new cn([LE])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(i.length===0)throw new ht(rt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let l=!1;for(;r<t.length;){const u=t[r];if(u==="\\"){if(r+1===t.length)throw new ht(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ht(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else u==="`"?(l=!l,r++):u!=="."||l?(i+=u,r++):(o(),r++)}if(o(),l)throw new ht(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new cn(e)}static emptyPath(){return new cn([])}}class yt{constructor(t){this.path=t}static fromPath(t){return new yt(ce.fromString(t))}static fromName(t){return new yt(ce.fromString(t).popFirst(5))}static empty(){return new yt(ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ce.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ce.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new ce(t.slice()))}}function Cx(n,t,e){if(!e)throw new ht(rt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function $N(n,t,e,i){if(t===!0&&i===!0)throw new ht(rt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function VE(n){if(!yt.isDocumentKey(n))throw new ht(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function zE(n){if(yt.isDocumentKey(n))throw new ht(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ix(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Xd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":xt(12329,{type:typeof n})}function ui(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ht(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Xd(n);throw new ht(rt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function He(n,t){const e={typeString:n};return t&&(e.value=t),e}function Xu(n,t){if(!Ix(n))throw new ht(rt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const r=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const l=n[i];if(r&&typeof l!==r){e=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&l!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new ht(rt.INVALID_ARGUMENT,e);return!0}const UE=-62135596800,BE=1e6;class de{static now(){return de.fromMillis(Date.now())}static fromDate(t){return de.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*BE);return new de(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ht(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ht(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<UE)throw new ht(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/BE}_compareTo(t){return this.seconds===t.seconds?jt(this.nanoseconds,t.nanoseconds):jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:de._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Xu(t,de._jsonSchema))return new de(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-UE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}de._jsonSchemaVersion="firestore/timestamp/1.0",de._jsonSchema={type:He("string",de._jsonSchemaVersion),seconds:He("number"),nanoseconds:He("number")};class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new de(0,0))}static max(){return new At(new de(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const xu=-1;function WN(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=At.fromTimestamp(i===1e9?new de(e+1,0):new de(e,i));return new Gr(r,yt.empty(),t)}function KN(n){return new Gr(n.readTime,n.key,xu)}class Gr{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Gr(At.min(),yt.empty(),xu)}static max(){return new Gr(At.max(),yt.empty(),xu)}}function XN(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=yt.comparator(n.documentKey,t.documentKey),e!==0?e:jt(n.largestBatchId,t.largestBatchId))}const QN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Pl(n){if(n.code!==rt.FAILED_PRECONDITION||n.message!==QN)throw n;dt("LocalStore","Unexpectedly lost primary lease")}class ot{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&xt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ot(((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof ot?e:ot.resolve(e)}catch(e){return ot.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):ot.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):ot.reject(e)}static resolve(t){return new ot(((e,i)=>{e(t)}))}static reject(t){return new ot(((e,i)=>{i(t)}))}static waitFor(t){return new ot(((e,i)=>{let r=0,o=0,l=!1;t.forEach((u=>{++r,u.next((()=>{++o,l&&o===r&&e()}),(f=>i(f)))})),l=!0,o===r&&e()}))}static or(t){let e=ot.resolve(!1);for(const i of t)e=e.next((r=>r?ot.resolve(r):i()));return e}static forEach(t,e){const i=[];return t.forEach(((r,o)=>{i.push(e.call(this,r,o))})),this.waitFor(i)}static mapArray(t,e){return new ot(((i,r)=>{const o=t.length,l=new Array(o);let u=0;for(let f=0;f<o;f++){const d=f;e(t[d]).next((g=>{l[d]=g,++u,u===o&&i(l)}),(g=>r(g)))}}))}static doWhile(t,e){return new ot(((i,r)=>{const o=()=>{t()===!0?e().next((()=>{o()}),r):i()};o()}))}}function ZN(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Ll(n){return n.name==="IndexedDbTransactionError"}class Qd{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Qd.ce=-1;const R_=-1;function Jd(n){return n==null}function Ad(n){return n===0&&1/n==-1/0}function tP(n){return typeof n=="number"&&Number.isInteger(n)&&!Ad(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Dx="";function eP(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=jE(t)),t=nP(n.get(e),t);return jE(t)}function nP(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="";break;case Dx:e+="";break;default:e+=o}}return e}function jE(n){return n+Dx+""}function FE(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function ia(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Mx(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Te{constructor(t,e){this.comparator=t,this.root=e||ln.EMPTY}insert(t,e){return new Te(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(t){return new Te(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ln.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Uf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Uf(this.root,t,this.comparator,!1)}getReverseIterator(){return new Uf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Uf(this.root,t,this.comparator,!0)}}class Uf{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ln{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??ln.RED,this.left=r??ln.EMPTY,this.right=o??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new ln(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return ln.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw xt(27949);return t+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw xt(57766)}get value(){throw xt(16141)}get color(){throw xt(16727)}get left(){throw xt(29726)}get right(){throw xt(36894)}copy(t,e,i,r,o){return this}insert(t,e,i){return new ln(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class We{constructor(t){this.comparator=t,this.data=new Te(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new HE(this.data.getIterator())}getIteratorFrom(t){return new HE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof We)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new We(this.comparator);return e.data=t,e}}class HE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Yn{constructor(t){this.fields=t,t.sort(cn.comparator)}static empty(){return new Yn([])}unionWith(t){let e=new We(cn.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Yn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return bl(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}class Ox extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class un{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Ox("Invalid base64 string: "+o):o}})(t);return new un(e)}static fromUint8Array(t){const e=(function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o})(t);return new un(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}un.EMPTY_BYTE_STRING=new un("");const iP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(n){if(Jt(!!n,39018),typeof n=="string"){let t=0;const e=iP.exec(n);if(Jt(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:De(n.seconds),nanos:De(n.nanos)}}function De(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function $r(n){return typeof n=="string"?un.fromBase64String(n):un.fromUint8Array(n)}const kx="server_timestamp",Nx="__type__",Px="__previous_value__",Lx="__local_write_time__";function C_(n){return(n?.mapValue?.fields||{})[Nx]?.stringValue===kx}function Zd(n){const t=n.mapValue.fields[Px];return C_(t)?Zd(t):t}function Au(n){const t=Yr(n.mapValue.fields[Lx].timestampValue);return new de(t.seconds,t.nanos)}class sP{constructor(t,e,i,r,o,l,u,f,d,g,_){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=g,this.apiKey=_}}const Rd="(default)";class Ru{constructor(t,e){this.projectId=t,this.database=e||Rd}static empty(){return new Ru("","")}get isDefaultDatabase(){return this.database===Rd}isEqual(t){return t instanceof Ru&&t.projectId===this.projectId&&t.database===this.database}}function rP(n,t){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new ht(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ru(n.options.projectId,t)}const Vx="__type__",aP="__max__",Bf={mapValue:{}},zx="__vector__",Cd="value";function Wr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?C_(n)?4:lP(n)?9007199254740991:oP(n)?10:11:xt(28295,{value:n})}function ls(n,t){if(n===t)return!0;const e=Wr(n);if(e!==Wr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Au(n).isEqual(Au(t));case 3:return(function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=Yr(r.timestampValue),u=Yr(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(r,o){return $r(r.bytesValue).isEqual($r(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(r,o){return De(r.geoPointValue.latitude)===De(o.geoPointValue.latitude)&&De(r.geoPointValue.longitude)===De(o.geoPointValue.longitude)})(n,t);case 2:return(function(r,o){if("integerValue"in r&&"integerValue"in o)return De(r.integerValue)===De(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=De(r.doubleValue),u=De(o.doubleValue);return l===u?Ad(l)===Ad(u):isNaN(l)&&isNaN(u)}return!1})(n,t);case 9:return bl(n.arrayValue.values||[],t.arrayValue.values||[],ls);case 10:case 11:return(function(r,o){const l=r.mapValue.fields||{},u=o.mapValue.fields||{};if(FE(l)!==FE(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(u[f]===void 0||!ls(l[f],u[f])))return!1;return!0})(n,t);default:return xt(52216,{left:n})}}function Cu(n,t){return(n.values||[]).find((e=>ls(e,t)))!==void 0}function Tl(n,t){if(n===t)return 0;const e=Wr(n),i=Wr(t);if(e!==i)return jt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return jt(n.booleanValue,t.booleanValue);case 2:return(function(o,l){const u=De(o.integerValue||o.doubleValue),f=De(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1})(n,t);case 3:return qE(n.timestampValue,t.timestampValue);case 4:return qE(Au(n),Au(t));case 5:return Cy(n.stringValue,t.stringValue);case 6:return(function(o,l){const u=$r(o),f=$r(l);return u.compareTo(f)})(n.bytesValue,t.bytesValue);case 7:return(function(o,l){const u=o.split("/"),f=l.split("/");for(let d=0;d<u.length&&d<f.length;d++){const g=jt(u[d],f[d]);if(g!==0)return g}return jt(u.length,f.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,l){const u=jt(De(o.latitude),De(l.latitude));return u!==0?u:jt(De(o.longitude),De(l.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return GE(n.arrayValue,t.arrayValue);case 10:return(function(o,l){const u=o.fields||{},f=l.fields||{},d=u[Cd]?.arrayValue,g=f[Cd]?.arrayValue,_=jt(d?.values?.length||0,g?.values?.length||0);return _!==0?_:GE(d,g)})(n.mapValue,t.mapValue);case 11:return(function(o,l){if(o===Bf.mapValue&&l===Bf.mapValue)return 0;if(o===Bf.mapValue)return 1;if(l===Bf.mapValue)return-1;const u=o.fields||{},f=Object.keys(u),d=l.fields||{},g=Object.keys(d);f.sort(),g.sort();for(let _=0;_<f.length&&_<g.length;++_){const v=Cy(f[_],g[_]);if(v!==0)return v;const E=Tl(u[f[_]],d[g[_]]);if(E!==0)return E}return jt(f.length,g.length)})(n.mapValue,t.mapValue);default:throw xt(23264,{he:e})}}function qE(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return jt(n,t);const e=Yr(n),i=Yr(t),r=jt(e.seconds,i.seconds);return r!==0?r:jt(e.nanos,i.nanos)}function GE(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=Tl(e[r],i[r]);if(o)return o}return jt(e.length,i.length)}function El(n){return Iy(n)}function Iy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=Yr(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return $r(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return yt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=Iy(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const l of i)o?o=!1:r+=",",r+=`${l}:${Iy(e.fields[l])}`;return r+"}"})(n.mapValue):xt(61005,{value:n})}function cd(n){switch(Wr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Zd(n);return t?16+cd(t):16;case 5:return 2*n.stringValue.length;case 6:return $r(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,o)=>r+cd(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return ia(i.fields,((o,l)=>{r+=o.length+cd(l)})),r})(n.mapValue);default:throw xt(13486,{value:n})}}function YE(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Dy(n){return!!n&&"integerValue"in n}function I_(n){return!!n&&"arrayValue"in n}function $E(n){return!!n&&"nullValue"in n}function WE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ud(n){return!!n&&"mapValue"in n}function oP(n){return(n?.mapValue?.fields||{})[Vx]?.stringValue===zx}function du(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return ia(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=du(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=du(n.arrayValue.values[e]);return t}return{...n}}function lP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===aP}class Nn{constructor(t){this.value=t}static empty(){return new Nn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!ud(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=du(e)}setAll(t){let e=cn.emptyPath(),i={},r=[];t.forEach(((l,u)=>{if(!e.isImmediateParentOf(u)){const f=this.getFieldsMap(e);this.applyChanges(f,i,r),i={},r=[],e=u.popLast()}l?i[u.lastSegment()]=du(l):r.push(u.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());ud(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ls(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];ud(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){ia(e,((r,o)=>t[r]=o));for(const r of i)delete t[r]}clone(){return new Nn(du(this.value))}}function Ux(n){const t=[];return ia(n.fields,((e,i)=>{const r=new cn([e]);if(ud(i)){const o=Ux(i.mapValue).fields;if(o.length===0)t.push(r);else for(const l of o)t.push(r.child(l))}else t.push(r)})),new Yn(t)}class gn{constructor(t,e,i,r,o,l,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(t){return new gn(t,0,At.min(),At.min(),At.min(),Nn.empty(),0)}static newFoundDocument(t,e,i,r){return new gn(t,1,e,At.min(),i,r,0)}static newNoDocument(t,e){return new gn(t,2,e,At.min(),At.min(),Nn.empty(),0)}static newUnknownDocument(t,e){return new gn(t,3,e,At.min(),At.min(),Nn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof gn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Id{constructor(t,e){this.position=t,this.inclusive=e}}function KE(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],l=n.position[r];if(o.field.isKeyField()?i=yt.comparator(yt.fromName(l.referenceValue),e.key):i=Tl(l,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function XE(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!ls(n.position[e],t.position[e]))return!1;return!0}class Iu{constructor(t,e="asc"){this.field=t,this.dir=e}}function cP(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class Bx{}class Fe extends Bx{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new hP(t,e,i):e==="array-contains"?new mP(t,i):e==="in"?new pP(t,i):e==="not-in"?new gP(t,i):e==="array-contains-any"?new yP(t,i):new Fe(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new fP(t,i):new dP(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Tl(e,this.value)):e!==null&&Wr(this.value)===Wr(e)&&this.matchesComparison(Tl(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return xt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ii extends Bx{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Ii(t,e)}matches(t){return jx(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function jx(n){return n.op==="and"}function Fx(n){return uP(n)&&jx(n)}function uP(n){for(const t of n.filters)if(t instanceof Ii)return!1;return!0}function My(n){if(n instanceof Fe)return n.field.canonicalString()+n.op.toString()+El(n.value);if(Fx(n))return n.filters.map((t=>My(t))).join(",");{const t=n.filters.map((e=>My(e))).join(",");return`${n.op}(${t})`}}function Hx(n,t){return n instanceof Fe?(function(i,r){return r instanceof Fe&&i.op===r.op&&i.field.isEqual(r.field)&&ls(i.value,r.value)})(n,t):n instanceof Ii?(function(i,r){return r instanceof Ii&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((o,l,u)=>o&&Hx(l,r.filters[u])),!0):!1})(n,t):void xt(19439)}function qx(n){return n instanceof Fe?(function(e){return`${e.field.canonicalString()} ${e.op} ${El(e.value)}`})(n):n instanceof Ii?(function(e){return e.op.toString()+" {"+e.getFilters().map(qx).join(" ,")+"}"})(n):"Filter"}class hP extends Fe{constructor(t,e,i){super(t,e,i),this.key=yt.fromName(i.referenceValue)}matches(t){const e=yt.comparator(t.key,this.key);return this.matchesComparison(e)}}class fP extends Fe{constructor(t,e){super(t,"in",e),this.keys=Gx("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class dP extends Fe{constructor(t,e){super(t,"not-in",e),this.keys=Gx("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function Gx(n,t){return(t.arrayValue?.values||[]).map((e=>yt.fromName(e.referenceValue)))}class mP extends Fe{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return I_(e)&&Cu(e.arrayValue,this.value)}}class pP extends Fe{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Cu(this.value.arrayValue,e)}}class gP extends Fe{constructor(t,e){super(t,"not-in",e)}matches(t){if(Cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Cu(this.value.arrayValue,e)}}class yP extends Fe{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!I_(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>Cu(this.value.arrayValue,i)))}}class _P{constructor(t,e=null,i=[],r=[],o=null,l=null,u=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=l,this.endAt=u,this.Te=null}}function QE(n,t=null,e=[],i=[],r=null,o=null,l=null){return new _P(n,t,e,i,r,o,l)}function D_(n){const t=It(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>My(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),Jd(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>El(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>El(i))).join(",")),t.Te=e}return t.Te}function M_(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!cP(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!Hx(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!XE(n.startAt,t.startAt)&&XE(n.endAt,t.endAt)}function Oy(n){return yt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Vl{constructor(t,e=null,i=[],r=[],o=null,l="F",u=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function vP(n,t,e,i,r,o,l,u){return new Vl(n,t,e,i,r,o,l,u)}function tm(n){return new Vl(n)}function JE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function bP(n){return yt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Yx(n){return n.collectionGroup!==null}function mu(n){const t=It(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new We(cn.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(u=u.add(d.field))}))})),u})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new Iu(o,i))})),e.has(cn.keyField().canonicalString())||t.Ie.push(new Iu(cn.keyField(),i))}return t.Ie}function ss(n){const t=It(n);return t.Ee||(t.Ee=TP(t,mu(n))),t.Ee}function TP(n,t){if(n.limitType==="F")return QE(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((r=>{const o=r.dir==="desc"?"asc":"desc";return new Iu(r.field,o)}));const e=n.endAt?new Id(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Id(n.startAt.position,n.startAt.inclusive):null;return QE(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function ky(n,t){const e=n.filters.concat([t]);return new Vl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function EP(n,t){const e=n.explicitOrderBy.concat([t]);return new Vl(n.path,n.collectionGroup,e,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function Ny(n,t,e){return new Vl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function em(n,t){return M_(ss(n),ss(t))&&n.limitType===t.limitType}function $x(n){return`${D_(ss(n))}|lt:${n.limitType}`}function ll(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((r=>qx(r))).join(", ")}]`),Jd(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((r=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(r))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>El(r))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>El(r))).join(",")),`Target(${i})`})(ss(n))}; limitType=${n.limitType})`}function nm(n,t){return t.isFoundDocument()&&(function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):yt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,t)&&(function(i,r){for(const o of mu(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0})(n,t)&&(function(i,r){return!(i.startAt&&!(function(l,u,f){const d=KE(l,u,f);return l.inclusive?d<=0:d<0})(i.startAt,mu(i),r)||i.endAt&&!(function(l,u,f){const d=KE(l,u,f);return l.inclusive?d>=0:d>0})(i.endAt,mu(i),r))})(n,t)}function SP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Wx(n){return(t,e)=>{let i=!1;for(const r of mu(n)){const o=wP(r,t,e);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function wP(n,t,e){const i=n.field.isKeyField()?yt.comparator(t.key,e.key):(function(o,l,u){const f=l.data.field(o),d=u.data.field(o);return f!==null&&d!==null?Tl(f,d):xt(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return xt(19790,{direction:n.dir})}}class uo{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){ia(this.inner,((e,i)=>{for(const[r,o]of i)t(r,o)}))}isEmpty(){return Mx(this.inner)}size(){return this.innerSize}}const xP=new Te(yt.comparator);function Gs(){return xP}const Kx=new Te(yt.comparator);function su(...n){let t=Kx;for(const e of n)t=t.insert(e.key,e);return t}function Xx(n){let t=Kx;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function Ya(){return pu()}function Qx(){return pu()}function pu(){return new uo((n=>n.toString()),((n,t)=>n.isEqual(t)))}const AP=new Te(yt.comparator),RP=new We(yt.comparator);function Ft(...n){let t=RP;for(const e of n)t=t.add(e);return t}const CP=new We(jt);function IP(){return CP}function O_(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ad(t)?"-0":t}}function Jx(n){return{integerValue:""+n}}function DP(n,t){return tP(t)?Jx(t):O_(n,t)}class im{constructor(){this._=void 0}}function MP(n,t,e){return n instanceof Du?(function(r,o){const l={fields:{[Nx]:{stringValue:kx},[Lx]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&C_(o)&&(o=Zd(o)),o&&(l.fields[Px]=o),{mapValue:l}})(e,t):n instanceof Mu?tA(n,t):n instanceof Ou?eA(n,t):(function(r,o){const l=Zx(r,o),u=ZE(l)+ZE(r.Ae);return Dy(l)&&Dy(r.Ae)?Jx(u):O_(r.serializer,u)})(n,t)}function OP(n,t,e){return n instanceof Mu?tA(n,t):n instanceof Ou?eA(n,t):e}function Zx(n,t){return n instanceof Dd?(function(i){return Dy(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(t)?t:{integerValue:0}:null}class Du extends im{}class Mu extends im{constructor(t){super(),this.elements=t}}function tA(n,t){const e=nA(t);for(const i of n.elements)e.some((r=>ls(r,i)))||e.push(i);return{arrayValue:{values:e}}}class Ou extends im{constructor(t){super(),this.elements=t}}function eA(n,t){let e=nA(t);for(const i of n.elements)e=e.filter((r=>!ls(r,i)));return{arrayValue:{values:e}}}class Dd extends im{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function ZE(n){return De(n.integerValue||n.doubleValue)}function nA(n){return I_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class kP{constructor(t,e){this.field=t,this.transform=e}}function NP(n,t){return n.field.isEqual(t.field)&&(function(i,r){return i instanceof Mu&&r instanceof Mu||i instanceof Ou&&r instanceof Ou?bl(i.elements,r.elements,ls):i instanceof Dd&&r instanceof Dd?ls(i.Ae,r.Ae):i instanceof Du&&r instanceof Du})(n.transform,t.transform)}class PP{constructor(t,e){this.version=t,this.transformResults=e}}class hi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new hi}static exists(t){return new hi(void 0,t)}static updateTime(t){return new hi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function hd(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class sm{}function iA(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new k_(n.key,hi.none()):new Qu(n.key,n.data,hi.none());{const e=n.data,i=Nn.empty();let r=new We(cn.comparator);for(let o of t.fields)if(!r.has(o)){let l=e.field(o);l===null&&o.length>1&&(o=o.popLast(),l=e.field(o)),l===null?i.delete(o):i.set(o,l),r=r.add(o)}return new sa(n.key,i,new Yn(r.toArray()),hi.none())}}function LP(n,t,e){n instanceof Qu?(function(r,o,l){const u=r.value.clone(),f=eS(r.fieldTransforms,o,l.transformResults);u.setAll(f),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(n,t,e):n instanceof sa?(function(r,o,l){if(!hd(r.precondition,o))return void o.convertToUnknownDocument(l.version);const u=eS(r.fieldTransforms,o,l.transformResults),f=o.data;f.setAll(sA(r)),f.setAll(u),o.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(n,t,e):(function(r,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,t,e)}function gu(n,t,e,i){return n instanceof Qu?(function(o,l,u,f){if(!hd(o.precondition,l))return u;const d=o.value.clone(),g=nS(o.fieldTransforms,f,l);return d.setAll(g),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null})(n,t,e,i):n instanceof sa?(function(o,l,u,f){if(!hd(o.precondition,l))return u;const d=nS(o.fieldTransforms,f,l),g=l.data;return g.setAll(sA(o)),g.setAll(d),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((_=>_.field)))})(n,t,e,i):(function(o,l,u){return hd(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(n,t,e)}function VP(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=Zx(i.transform,r||null);o!=null&&(e===null&&(e=Nn.empty()),e.set(i.field,o))}return e||null}function tS(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&bl(i,r,((o,l)=>NP(o,l)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Qu extends sm{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class sa extends sm{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function sA(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function eS(n,t,e){const i=new Map;Jt(n.length===e.length,32656,{Ve:e.length,de:n.length});for(let r=0;r<e.length;r++){const o=n[r],l=o.transform,u=t.data.field(o.field);i.set(o.field,OP(l,u,e[r]))}return i}function nS(n,t,e){const i=new Map;for(const r of n){const o=r.transform,l=e.data.field(r.field);i.set(r.field,MP(o,l,t))}return i}class k_ extends sm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zP extends sm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class UP{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&LP(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=gu(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=gu(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=Qx();return this.mutations.forEach((r=>{const o=t.get(r.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=e.has(r.key)?null:u;const f=iA(l,u);f!==null&&i.set(r.key,f),l.isValidDocument()||l.convertToNoDocument(At.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Ft())}isEqual(t){return this.batchId===t.batchId&&bl(this.mutations,t.mutations,((e,i)=>tS(e,i)))&&bl(this.baseMutations,t.baseMutations,((e,i)=>tS(e,i)))}}class N_{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Jt(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let r=(function(){return AP})();const o=t.mutations;for(let l=0;l<o.length;l++)r=r.insert(o[l].key,i[l].version);return new N_(t,e,i,r)}}class BP{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class jP{constructor(t,e){this.count=t,this.unchangedNames=e}}var je,Yt;function FP(n){switch(n){case rt.OK:return xt(64938);case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0;default:return xt(15467,{code:n})}}function rA(n){if(n===void 0)return qs("GRPC error has no .code"),rt.UNKNOWN;switch(n){case je.OK:return rt.OK;case je.CANCELLED:return rt.CANCELLED;case je.UNKNOWN:return rt.UNKNOWN;case je.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case je.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case je.INTERNAL:return rt.INTERNAL;case je.UNAVAILABLE:return rt.UNAVAILABLE;case je.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case je.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case je.NOT_FOUND:return rt.NOT_FOUND;case je.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case je.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case je.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case je.ABORTED:return rt.ABORTED;case je.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case je.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case je.DATA_LOSS:return rt.DATA_LOSS;default:return xt(39323,{code:n})}}(Yt=je||(je={}))[Yt.OK=0]="OK",Yt[Yt.CANCELLED=1]="CANCELLED",Yt[Yt.UNKNOWN=2]="UNKNOWN",Yt[Yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yt[Yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yt[Yt.NOT_FOUND=5]="NOT_FOUND",Yt[Yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yt[Yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yt[Yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yt[Yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yt[Yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yt[Yt.ABORTED=10]="ABORTED",Yt[Yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yt[Yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yt[Yt.INTERNAL=13]="INTERNAL",Yt[Yt.UNAVAILABLE=14]="UNAVAILABLE",Yt[Yt.DATA_LOSS=15]="DATA_LOSS";function HP(){return new TextEncoder}const qP=new jr([4294967295,4294967295],0);function iS(n){const t=HP().encode(n),e=new bx;return e.update(t),new Uint8Array(e.digest())}function sS(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new jr([e,i],0),new jr([r,o],0)]}class P_{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new ru(`Invalid padding: ${e}`);if(i<0)throw new ru(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new ru(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new ru(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=jr.fromNumber(this.ge)}ye(t,e,i){let r=t.add(e.multiply(jr.fromNumber(i)));return r.compare(qP)===1&&(r=new jr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=iS(t),[i,r]=sS(e);for(let o=0;o<this.hashCount;o++){const l=this.ye(i,r,o);if(!this.we(l))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),l=new P_(o,r,e);return i.forEach((u=>l.insert(u))),l}insert(t){if(this.ge===0)return;const e=iS(t),[i,r]=sS(e);for(let o=0;o<this.hashCount;o++){const l=this.ye(i,r,o);this.be(l)}}be(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class ru extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class rm{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,Ju.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new rm(At.min(),r,new Te(jt),Gs(),Ft())}}class Ju{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Ju(i,e,Ft(),Ft(),Ft())}}class fd{constructor(t,e,i,r){this.Se=t,this.removedTargetIds=e,this.key=i,this.De=r}}class aA{constructor(t,e){this.targetId=t,this.Ce=e}}class oA{constructor(t,e,i=un.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class rS{constructor(){this.ve=0,this.Fe=aS(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ft(),e=Ft(),i=Ft();return this.Fe.forEach(((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:xt(38017,{changeType:o})}})),new Ju(this.Me,this.xe,t,e,i)}Ke(){this.Oe=!1,this.Fe=aS()}qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Jt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class GP{constructor(t){this.Ge=t,this.ze=new Map,this.je=Gs(),this.He=jf(),this.Je=jf(),this.Ze=new Te(jt)}Xe(t){for(const e of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(t.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.Qe(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:xt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,r)=>{this.rt(r)&&e(r)}))}st(t){const e=t.targetId,i=t.Ce.count,r=this.ot(e);if(r){const o=r.target;if(Oy(o))if(i===0){const l=new yt(o.path);this.et(e,l,gn.newNoDocument(l,At.min()))}else Jt(i===1,20013,{expectedCount:i});else{const l=this._t(e);if(l!==i){const u=this.ut(t),f=u?this.ct(u,t,l):1;if(f!==0){this.it(e);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,d)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let l,u;try{l=$r(i).toUint8Array()}catch(f){if(f instanceof Ox)return no("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new P_(l,r,o)}catch(f){return no(f instanceof ru?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let r=0;return i.forEach((o=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;t.mightContain(u)||(this.et(e,o,null),r++)})),r}Tt(t){const e=new Map;this.ze.forEach(((o,l)=>{const u=this.ot(l);if(u){if(o.current&&Oy(u.target)){const f=new yt(u.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,gn.newNoDocument(f,t))}o.Be&&(e.set(l,o.ke()),o.Ke())}}));let i=Ft();this.Je.forEach(((o,l)=>{let u=!0;l.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(i=i.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(t)));const r=new rm(t,e,this.Ze,this.je,i);return this.je=Gs(),this.He=jf(),this.Je=jf(),this.Ze=new Te(jt),r}Ye(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).qe(e.key,i),this.je=this.je.insert(e.key,e),this.He=this.He.insert(e.key,this.It(e.key).add(t)),this.Je=this.Je.insert(e.key,this.Rt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const r=this.nt(t);this.Et(t,e)?r.qe(e,1):r.Ue(e),this.Je=this.Je.insert(e,this.Rt(e).delete(t)),this.Je=this.Je.insert(e,this.Rt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let e=this.ze.get(t);return e||(e=new rS,this.ze.set(t,e)),e}Rt(t){let e=this.Je.get(t);return e||(e=new We(jt),this.Je=this.Je.insert(t,e)),e}It(t){let e=this.He.get(t);return e||(e=new We(jt),this.He=this.He.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||dt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new rS),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function jf(){return new Te(yt.comparator)}function aS(){return new Te(yt.comparator)}const YP={asc:"ASCENDING",desc:"DESCENDING"},$P={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WP={and:"AND",or:"OR"};class KP{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Py(n,t){return n.useProto3Json||Jd(t)?t:{value:t}}function Md(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function lA(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function XP(n,t){return Md(n,t.toTimestamp())}function rs(n){return Jt(!!n,49232),At.fromTimestamp((function(e){const i=Yr(e);return new de(i.seconds,i.nanos)})(n))}function L_(n,t){return Ly(n,t).canonicalString()}function Ly(n,t){const e=(function(r){return new ce(["projects",r.projectId,"databases",r.database])})(n).child("documents");return t===void 0?e:e.child(t)}function cA(n){const t=ce.fromString(n);return Jt(mA(t),10190,{key:t.toString()}),t}function Vy(n,t){return L_(n.databaseId,t.path)}function Xg(n,t){const e=cA(t);if(e.get(1)!==n.databaseId.projectId)throw new ht(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ht(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new yt(hA(e))}function uA(n,t){return L_(n.databaseId,t)}function QP(n){const t=cA(n);return t.length===4?ce.emptyPath():hA(t)}function zy(n){return new ce(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function hA(n){return Jt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function oS(n,t,e){return{name:Vy(n,t),fields:e.value.mapValue.fields}}function JP(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:xt(39313,{state:d})})(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=(function(d,g){return d.useProto3Json?(Jt(g===void 0||typeof g=="string",58123),un.fromBase64String(g||"")):(Jt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),un.fromUint8Array(g||new Uint8Array))})(n,t.targetChange.resumeToken),l=t.targetChange.cause,u=l&&(function(d){const g=d.code===void 0?rt.UNKNOWN:rA(d.code);return new ht(g,d.message||"")})(l);e=new oA(i,r,o,u||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Xg(n,i.document.name),o=rs(i.document.updateTime),l=i.document.createTime?rs(i.document.createTime):At.min(),u=new Nn({mapValue:{fields:i.document.fields}}),f=gn.newFoundDocument(r,o,l,u),d=i.targetIds||[],g=i.removedTargetIds||[];e=new fd(d,g,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Xg(n,i.document),o=i.readTime?rs(i.readTime):At.min(),l=gn.newNoDocument(r,o),u=i.removedTargetIds||[];e=new fd([],u,l.key,l)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Xg(n,i.document),o=i.removedTargetIds||[];e=new fd([],o,r,null)}else{if(!("filter"in t))return xt(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,l=new jP(r,o),u=i.targetId;e=new aA(u,l)}}return e}function ZP(n,t){let e;if(t instanceof Qu)e={update:oS(n,t.key,t.value)};else if(t instanceof k_)e={delete:Vy(n,t.key)};else if(t instanceof sa)e={update:oS(n,t.key,t.data),updateMask:lL(t.fieldMask)};else{if(!(t instanceof zP))return xt(16599,{dt:t.type});e={verify:Vy(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(o,l){const u=l.transform;if(u instanceof Du)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Mu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Ou)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Dd)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw xt(20930,{transform:l.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(r,o){return o.updateTime!==void 0?{updateTime:XP(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:xt(27497)})(n,t.precondition)),e}function tL(n,t){return n&&n.length>0?(Jt(t!==void 0,14353),n.map((e=>(function(r,o){let l=r.updateTime?rs(r.updateTime):rs(o);return l.isEqual(At.min())&&(l=rs(o)),new PP(l,r.transformResults||[])})(e,t)))):[]}function eL(n,t){return{documents:[uA(n,t.path)]}}function nL(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=uA(n,r);const o=(function(d){if(d.length!==0)return dA(Ii.create(d,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const l=(function(d){if(d.length!==0)return d.map((g=>(function(v){return{field:cl(v.field),direction:rL(v.dir)}})(g)))})(t.orderBy);l&&(e.structuredQuery.orderBy=l);const u=Py(n,t.limit);return u!==null&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(t.endAt)),{ft:e,parent:r}}function iL(n){let t=QP(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Jt(i===1,65062);const g=e.from[0];g.allDescendants?r=g.collectionId:t=t.child(g.collectionId)}let o=[];e.where&&(o=(function(_){const v=fA(_);return v instanceof Ii&&Fx(v)?v.getFilters():[v]})(e.where));let l=[];e.orderBy&&(l=(function(_){return _.map((v=>(function(x){return new Iu(ul(x.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(v)))})(e.orderBy));let u=null;e.limit&&(u=(function(_){let v;return v=typeof _=="object"?_.value:_,Jd(v)?null:v})(e.limit));let f=null;e.startAt&&(f=(function(_){const v=!!_.before,E=_.values||[];return new Id(E,v)})(e.startAt));let d=null;return e.endAt&&(d=(function(_){const v=!_.before,E=_.values||[];return new Id(E,v)})(e.endAt)),vP(t,r,l,o,u,"F",f,d)}function sL(n,t){const e=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xt(28987,{purpose:r})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function fA(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=ul(e.unaryFilter.field);return Fe.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=ul(e.unaryFilter.field);return Fe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ul(e.unaryFilter.field);return Fe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ul(e.unaryFilter.field);return Fe.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xt(61313);default:return xt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return Fe.create(ul(e.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xt(58110);default:return xt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return Ii.create(e.compositeFilter.filters.map((i=>fA(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return xt(1026)}})(e.compositeFilter.op))})(n):xt(30097,{filter:n})}function rL(n){return YP[n]}function aL(n){return $P[n]}function oL(n){return WP[n]}function cl(n){return{fieldPath:n.canonicalString()}}function ul(n){return cn.fromServerFormat(n.fieldPath)}function dA(n){return n instanceof Fe?(function(e){if(e.op==="=="){if(WE(e.value))return{unaryFilter:{field:cl(e.field),op:"IS_NAN"}};if($E(e.value))return{unaryFilter:{field:cl(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(WE(e.value))return{unaryFilter:{field:cl(e.field),op:"IS_NOT_NAN"}};if($E(e.value))return{unaryFilter:{field:cl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cl(e.field),op:aL(e.op),value:e.value}}})(n):n instanceof Ii?(function(e){const i=e.getFilters().map((r=>dA(r)));return i.length===1?i[0]:{compositeFilter:{op:oL(e.op),filters:i}}})(n):xt(54877,{filter:n})}function lL(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function mA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function pA(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class kr{constructor(t,e,i,r,o=At.min(),l=At.min(),u=un.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(t){return new kr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class cL{constructor(t){this.yt=t}}function uL(n){const t=iL({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ny(t,t.limit,"L"):t}class hL{constructor(){this.Sn=new fL}addToCollectionParentIndex(t,e){return this.Sn.add(e),ot.resolve()}getCollectionParents(t,e){return ot.resolve(this.Sn.getEntries(e))}addFieldIndex(t,e){return ot.resolve()}deleteFieldIndex(t,e){return ot.resolve()}deleteAllFieldIndexes(t){return ot.resolve()}createTargetIndexes(t,e){return ot.resolve()}getDocumentsMatchingTarget(t,e){return ot.resolve(null)}getIndexType(t,e){return ot.resolve(0)}getFieldIndexes(t,e){return ot.resolve([])}getNextCollectionGroupToUpdate(t){return ot.resolve(null)}getMinOffset(t,e){return ot.resolve(Gr.min())}getMinOffsetFromCollectionGroup(t,e){return ot.resolve(Gr.min())}updateCollectionGroup(t,e,i){return ot.resolve()}updateIndexEntries(t,e){return ot.resolve()}}class fL{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new We(ce.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new We(ce.comparator)).toArray()}}const lS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gA=41943040;class kn{static withCacheSize(t){return new kn(t,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(gA,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);class Sl{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Sl(0)}static ar(){return new Sl(-1)}}const cS="LruGarbageCollector",dL=1048576;function uS([n,t],[e,i]){const r=jt(n,e);return r===0?jt(t,i):r}class mL{constructor(t){this.Pr=t,this.buffer=new We(uS),this.Tr=0}Ir(){return++this.Tr}Er(t){const e=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();uS(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class pL{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){dt(cS,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ll(e)?dt(cS,"Ignoring IndexedDB error during garbage collection: ",e):await Pl(e)}await this.Ar(3e5)}))}}class gL{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.dr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return ot.resolve(Qd.ce);const i=new mL(e);return this.Vr.forEachTarget(t,(r=>i.Er(r.sequenceNumber))).next((()=>this.Vr.mr(t,(r=>i.Er(r))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.Vr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),ot.resolve(lS)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lS):this.gr(t,e)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,e){let i,r,o,l,u,f,d;const g=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),r=this.params.maximumSequenceNumbersToCollect):r=_,l=Date.now(),this.nthSequenceNumber(t,r)))).next((_=>(i=_,u=Date.now(),this.removeTargets(t,i,e)))).next((_=>(o=_,f=Date.now(),this.removeOrphanedDocuments(t,i)))).next((_=>(d=Date.now(),ol()<=Bt.DEBUG&&dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${r} in `+(u-l)+`ms
	Removed ${o} targets in `+(f-u)+`ms
	Removed ${_} documents in `+(d-f)+`ms
Total Duration: ${d-g}ms`),ot.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:_}))))}}function yL(n,t){return new gL(n,t)}class _L{constructor(){this.changes=new uo((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,gn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?ot.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class vL{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class bL{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(i=r,this.remoteDocumentCache.getEntry(t,e)))).next((r=>(i!==null&&gu(i.mutation,r,Yn.empty(),de.now()),r)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,Ft()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=Ft()){const r=Ya();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,i).next((o=>{let l=su();return o.forEach(((u,f)=>{l=l.insert(u,f.overlayedDocument)})),l}))))}getOverlayedDocuments(t,e){const i=Ya();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,Ft())))}populateOverlays(t,e,i){const r=[];return i.forEach((o=>{e.has(o)||r.push(o)})),this.documentOverlayCache.getOverlays(t,r).next((o=>{o.forEach(((l,u)=>{e.set(l,u)}))}))}computeViews(t,e,i,r){let o=Gs();const l=pu(),u=(function(){return pu()})();return e.forEach(((f,d)=>{const g=i.get(d.key);r.has(d.key)&&(g===void 0||g.mutation instanceof sa)?o=o.insert(d.key,d):g!==void 0?(l.set(d.key,g.mutation.getFieldMask()),gu(g.mutation,d,g.mutation.getFieldMask(),de.now())):l.set(d.key,Yn.empty())})),this.recalculateAndSaveOverlays(t,o).next((f=>(f.forEach(((d,g)=>l.set(d,g))),e.forEach(((d,g)=>u.set(d,new vL(g,l.get(d)??null)))),u)))}recalculateAndSaveOverlays(t,e){const i=pu();let r=new Te(((l,u)=>l-u)),o=Ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((l=>{for(const u of l)u.keys().forEach((f=>{const d=e.get(f);if(d===null)return;let g=i.get(f)||Yn.empty();g=u.applyToLocalView(d,g),i.set(f,g);const _=(r.get(u.batchId)||Ft()).add(f);r=r.insert(u.batchId,_)}))})).next((()=>{const l=[],u=r.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),d=f.key,g=f.value,_=Qx();g.forEach((v=>{if(!o.has(v)){const E=iA(e.get(v),i.get(v));E!==null&&_.set(v,E),o=o.add(v)}})),l.push(this.documentOverlayCache.saveOverlays(t,d,_))}return ot.waitFor(l)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,r){return bP(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):Yx(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next((o=>{const l=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):ot.resolve(Ya());let u=xu,f=o;return l.next((d=>ot.forEach(d,((g,_)=>(u<_.largestBatchId&&(u=_.largestBatchId),o.get(g)?ot.resolve():this.remoteDocumentCache.getEntry(t,g).next((v=>{f=f.insert(g,v)}))))).next((()=>this.populateOverlays(t,d,o))).next((()=>this.computeViews(t,f,d,Ft()))).next((g=>({batchId:u,changes:Xx(g)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new yt(e)).next((i=>{let r=su();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let l=su();return this.indexManager.getCollectionParents(t,o).next((u=>ot.forEach(u,(f=>{const d=(function(_,v){return new Vl(v,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,d,i,r).next((g=>{g.forEach(((_,v)=>{l=l.insert(_,v)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r)))).next((l=>{o.forEach(((f,d)=>{const g=d.getKey();l.get(g)===null&&(l=l.insert(g,gn.newInvalidDocument(g)))}));let u=su();return l.forEach(((f,d)=>{const g=o.get(f);g!==void 0&&gu(g.mutation,d,Yn.empty(),de.now()),nm(e,d)&&(u=u.insert(f,d))})),u}))}}class TL{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,e){return ot.resolve(this.Nr.get(e))}saveBundleMetadata(t,e){return this.Nr.set(e.id,(function(r){return{id:r.id,version:r.version,createTime:rs(r.createTime)}})(e)),ot.resolve()}getNamedQuery(t,e){return ot.resolve(this.Br.get(e))}saveNamedQuery(t,e){return this.Br.set(e.name,(function(r){return{name:r.name,query:uL(r.bundledQuery),readTime:rs(r.readTime)}})(e)),ot.resolve()}}class EL{constructor(){this.overlays=new Te(yt.comparator),this.Lr=new Map}getOverlay(t,e){return ot.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Ya();return ot.forEach(e,(r=>this.getOverlay(t,r).next((o=>{o!==null&&i.set(r,o)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((r,o)=>{this.bt(t,e,o)})),ot.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.Lr.get(i);return r!==void 0&&(r.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(i)),ot.resolve()}getOverlaysForCollection(t,e,i){const r=Ya(),o=e.length+1,l=new yt(e.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const f=u.getNext().value,d=f.getKey();if(!e.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>i&&r.set(f.getKey(),f)}return ot.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new Te(((d,g)=>d-g));const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===e&&d.largestBatchId>i){let g=o.get(d.largestBatchId);g===null&&(g=Ya(),o=o.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const u=Ya(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,g)=>u.set(d,g))),!(u.size()>=r)););return ot.resolve(u)}bt(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const l=this.Lr.get(r.largestBatchId).delete(i.key);this.Lr.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new BP(e,i));let o=this.Lr.get(e);o===void 0&&(o=Ft(),this.Lr.set(e,o)),this.Lr.set(e,o.add(i.key))}}class SL{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(t){return ot.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,ot.resolve()}}class V_{constructor(){this.kr=new We(Ze.Kr),this.qr=new We(Ze.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,e){const i=new Ze(t,e);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Wr(new Ze(t,e))}Qr(t,e){t.forEach((i=>this.removeReference(i,e)))}Gr(t){const e=new yt(new ce([])),i=new Ze(e,t),r=new Ze(e,t+1),o=[];return this.qr.forEachInRange([i,r],(l=>{this.Wr(l),o.push(l.key)})),o}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const e=new yt(new ce([])),i=new Ze(e,t),r=new Ze(e,t+1);let o=Ft();return this.qr.forEachInRange([i,r],(l=>{o=o.add(l.key)})),o}containsKey(t){const e=new Ze(t,0),i=this.kr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Ze{constructor(t,e){this.key=t,this.Hr=e}static Kr(t,e){return yt.comparator(t.key,e.key)||jt(t.Hr,e.Hr)}static Ur(t,e){return jt(t.Hr,e.Hr)||yt.comparator(t.key,e.key)}}class wL{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Yn=1,this.Jr=new We(Ze.Kr)}checkEmpty(t){return ot.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new UP(o,e,i,r);this.mutationQueue.push(l);for(const u of r)this.Jr=this.Jr.add(new Ze(u.key,o)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return ot.resolve(l)}lookupMutationBatch(t,e){return ot.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.Xr(i),o=r<0?0:r;return ot.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ot.resolve(this.mutationQueue.length===0?R_:this.Yn-1)}getAllMutationBatches(t){return ot.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Ze(e,0),r=new Ze(e,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([i,r],(l=>{const u=this.Zr(l.Hr);o.push(u)})),ot.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new We(jt);return e.forEach((r=>{const o=new Ze(r,0),l=new Ze(r,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,l],(u=>{i=i.add(u.Hr)}))})),ot.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;yt.isDocumentKey(o)||(o=o.child(""));const l=new Ze(new yt(o),0);let u=new We(jt);return this.Jr.forEachWhile((f=>{const d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(u=u.add(f.Hr)),!0)}),l),ot.resolve(this.Yr(u))}Yr(t){const e=[];return t.forEach((i=>{const r=this.Zr(i);r!==null&&e.push(r)})),e}removeMutationBatch(t,e){Jt(this.ei(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return ot.forEach(e.mutations,(r=>{const o=new Ze(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.Jr=i}))}nr(t){}containsKey(t,e){const i=new Ze(e,0),r=this.Jr.firstAfterOrEqual(i);return ot.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,ot.resolve()}ei(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class xL{constructor(t){this.ti=t,this.docs=(function(){return new Te(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,l=this.ti(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ot.resolve(i?i.document.mutableCopy():gn.newInvalidDocument(e))}getEntries(t,e){let i=Gs();return e.forEach((r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():gn.newInvalidDocument(r))})),ot.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=Gs();const l=e.path,u=new yt(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:d,value:{document:g}}=f.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||XN(KN(g),i)<=0||(r.has(g.key)||nm(e,g))&&(o=o.insert(g.key,g.mutableCopy()))}return ot.resolve(o)}getAllFromCollectionGroup(t,e,i,r){xt(9500)}ni(t,e){return ot.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new AL(this)}getSize(t){return ot.resolve(this.size)}}class AL extends _L{constructor(t){super(),this.Mr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?e.push(this.Mr.addEntry(t,r)):this.Mr.removeEntry(i)})),ot.waitFor(e)}getFromCache(t,e){return this.Mr.getEntry(t,e)}getAllFromCache(t,e){return this.Mr.getEntries(t,e)}}class RL{constructor(t){this.persistence=t,this.ri=new uo((e=>D_(e)),M_),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.ii=0,this.si=new V_,this.targetCount=0,this.oi=Sl._r()}forEachTarget(t,e){return this.ri.forEach(((i,r)=>e(r))),ot.resolve()}getLastRemoteSnapshotVersion(t){return ot.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ot.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),ot.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.ii&&(this.ii=e),ot.resolve()}lr(t){this.ri.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.oi=new Sl(e),this.highestTargetId=e),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,e){return this.lr(e),this.targetCount+=1,ot.resolve()}updateTargetData(t,e){return this.lr(e),ot.resolve()}removeTargetData(t,e){return this.ri.delete(e.target),this.si.Gr(e.targetId),this.targetCount-=1,ot.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.ri.forEach(((l,u)=>{u.sequenceNumber<=e&&i.get(u.targetId)===null&&(this.ri.delete(l),o.push(this.removeMatchingKeysForTargetId(t,u.targetId)),r++)})),ot.waitFor(o).next((()=>r))}getTargetCount(t){return ot.resolve(this.targetCount)}getTargetData(t,e){const i=this.ri.get(e)||null;return ot.resolve(i)}addMatchingKeys(t,e,i){return this.si.$r(e,i),ot.resolve()}removeMatchingKeys(t,e,i){this.si.Qr(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach((l=>{o.push(r.markPotentiallyOrphaned(t,l))})),ot.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.si.Gr(e),ot.resolve()}getMatchingKeysForTargetId(t,e){const i=this.si.jr(e);return ot.resolve(i)}containsKey(t,e){return ot.resolve(this.si.containsKey(e))}}class yA{constructor(t,e){this._i={},this.overlays={},this.ai=new Qd(0),this.ui=!1,this.ui=!0,this.ci=new SL,this.referenceDelegate=t(this),this.li=new RL(this),this.indexManager=new hL,this.remoteDocumentCache=(function(r){return new xL(r)})((i=>this.referenceDelegate.hi(i))),this.serializer=new cL(e),this.Pi=new TL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new EL,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this._i[t.toKey()];return i||(i=new wL(e,this.referenceDelegate),this._i[t.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,e,i){dt("MemoryPersistence","Starting transaction:",t);const r=new CL(this.ai.next());return this.referenceDelegate.Ti(),i(r).next((o=>this.referenceDelegate.Ii(r).next((()=>o)))).toPromise().then((o=>(r.raiseOnCommittedEvent(),o)))}Ei(t,e){return ot.or(Object.values(this._i).map((i=>()=>i.containsKey(t,e))))}}class CL extends JN{constructor(t){super(),this.currentSequenceNumber=t}}class z_{constructor(t){this.persistence=t,this.Ri=new V_,this.Ai=null}static Vi(t){return new z_(t)}get di(){if(this.Ai)return this.Ai;throw xt(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.di.delete(i.toString()),ot.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.di.add(i.toString()),ot.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),ot.resolve()}removeTarget(t,e){this.Ri.Gr(e.targetId).forEach((r=>this.di.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((r=>{r.forEach((o=>this.di.add(o.toString())))})).next((()=>i.removeTargetData(t,e)))}Ti(){this.Ai=new Set}Ii(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ot.forEach(this.di,(i=>{const r=yt.fromPath(i);return this.mi(t,r).next((o=>{o||e.removeEntry(r,At.min())}))})).next((()=>(this.Ai=null,e.apply(t))))}updateLimboDocument(t,e){return this.mi(t,e).next((i=>{i?this.di.delete(e.toString()):this.di.add(e.toString())}))}hi(t){return 0}mi(t,e){return ot.or([()=>ot.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class Od{constructor(t,e){this.persistence=t,this.fi=new uo((i=>eP(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=yL(this,e)}static Vi(t,e){return new Od(t,e)}Ti(){}Ii(t){return ot.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((r=>i+r))))}pr(t){let e=0;return this.mr(t,(i=>{e++})).next((()=>e))}mr(t,e){return ot.forEach(this.fi,((i,r)=>this.wr(t,i,r).next((o=>o?ot.resolve():e(r)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ni(t,(l=>this.wr(t,l,e).next((u=>{u||(i++,o.removeEntry(l,At.min()))})))).next((()=>o.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.fi.set(e,t.currentSequenceNumber),ot.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.fi.set(i,t.currentSequenceNumber),ot.resolve()}removeReference(t,e,i){return this.fi.set(i,t.currentSequenceNumber),ot.resolve()}updateLimboDocument(t,e){return this.fi.set(e,t.currentSequenceNumber),ot.resolve()}hi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=cd(t.data.value)),e}wr(t,e,i){return ot.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.fi.get(e);return ot.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class U_{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Ts=i,this.Is=r}static Es(t,e){let i=Ft(),r=Ft();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new U_(t,e.fromCache,i,r)}}class IL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class DL{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return eM()?8:ZN(_n())>0?6:4})()}initialize(t,e){this.fs=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.gs(t,e).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ps(t,e,r,i).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new IL;return this.ys(t,e,l).next((u=>{if(o.result=u,this.As)return this.ws(t,e,l,u.size)}))})).next((()=>o.result))}ws(t,e,i,r){return i.documentReadCount<this.Vs?(ol()<=Bt.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",ll(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ot.resolve()):(ol()<=Bt.DEBUG&&dt("QueryEngine","Query:",ll(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ds*r?(ol()<=Bt.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",ll(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ss(e))):ot.resolve())}gs(t,e){if(JE(e))return ot.resolve(null);let i=ss(e);return this.indexManager.getIndexType(t,i).next((r=>r===0?null:(e.limit!==null&&r===1&&(e=Ny(e,null,"F"),i=ss(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((o=>{const l=Ft(...o);return this.fs.getDocuments(t,l).next((u=>this.indexManager.getMinOffset(t,i).next((f=>{const d=this.bs(e,u);return this.Ss(e,d,l,f.readTime)?this.gs(t,Ny(e,null,"F")):this.Ds(t,d,e,f)}))))})))))}ps(t,e,i,r){return JE(e)||r.isEqual(At.min())?ot.resolve(null):this.fs.getDocuments(t,i).next((o=>{const l=this.bs(e,o);return this.Ss(e,l,i,r)?ot.resolve(null):(ol()<=Bt.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ll(e)),this.Ds(t,l,e,WN(r,xu)).next((u=>u)))}))}bs(t,e){let i=new We(Wx(t));return e.forEach(((r,o)=>{nm(t,o)&&(i=i.add(o))})),i}Ss(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}ys(t,e,i){return ol()<=Bt.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",ll(e)),this.fs.getDocumentsMatchingQuery(t,e,Gr.min(),i)}Ds(t,e,i,r){return this.fs.getDocumentsMatchingQuery(t,i,r).next((o=>(e.forEach((l=>{o=o.insert(l.key,l)})),o)))}}const B_="LocalStore",ML=3e8;class OL{constructor(t,e,i,r){this.persistence=t,this.Cs=e,this.serializer=r,this.vs=new Te(jt),this.Fs=new uo((o=>D_(o)),M_),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(i)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new bL(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.vs)))}}function kL(n,t,e,i){return new OL(n,t,e,i)}async function _A(n,t){const e=It(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next((o=>(r=o,e.Os(t),e.mutationQueue.getAllMutationBatches(i)))).next((o=>{const l=[],u=[];let f=Ft();for(const d of r){l.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}for(const d of o){u.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}return e.localDocuments.getDocuments(i,f).next((d=>({Ns:d,removedBatchIds:l,addedBatchIds:u})))}))}))}function NL(n,t){const e=It(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const r=t.batch.keys(),o=e.xs.newChangeBuffer({trackRemovals:!0});return(function(u,f,d,g){const _=d.batch,v=_.keys();let E=ot.resolve();return v.forEach((x=>{E=E.next((()=>g.getEntry(f,x))).next((A=>{const R=d.docVersions.get(x);Jt(R!==null,48541),A.version.compareTo(R)<0&&(_.applyToRemoteDocument(A,d),A.isValidDocument()&&(A.setReadTime(d.commitVersion),g.addEntry(A)))}))})),E.next((()=>u.mutationQueue.removeMutationBatch(f,_)))})(e,i,t,o).next((()=>o.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(u){let f=Ft();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(f=f.add(u.batch.mutations[d].key));return f})(t)))).next((()=>e.localDocuments.getDocuments(i,r)))}))}function vA(n){const t=It(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.li.getLastRemoteSnapshotVersion(e)))}function PL(n,t){const e=It(n),i=t.snapshotVersion;let r=e.vs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=e.xs.newChangeBuffer({trackRemovals:!0});r=e.vs;const u=[];t.targetChanges.forEach(((g,_)=>{const v=r.get(_);if(!v)return;u.push(e.li.removeMatchingKeys(o,g.removedDocuments,_).next((()=>e.li.addMatchingKeys(o,g.addedDocuments,_))));let E=v.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(_)!==null?E=E.withResumeToken(un.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):g.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(g.resumeToken,i)),r=r.insert(_,E),(function(A,R,O){return A.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=ML?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(v,E,g)&&u.push(e.li.updateTargetData(o,E))}));let f=Gs(),d=Ft();if(t.documentUpdates.forEach((g=>{t.resolvedLimboDocuments.has(g)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(o,g))})),u.push(LL(o,l,t.documentUpdates).next((g=>{f=g.Bs,d=g.Ls}))),!i.isEqual(At.min())){const g=e.li.getLastRemoteSnapshotVersion(o).next((_=>e.li.setTargetsMetadata(o,o.currentSequenceNumber,i)));u.push(g)}return ot.waitFor(u).next((()=>l.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(e.vs=r,o)))}function LL(n,t,e){let i=Ft(),r=Ft();return e.forEach((o=>i=i.add(o))),t.getEntries(n,i).next((o=>{let l=Gs();return e.forEach(((u,f)=>{const d=o.get(u);f.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(u)),f.isNoDocument()&&f.version.isEqual(At.min())?(t.removeEntry(u,f.readTime),l=l.insert(u,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(f),l=l.insert(u,f)):dt(B_,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",f.version)})),{Bs:l,Ls:r}}))}function VL(n,t){const e=It(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=R_),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function zL(n,t){const e=It(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return e.li.getTargetData(i,t).next((o=>o?(r=o,ot.resolve(r)):e.li.allocateTargetId(i).next((l=>(r=new kr(t,l,"TargetPurposeListen",i.currentSequenceNumber),e.li.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=e.vs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.vs=e.vs.insert(i.targetId,i),e.Fs.set(t,i.targetId)),i}))}async function Uy(n,t,e){const i=It(n),r=i.vs.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,(l=>i.persistence.referenceDelegate.removeTarget(l,r)))}catch(l){if(!Ll(l))throw l;dt(B_,`Failed to update sequence numbers for target ${t}: ${l}`)}i.vs=i.vs.remove(t),i.Fs.delete(r.target)}function hS(n,t,e){const i=It(n);let r=At.min(),o=Ft();return i.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,d,g){const _=It(f),v=_.Fs.get(g);return v!==void 0?ot.resolve(_.vs.get(v)):_.li.getTargetData(d,g)})(i,l,ss(t)).next((u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(l,u.targetId).next((f=>{o=f}))})).next((()=>i.Cs.getDocumentsMatchingQuery(l,t,e?r:At.min(),e?o:Ft()))).next((u=>(UL(i,SP(t),u),{documents:u,ks:o})))))}function UL(n,t,e){let i=n.Ms.get(t)||At.min();e.forEach(((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Ms.set(t,i)}class fS{constructor(){this.activeTargetIds=IP()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class BL{constructor(){this.vo=new fS,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,e,i){this.Fo[t]=e}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new fS,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class jL{Mo(t){}shutdown(){}}const dS="ConnectivityMonitor";class mS{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){dt(dS,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){dt(dS,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ff=null;function By(){return Ff===null?Ff=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ff++,"0x"+Ff.toString(16)}const Qg="RestConnection",FL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class HL{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.qo=e+"://"+t.host,this.Uo=`projects/${i}/databases/${r}`,this.$o=this.databaseId.database===Rd?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Wo(t,e,i,r,o){const l=By(),u=this.Qo(t,e.toUriEncodedString());dt(Qg,`Sending RPC '${t}' ${l}:`,u,i);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,r,o);const{host:d}=new URL(u),g=Ml(d);return this.zo(t,u,f,i,g).then((_=>(dt(Qg,`Received RPC '${t}' ${l}: `,_),_)),(_=>{throw no(Qg,`RPC '${t}' ${l} failed with error: `,_,"url: ",u,"request:",i),_}))}jo(t,e,i,r,o,l){return this.Wo(t,e,i,r,o)}Go(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Nl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((r,o)=>t[o]=r)),i&&i.headers.forEach(((r,o)=>t[o]=r))}Qo(t,e){const i=FL[t];let r=`${this.qo}/v1/${e}:${i}`;return this.databaseInfo.apiKey&&(r=`${r}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),r}terminate(){}}class qL{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const fn="WebChannelConnection",Wc=(n,t,e)=>{n.listen(t,(i=>{try{e(i)}catch(r){setTimeout((()=>{throw r}),0)}}))};class pl extends HL{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!pl.c_){const t=wx();Wc(t,Sx.STAT_EVENT,(e=>{e.stat===Ry.PROXY?dt(fn,"STAT_EVENT: detected buffering proxy"):e.stat===Ry.NOPROXY&&dt(fn,"STAT_EVENT: detected no buffering proxy")})),pl.c_=!0}}zo(t,e,i,r,o){const l=By();return new Promise(((u,f)=>{const d=new Tx;d.setWithCredentials(!0),d.listenOnce(Ex.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case ld.NO_ERROR:const _=d.getResponseJson();dt(fn,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(_)),u(_);break;case ld.TIMEOUT:dt(fn,`RPC '${t}' ${l} timed out`),f(new ht(rt.DEADLINE_EXCEEDED,"Request time out"));break;case ld.HTTP_ERROR:const v=d.getStatus();if(dt(fn,`RPC '${t}' ${l} failed with status:`,v,"response text:",d.getResponseText()),v>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const x=E?.error;if(x&&x.status&&x.message){const A=(function(O){const k=O.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(k)>=0?k:rt.UNKNOWN})(x.status);f(new ht(A,x.message))}else f(new ht(rt.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new ht(rt.UNAVAILABLE,"Connection failed."));break;default:xt(9055,{l_:t,streamId:l,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{dt(fn,`RPC '${t}' ${l} completed.`)}}));const g=JSON.stringify(r);dt(fn,`RPC '${t}' ${l} sending request:`,r),d.send(e,"POST",g,i,15)}))}T_(t,e,i){const r=By(),o=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=this.createWebChannelTransport(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Go(u.initMessageHeaders,e,i),u.encodeInitMessageHeaders=!0;const d=o.join("");dt(fn,`Creating RPC '${t}' stream ${r}: ${d}`,u);const g=l.createWebChannel(d,u);this.I_(g);let _=!1,v=!1;const E=new qL({Ho:x=>{v?dt(fn,`Not sending because RPC '${t}' stream ${r} is closed:`,x):(_||(dt(fn,`Opening RPC '${t}' stream ${r} transport.`),g.open(),_=!0),dt(fn,`RPC '${t}' stream ${r} sending:`,x),g.send(x))},Jo:()=>g.close()});return Wc(g,iu.EventType.OPEN,(()=>{v||(dt(fn,`RPC '${t}' stream ${r} transport opened.`),E.i_())})),Wc(g,iu.EventType.CLOSE,(()=>{v||(v=!0,dt(fn,`RPC '${t}' stream ${r} transport closed`),E.o_(),this.E_(g))})),Wc(g,iu.EventType.ERROR,(x=>{v||(v=!0,no(fn,`RPC '${t}' stream ${r} transport errored. Name:`,x.name,"Message:",x.message),E.o_(new ht(rt.UNAVAILABLE,"The operation could not be completed")))})),Wc(g,iu.EventType.MESSAGE,(x=>{if(!v){const A=x.data[0];Jt(!!A,16349);const R=A,O=R?.error||R[0]?.error;if(O){dt(fn,`RPC '${t}' stream ${r} received error:`,O);const k=O.status;let U=(function(tt){const w=je[tt];if(w!==void 0)return rA(w)})(k),Y=O.message;k==="NOT_FOUND"&&Y.includes("database")&&Y.includes("does not exist")&&Y.includes(this.databaseId.database)&&no(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),U===void 0&&(U=rt.INTERNAL,Y="Unknown error status: "+k+" with message "+O.message),v=!0,E.o_(new ht(U,Y)),g.close()}else dt(fn,`RPC '${t}' stream ${r} received:`,A),E.__(A)}})),pl.u_(),setTimeout((()=>{E.s_()}),0),E}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((e=>e===t))}Go(t,e,i){super.Go(t,e,i),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return xx()}}function GL(n){return new pl(n)}function Jg(){return typeof document<"u"?document:null}function am(n){return new KP(n,!0)}pl.c_=!1;class bA{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Ci=t,this.timerId=e,this.R_=i,this.A_=r,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const e=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,e-i);r>0&&dt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.d_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const pS="PersistentStream";class TA{constructor(t,e,i,r,o,l,u,f){this.Ci=t,this.b_=i,this.S_=r,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new bA(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===rt.RESOURCE_EXHAUSTED?(qs(e.toString()),qs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(e)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.D_===e&&this.G_(i,r)}),(i=>{t((()=>{const r=new ht(rt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)}))}))}G_(t,e){const i=this.Q_(this.D_);this.stream=this.j_(t,e),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((r=>{i((()=>this.z_(r)))})),this.stream.onMessage((r=>{i((()=>++this.F_==1?this.H_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return dt(pS,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return e=>{this.Ci.enqueueAndForget((()=>this.D_===t?e():(dt(pS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class YL extends TA{constructor(t,e,i,r,o,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,l),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=JP(this.serializer,t),i=(function(o){if(!("targetChange"in o))return At.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?At.min():l.readTime?rs(l.readTime):At.min()})(t);return this.listener.J_(e,i)}Z_(t){const e={};e.database=zy(this.serializer),e.addTarget=(function(o,l){let u;const f=l.target;if(u=Oy(f)?{documents:eL(o,f)}:{query:nL(o,f).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=lA(o,l.resumeToken);const d=Py(o,l.expectedCount);d!==null&&(u.expectedCount=d)}else if(l.snapshotVersion.compareTo(At.min())>0){u.readTime=Md(o,l.snapshotVersion.toTimestamp());const d=Py(o,l.expectedCount);d!==null&&(u.expectedCount=d)}return u})(this.serializer,t);const i=sL(this.serializer,t);i&&(e.labels=i),this.K_(e)}X_(t){const e={};e.database=zy(this.serializer),e.removeTarget=t,this.K_(e)}}class $L extends TA{constructor(t,e,i,r,o,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,l),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}H_(t){return Jt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Jt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Jt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=tL(t.writeResults,t.commitTime),i=rs(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=zy(this.serializer),this.K_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>ZP(this.serializer,i)))};this.K_(e)}}class WL{}class KL extends WL{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new ht(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Wo(t,Ly(e,i),r,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ht(rt.UNKNOWN,o.toString())}))}jo(t,e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.jo(t,Ly(e,i),r,l,u,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ht(rt.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function XL(n,t,e,i){return new KL(n,t,e,i)}class QL{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(qs(e),this.aa=!1):dt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const io="RemoteStore";class JL{constructor(t,e,i,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((l=>{i.enqueueAndForget((async()=>{ho(this)&&(dt(io,"Restarting streams for network reachability change."),await(async function(f){const d=It(f);d.Ea.add(4),await Zu(d),d.Va.set("Unknown"),d.Ea.delete(4),await om(d)})(this))}))})),this.Va=new QL(i,r)}}async function om(n){if(ho(n))for(const t of n.Ra)await t(!0)}async function Zu(n){for(const t of n.Ra)await t(!1)}function EA(n,t){const e=It(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),q_(e)?H_(e):zl(e).O_()&&F_(e,t))}function j_(n,t){const e=It(n),i=zl(e);e.Ia.delete(t),i.O_()&&SA(e,t),e.Ia.size===0&&(i.O_()?i.L_():ho(e)&&e.Va.set("Unknown"))}function F_(n,t){if(n.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}zl(n).Z_(t)}function SA(n,t){n.da.$e(t),zl(n).X_(t)}function H_(n){n.da=new GP({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),zl(n).start(),n.Va.ua()}function q_(n){return ho(n)&&!zl(n).x_()&&n.Ia.size>0}function ho(n){return It(n).Ea.size===0}function wA(n){n.da=void 0}async function ZL(n){n.Va.set("Online")}async function tV(n){n.Ia.forEach(((t,e)=>{F_(n,t)}))}async function eV(n,t){wA(n),q_(n)?(n.Va.ha(t),H_(n)):n.Va.set("Unknown")}async function nV(n,t,e){if(n.Va.set("Online"),t instanceof oA&&t.state===2&&t.cause)try{await(async function(r,o){const l=o.cause;for(const u of o.targetIds)r.Ia.has(u)&&(await r.remoteSyncer.rejectListen(u,l),r.Ia.delete(u),r.da.removeTarget(u))})(n,t)}catch(i){dt(io,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await kd(n,i)}else if(t instanceof fd?n.da.Xe(t):t instanceof aA?n.da.st(t):n.da.tt(t),!e.isEqual(At.min()))try{const i=await vA(n.localStore);e.compareTo(i)>=0&&await(function(o,l){const u=o.da.Tt(l);return u.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const g=o.Ia.get(d);g&&o.Ia.set(d,g.withResumeToken(f.resumeToken,l))}})),u.targetMismatches.forEach(((f,d)=>{const g=o.Ia.get(f);if(!g)return;o.Ia.set(f,g.withResumeToken(un.EMPTY_BYTE_STRING,g.snapshotVersion)),SA(o,f);const _=new kr(g.target,f,d,g.sequenceNumber);F_(o,_)})),o.remoteSyncer.applyRemoteEvent(u)})(n,e)}catch(i){dt(io,"Failed to raise snapshot:",i),await kd(n,i)}}async function kd(n,t,e){if(!Ll(t))throw t;n.Ea.add(1),await Zu(n),n.Va.set("Offline"),e||(e=()=>vA(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{dt(io,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await om(n)}))}function xA(n,t){return t().catch((e=>kd(n,e,t)))}async function lm(n){const t=It(n),e=Kr(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:R_;for(;iV(t);)try{const r=await VL(t.localStore,i);if(r===null){t.Ta.length===0&&e.L_();break}i=r.batchId,sV(t,r)}catch(r){await kd(t,r)}AA(t)&&RA(t)}function iV(n){return ho(n)&&n.Ta.length<10}function sV(n,t){n.Ta.push(t);const e=Kr(n);e.O_()&&e.Y_&&e.ea(t.mutations)}function AA(n){return ho(n)&&!Kr(n).x_()&&n.Ta.length>0}function RA(n){Kr(n).start()}async function rV(n){Kr(n).ra()}async function aV(n){const t=Kr(n);for(const e of n.Ta)t.ea(e.mutations)}async function oV(n,t,e){const i=n.Ta.shift(),r=N_.from(i,t,e);await xA(n,(()=>n.remoteSyncer.applySuccessfulWrite(r))),await lm(n)}async function lV(n,t){t&&Kr(n).Y_&&await(async function(i,r){if((function(l){return FP(l)&&l!==rt.ABORTED})(r.code)){const o=i.Ta.shift();Kr(i).B_(),await xA(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r))),await lm(i)}})(n,t),AA(n)&&RA(n)}async function gS(n,t){const e=It(n);e.asyncQueue.verifyOperationInProgress(),dt(io,"RemoteStore received new credentials");const i=ho(e);e.Ea.add(3),await Zu(e),i&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await om(e)}async function cV(n,t){const e=It(n);t?(e.Ea.delete(2),await om(e)):t||(e.Ea.add(2),await Zu(e),e.Va.set("Unknown"))}function zl(n){return n.ma||(n.ma=(function(e,i,r){const o=It(e);return o.sa(),new YL(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Zo:ZL.bind(null,n),Yo:tV.bind(null,n),t_:eV.bind(null,n),J_:nV.bind(null,n)}),n.Ra.push((async t=>{t?(n.ma.B_(),q_(n)?H_(n):n.Va.set("Unknown")):(await n.ma.stop(),wA(n))}))),n.ma}function Kr(n){return n.fa||(n.fa=(function(e,i,r){const o=It(e);return o.sa(),new $L(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:rV.bind(null,n),t_:lV.bind(null,n),ta:aV.bind(null,n),na:oV.bind(null,n)}),n.Ra.push((async t=>{t?(n.fa.B_(),await lm(n)):(await n.fa.stop(),n.Ta.length>0&&(dt(io,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class G_{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const l=Date.now()+i,u=new G_(t,e,l,r,o);return u.start(i),u}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(rt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Y_(n,t){if(qs("AsyncQueue",`${t}: ${n}`),Ll(n))return new ht(rt.UNAVAILABLE,`${t}: ${n}`);throw n}class gl{static emptySet(t){return new gl(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||yt.comparator(e.key,i.key):(e,i)=>yt.comparator(e.key,i.key),this.keyedMap=su(),this.sortedSet=new Te(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof gl)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new gl;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class yS{constructor(){this.ga=new Te(yt.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):xt(63341,{Vt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class wl{constructor(t,e,i,r,o,l,u,f,d){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(t,e,i,r,o){const l=[];return e.forEach((u=>{l.push({type:0,doc:u})})),new wl(t,e,gl.emptySet(e),l,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&em(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class uV{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class hV{constructor(){this.queries=_S(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const r=It(e),o=r.queries;r.queries=_S(),o.forEach(((l,u)=>{for(const f of u.ba)f.onError(i)}))})(this,new ht(rt.ABORTED,"Firestore shutting down"))}}function _S(){return new uo((n=>$x(n)),em)}async function CA(n,t){const e=It(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.Sa()&&t.Da()&&(i=2):(o=new uV,i=t.Da()?0:1);try{switch(i){case 0:o.wa=await e.onListen(r,!0);break;case 1:o.wa=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(l){const u=Y_(l,`Initialization of query '${ll(t.query)}' failed`);return void t.onError(u)}e.queries.set(r,o),o.ba.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&$_(e)}async function IA(n,t){const e=It(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const l=o.ba.indexOf(t);l>=0&&(o.ba.splice(l,1),o.ba.length===0?r=t.Da()?0:1:!o.Sa()&&t.Da()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function fV(n,t){const e=It(n);let i=!1;for(const r of t){const o=r.query,l=e.queries.get(o);if(l){for(const u of l.ba)u.Fa(r)&&(i=!0);l.wa=r}}i&&$_(e)}function dV(n,t,e){const i=It(n),r=i.queries.get(t);if(r)for(const o of r.ba)o.onError(e);i.queries.delete(t)}function $_(n){n.Ca.forEach((t=>{t.next()}))}var jy,vS;(vS=jy||(jy={})).Ma="default",vS.Cache="cache";class DA{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new wl(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.Ka||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=wl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==jy.Cache}}class MA{constructor(t){this.key=t}}class OA{constructor(t){this.key=t}}class mV{constructor(t,e){this.query=t,this.Za=e,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ft(),this.mutatedKeys=Ft(),this.eu=Wx(t),this.tu=new gl(this.eu)}get nu(){return this.Za}ru(t,e){const i=e?e.iu:new yS,r=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,l=r,u=!1;const f=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((g,_)=>{const v=r.get(g),E=nm(this.query,_)?_:null,x=!!v&&this.mutatedKeys.has(v.key),A=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let R=!1;v&&E?v.data.isEqual(E.data)?x!==A&&(i.track({type:3,doc:E}),R=!0):this.su(v,E)||(i.track({type:2,doc:E}),R=!0,(f&&this.eu(E,f)>0||d&&this.eu(E,d)<0)&&(u=!0)):!v&&E?(i.track({type:0,doc:E}),R=!0):v&&!E&&(i.track({type:1,doc:v}),R=!0,(f||d)&&(u=!0)),R&&(E?(l=l.add(E),o=A?o.add(g):o.delete(g)):(l=l.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),o=o.delete(g.key),i.track({type:1,doc:g})}return{tu:l,iu:i,Ss:u,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const l=t.iu.ya();l.sort(((g,_)=>(function(E,x){const A=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xt(20277,{Vt:R})}};return A(E)-A(x)})(g.type,_.type)||this.eu(g.doc,_.doc))),this.ou(i),r=r??!1;const u=e&&!r?this._u():[],f=this.Ya.size===0&&this.current&&!r?1:0,d=f!==this.Xa;return this.Xa=f,l.length!==0||d?{snapshot:new wl(this.query,t.tu,o,l,t.mutatedKeys,f===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new yS,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Za=this.Za.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Za=this.Za.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Ft(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const e=[];return t.forEach((i=>{this.Ya.has(i)||e.push(new OA(i))})),this.Ya.forEach((i=>{t.has(i)||e.push(new MA(i))})),e}cu(t){this.Za=t.ks,this.Ya=Ft();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return wl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const W_="SyncEngine";class pV{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class gV{constructor(t){this.key=t,this.hu=!1}}class yV{constructor(t,e,i,r,o,l){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new uo((u=>$x(u)),em),this.Iu=new Map,this.Eu=new Set,this.Ru=new Te(yt.comparator),this.Au=new Map,this.Vu=new V_,this.du={},this.mu=new Map,this.fu=Sl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _V(n,t,e=!0){const i=zA(n);let r;const o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.lu()):r=await kA(i,t,e,!0),r}async function vV(n,t){const e=zA(n);await kA(e,t,!0,!1)}async function kA(n,t,e,i){const r=await zL(n.localStore,ss(t)),o=r.targetId,l=n.sharedClientState.addLocalQueryTarget(o,e);let u;return i&&(u=await bV(n,t,o,l==="current",r.resumeToken)),n.isPrimaryClient&&e&&EA(n.remoteStore,r),u}async function bV(n,t,e,i,r){n.pu=(_,v,E)=>(async function(A,R,O,k){let U=R.view.ru(O);U.Ss&&(U=await hS(A.localStore,R.query,!1).then((({documents:w})=>R.view.ru(w,U))));const Y=k&&k.targetChanges.get(R.targetId),$=k&&k.targetMismatches.get(R.targetId)!=null,tt=R.view.applyChanges(U,A.isPrimaryClient,Y,$);return TS(A,R.targetId,tt.au),tt.snapshot})(n,_,v,E);const o=await hS(n.localStore,t,!0),l=new mV(t,o.ks),u=l.ru(o.documents),f=Ju.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),d=l.applyChanges(u,n.isPrimaryClient,f);TS(n,e,d.au);const g=new pV(t,e,l);return n.Tu.set(t,g),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),d.snapshot}async function TV(n,t,e){const i=It(n),r=i.Tu.get(t),o=i.Iu.get(r.targetId);if(o.length>1)return i.Iu.set(r.targetId,o.filter((l=>!em(l,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Uy(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),e&&j_(i.remoteStore,r.targetId),Fy(i,r.targetId)})).catch(Pl)):(Fy(i,r.targetId),await Uy(i.localStore,r.targetId,!0))}async function EV(n,t){const e=It(n),i=e.Tu.get(t),r=e.Iu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),j_(e.remoteStore,i.targetId))}async function SV(n,t,e){const i=DV(n);try{const r=await(function(l,u){const f=It(l),d=de.now(),g=u.reduce(((E,x)=>E.add(x.key)),Ft());let _,v;return f.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let x=Gs(),A=Ft();return f.xs.getEntries(E,g).next((R=>{x=R,x.forEach(((O,k)=>{k.isValidDocument()||(A=A.add(O))}))})).next((()=>f.localDocuments.getOverlayedDocuments(E,x))).next((R=>{_=R;const O=[];for(const k of u){const U=VP(k,_.get(k.key).overlayedDocument);U!=null&&O.push(new sa(k.key,U,Ux(U.value.mapValue),hi.exists(!0)))}return f.mutationQueue.addMutationBatch(E,d,O,u)})).next((R=>{v=R;const O=R.applyToLocalDocumentSet(_,A);return f.documentOverlayCache.saveOverlays(E,R.batchId,O)}))})).then((()=>({batchId:v.batchId,changes:Xx(_)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),(function(l,u,f){let d=l.du[l.currentUser.toKey()];d||(d=new Te(jt)),d=d.insert(u,f),l.du[l.currentUser.toKey()]=d})(i,r.batchId,e),await th(i,r.changes),await lm(i.remoteStore)}catch(r){const o=Y_(r,"Failed to persist write");e.reject(o)}}async function NA(n,t){const e=It(n);try{const i=await PL(e.localStore,t);t.targetChanges.forEach(((r,o)=>{const l=e.Au.get(o);l&&(Jt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?l.hu=!0:r.modifiedDocuments.size>0?Jt(l.hu,14607):r.removedDocuments.size>0&&(Jt(l.hu,42227),l.hu=!1))})),await th(e,i,t)}catch(i){await Pl(i)}}function bS(n,t,e){const i=It(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.Tu.forEach(((o,l)=>{const u=l.view.va(t);u.snapshot&&r.push(u.snapshot)})),(function(l,u){const f=It(l);f.onlineState=u;let d=!1;f.queries.forEach(((g,_)=>{for(const v of _.ba)v.va(u)&&(d=!0)})),d&&$_(f)})(i.eventManager,t),r.length&&i.Pu.J_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function wV(n,t,e){const i=It(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Au.get(t),o=r&&r.key;if(o){let l=new Te(yt.comparator);l=l.insert(o,gn.newNoDocument(o,At.min()));const u=Ft().add(o),f=new rm(At.min(),new Map,new Te(jt),l,u);await NA(i,f),i.Ru=i.Ru.remove(o),i.Au.delete(t),K_(i)}else await Uy(i.localStore,t,!1).then((()=>Fy(i,t,e))).catch(Pl)}async function xV(n,t){const e=It(n),i=t.batch.batchId;try{const r=await NL(e.localStore,t);LA(e,i,null),PA(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await th(e,r)}catch(r){await Pl(r)}}async function AV(n,t,e){const i=It(n);try{const r=await(function(l,u){const f=It(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let g;return f.mutationQueue.lookupMutationBatch(d,u).next((_=>(Jt(_!==null,37113),g=_.keys(),f.mutationQueue.removeMutationBatch(d,_)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,g,u))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g))).next((()=>f.localDocuments.getDocuments(d,g)))}))})(i.localStore,t);LA(i,t,e),PA(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await th(i,r)}catch(r){await Pl(r)}}function PA(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function LA(n,t,e){const i=It(n);let r=i.du[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.du[i.currentUser.toKey()]=r}}function Fy(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Vu.Gr(t).forEach((i=>{n.Vu.containsKey(i)||VA(n,i)}))}function VA(n,t){n.Eu.delete(t.path.canonicalString());const e=n.Ru.get(t);e!==null&&(j_(n.remoteStore,e),n.Ru=n.Ru.remove(t),n.Au.delete(e),K_(n))}function TS(n,t,e){for(const i of e)i instanceof MA?(n.Vu.addReference(i.key,t),RV(n,i)):i instanceof OA?(dt(W_,"Document no longer in limbo: "+i.key),n.Vu.removeReference(i.key,t),n.Vu.containsKey(i.key)||VA(n,i.key)):xt(19791,{wu:i})}function RV(n,t){const e=t.key,i=e.path.canonicalString();n.Ru.get(e)||n.Eu.has(i)||(dt(W_,"New document in limbo: "+e),n.Eu.add(i),K_(n))}function K_(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new yt(ce.fromString(t)),i=n.fu.next();n.Au.set(i,new gV(e)),n.Ru=n.Ru.insert(e,i),EA(n.remoteStore,new kr(ss(tm(e.path)),i,"TargetPurposeLimboResolution",Qd.ce))}}async function th(n,t,e){const i=It(n),r=[],o=[],l=[];i.Tu.isEmpty()||(i.Tu.forEach(((u,f)=>{l.push(i.pu(f,t,e).then((d=>{if((d||e)&&i.isPrimaryClient){const g=d?!d.fromCache:e?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(d){r.push(d);const g=U_.Es(f.targetId,d);o.push(g)}})))})),await Promise.all(l),i.Pu.J_(r),await(async function(f,d){const g=It(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>ot.forEach(d,(v=>ot.forEach(v.Ts,(E=>g.persistence.referenceDelegate.addReference(_,v.targetId,E))).next((()=>ot.forEach(v.Is,(E=>g.persistence.referenceDelegate.removeReference(_,v.targetId,E)))))))))}catch(_){if(!Ll(_))throw _;dt(B_,"Failed to update sequence numbers: "+_)}for(const _ of d){const v=_.targetId;if(!_.fromCache){const E=g.vs.get(v),x=E.snapshotVersion,A=E.withLastLimboFreeSnapshotVersion(x);g.vs=g.vs.insert(v,A)}}})(i.localStore,o))}async function CV(n,t){const e=It(n);if(!e.currentUser.isEqual(t)){dt(W_,"User change. New user:",t.toKey());const i=await _A(e.localStore,t);e.currentUser=t,(function(o,l){o.mu.forEach((u=>{u.forEach((f=>{f.reject(new ht(rt.CANCELLED,l))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await th(e,i.Ns)}}function IV(n,t){const e=It(n),i=e.Au.get(t);if(i&&i.hu)return Ft().add(i.key);{let r=Ft();const o=e.Iu.get(t);if(!o)return r;for(const l of o){const u=e.Tu.get(l);r=r.unionWith(u.view.nu)}return r}}function zA(n){const t=It(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=NA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=IV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wV.bind(null,t),t.Pu.J_=fV.bind(null,t.eventManager),t.Pu.yu=dV.bind(null,t.eventManager),t}function DV(n){const t=It(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=xV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=AV.bind(null,t),t}class Nd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=am(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return kL(this.persistence,new DL,t.initialUser,this.serializer)}Cu(t){return new yA(z_.Vi,this.serializer)}Du(t){return new BL}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nd.provider={build:()=>new Nd};class MV extends Nd{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Jt(this.persistence.referenceDelegate instanceof Od,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new pL(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new yA((i=>Od.Vi(i,e)),this.serializer)}}class Hy{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>bS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=CV.bind(null,this.syncEngine),await cV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new hV})()}createDatastore(t){const e=am(t.databaseInfo.databaseId),i=GL(t.databaseInfo);return XL(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,r,o,l,u){return new JL(i,r,o,l,u)})(this.localStore,this.datastore,t.asyncQueue,(e=>bS(this.syncEngine,e,0)),(function(){return mS.v()?new mS:new jL})())}createSyncEngine(t,e){return(function(r,o,l,u,f,d,g){const _=new yV(r,o,l,u,f,d);return g&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=It(e);dt(io,"RemoteStore shutting down."),i.Ea.add(5),await Zu(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Hy.provider={build:()=>new Hy};class UA{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):qs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const Xr="FirestoreClient";class OV{constructor(t,e,i,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this._databaseInfo=r,this.user=mn.UNAUTHENTICATED,this.clientId=A_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async l=>{dt(Xr,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(i,(l=>(dt(Xr,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=Y_(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function Zg(n,t){n.asyncQueue.verifyOperationInProgress(),dt(Xr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async r=>{i.isEqual(r)||(await _A(t.localStore,r),i=r)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function ES(n,t){n.asyncQueue.verifyOperationInProgress();const e=await kV(n);dt(Xr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>gS(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,r)=>gS(t.remoteStore,r))),n._onlineComponents=t}async function kV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){dt(Xr,"Using user provided OfflineComponentProvider");try{await Zg(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(r){return r.name==="FirebaseError"?r.code===rt.FAILED_PRECONDITION||r.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(e))throw e;no("Error using user provided cache. Falling back to memory cache: "+e),await Zg(n,new Nd)}}else dt(Xr,"Using default OfflineComponentProvider"),await Zg(n,new MV(void 0));return n._offlineComponents}async function BA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(dt(Xr,"Using user provided OnlineComponentProvider"),await ES(n,n._uninitializedComponentsProvider._online)):(dt(Xr,"Using default OnlineComponentProvider"),await ES(n,new Hy))),n._onlineComponents}function NV(n){return BA(n).then((t=>t.syncEngine))}async function qy(n){const t=await BA(n),e=t.eventManager;return e.onListen=_V.bind(null,t.syncEngine),e.onUnlisten=TV.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=vV.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=EV.bind(null,t.syncEngine),e}function PV(n,t,e,i){const r=new UA(i),o=new DA(t,r,e);return n.asyncQueue.enqueueAndForget((async()=>CA(await qy(n),o))),()=>{r.Nu(),n.asyncQueue.enqueueAndForget((async()=>IA(await qy(n),o)))}}function LV(n,t,e={}){const i=new Fr;return n.asyncQueue.enqueueAndForget((async()=>(function(o,l,u,f,d){const g=new UA({next:v=>{g.Nu(),l.enqueueAndForget((()=>IA(o,_)));const E=v.docs.has(u);!E&&v.fromCache?d.reject(new ht(rt.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&v.fromCache&&f&&f.source==="server"?d.reject(new ht(rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(v)},error:v=>d.reject(v)}),_=new DA(tm(u.path),g,{includeMetadataChanges:!0,Ka:!0});return CA(o,_)})(await qy(n),n.asyncQueue,t,e,i))),i.promise}function VV(n,t){const e=new Fr;return n.asyncQueue.enqueueAndForget((async()=>SV(await NV(n),t,e))),e.promise}function jA(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const zV="ComponentProvider",SS=new Map;function UV(n,t,e,i,r){return new sP(n,t,e,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,jA(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator,i)}const FA="firestore.googleapis.com",wS=!0;class xS{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ht(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FA,this.ssl=wS}else this.host=t.host,this.ssl=t.ssl??wS;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=gA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<dL)throw new ht(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}$N("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jA(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ht(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ht(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ht(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class cm{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xS(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new VN;switch(i.type){case"firstParty":return new jN(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ht(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=SS.get(e);i&&(dt(zV,"Removing Datastore"),SS.delete(e),i.terminate())})(this),Promise.resolve()}}function BV(n,t,e,i={}){n=ui(n,cm);const r=Ml(t),o=n._getSettings(),l={...o,emulatorOptions:n._getEmulatorOptions()},u=`${t}:${e}`;r&&(Ow(`https://${u}`),kw("Firestore",!0)),o.host!==FA&&o.host!==u&&no("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:u,ssl:r,emulatorOptions:i};if(!Qa(f,l)&&(n._setSettings(f),i.mockUserToken)){let d,g;if(typeof i.mockUserToken=="string")d=i.mockUserToken,g=mn.MOCK_USER;else{d=YD(i.mockUserToken,n._app?.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new ht(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new mn(_)}n._authCredentials=new zN(new Rx(d,g))}}class fo{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new fo(this.firestore,t,this._query)}}class we{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new we(this.firestore,t,this._key)}toJSON(){return{type:we._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(Xu(e,we._jsonSchema))return new we(t,i||null,new yt(ce.fromString(e.referencePath)))}}we._jsonSchemaVersion="firestore/documentReference/1.0",we._jsonSchema={type:He("string",we._jsonSchemaVersion),referencePath:He("string")};class Hr extends fo{constructor(t,e,i){super(t,e,tm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new we(this.firestore,null,new yt(t))}withConverter(t){return new Hr(this.firestore,t,this._path)}}function Ul(n,t,...e){if(n=Ke(n),Cx("collection","path",t),n instanceof cm){const i=ce.fromString(t,...e);return zE(i),new Hr(n,null,i)}{if(!(n instanceof we||n instanceof Hr))throw new ht(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ce.fromString(t,...e));return zE(i),new Hr(n.firestore,null,i)}}function Di(n,t,...e){if(n=Ke(n),arguments.length===1&&(t=A_.newId()),Cx("doc","path",t),n instanceof cm){const i=ce.fromString(t,...e);return VE(i),new we(n,null,new yt(i))}{if(!(n instanceof we||n instanceof Hr))throw new ht(rt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ce.fromString(t,...e));return VE(i),new we(n.firestore,n instanceof Hr?n.converter:null,new yt(i))}}const AS="AsyncQueue";class RS{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bA(this,"async_queue_retry"),this._c=()=>{const i=Jg();i&&dt(AS,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=Jg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Jg();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Fr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Ll(t))throw t;dt(AS,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,qs("INTERNAL UNHANDLED ERROR: ",CS(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const r=G_.createAndSchedule(this,t,e,i,(o=>this.hc(o)));return this.tc.push(r),r}uc(){this.nc&&xt(47125,{Pc:CS(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function CS(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class Qr extends cm{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new RS,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new RS(t),this._firestoreClient=void 0,await t}}}function jV(n,t){const e=typeof n=="object"?n:Vw(),i=typeof n=="string"?n:Rd,r=g_(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=qD("firestore");o&&BV(r,...o)}return r}function X_(n){if(n._terminated)throw new ht(rt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||FV(n),n._firestoreClient}function FV(n){const t=n._freezeSettings(),e=UV(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new OV(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(r){const o=r?._online.build();return{_offline:r?._offline.build(o),_online:o}})(n._componentsProvider))}class ci{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ci(un.fromBase64String(t))}catch(e){throw new ht(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new ci(un.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ci._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Xu(t,ci._jsonSchema))return ci.fromBase64String(t.bytes)}}ci._jsonSchemaVersion="firestore/bytes/1.0",ci._jsonSchema={type:He("string",ci._jsonSchemaVersion),bytes:He("string")};class Q_{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ht(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class um{constructor(t){this._methodName=t}}class as{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ht(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ht(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return jt(this._lat,t._lat)||jt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:as._jsonSchemaVersion}}static fromJSON(t){if(Xu(t,as._jsonSchema))return new as(t.latitude,t.longitude)}}as._jsonSchemaVersion="firestore/geoPoint/1.0",as._jsonSchema={type:He("string",as._jsonSchemaVersion),latitude:He("number"),longitude:He("number")};class Ai{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Xu(t,Ai._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Ai(t.vectorValues);throw new ht(rt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ai._jsonSchemaVersion="firestore/vectorValue/1.0",Ai._jsonSchema={type:He("string",Ai._jsonSchemaVersion),vectorValues:He("object")};const HV=/^__.*__$/;class qV{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new sa(t,this.data,this.fieldMask,e,this.fieldTransforms):new Qu(t,this.data,e,this.fieldTransforms)}}class HA{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new sa(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function qA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xt(40011,{dataSource:n})}}class J_{constructor(t,e,i,r,o,l){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new J_({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const e=this.path?.child(t),i=this.contextWith({path:e,arrayElement:!1});return i.validatePathSegment(t),i}childContextForFieldPath(t){const e=this.path?.child(t),i=this.contextWith({path:e,arrayElement:!1});return i.validatePath(),i}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Pd(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(qA(this.dataSource)&&HV.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class GV{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||am(t)}createContext(t,e,i,r=!1){return new J_({dataSource:t,methodName:e,targetDoc:i,path:cn.emptyPath(),arrayElement:!1,hasConverter:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hm(n){const t=n._freezeSettings(),e=am(n._databaseId);return new GV(n._databaseId,!!t.ignoreUndefinedProperties,e)}function GA(n,t,e,i,r,o={}){const l=n.createContext(o.merge||o.mergeFields?2:0,t,e,r);tv("Data must be an object, but it was:",l,i);const u=YA(i,l);let f,d;if(o.merge)f=new Yn(l.fieldMask),d=l.fieldTransforms;else if(o.mergeFields){const g=[];for(const _ of o.mergeFields){const v=so(t,_,e);if(!l.contains(v))throw new ht(rt.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);KA(g,v)||g.push(v)}f=new Yn(g),d=l.fieldTransforms.filter((_=>f.covers(_.field)))}else f=null,d=l.fieldTransforms;return new qV(new Nn(u),f,d)}class fm extends um{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof fm}}class Z_ extends um{_toFieldTransform(t){return new kP(t.path,new Du)}isEqual(t){return t instanceof Z_}}function YV(n,t,e,i){const r=n.createContext(1,t,e);tv("Data must be an object, but it was:",r,i);const o=[],l=Nn.empty();ia(i,((f,d)=>{const g=WA(t,f,e);d=Ke(d);const _=r.childContextForFieldPath(g);if(d instanceof fm)o.push(g);else{const v=eh(d,_);v!=null&&(o.push(g),l.set(g,v))}}));const u=new Yn(o);return new HA(l,u,r.fieldTransforms)}function $V(n,t,e,i,r,o){const l=n.createContext(1,t,e),u=[so(t,i,e)],f=[r];if(o.length%2!=0)throw new ht(rt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)u.push(so(t,o[v])),f.push(o[v+1]);const d=[],g=Nn.empty();for(let v=u.length-1;v>=0;--v)if(!KA(d,u[v])){const E=u[v];let x=f[v];x=Ke(x);const A=l.childContextForFieldPath(E);if(x instanceof fm)d.push(E);else{const R=eh(x,A);R!=null&&(d.push(E),g.set(E,R))}}const _=new Yn(d);return new HA(g,_,l.fieldTransforms)}function WV(n,t,e,i=!1){return eh(e,n.createContext(i?4:3,t))}function eh(n,t){if($A(n=Ke(n)))return tv("Unsupported field value:",t,n),YA(n,t);if(n instanceof um)return(function(i,r){if(!qA(r.dataSource))throw r.createError(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.createError(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(i,r){const o=[];let l=0;for(const u of i){let f=eh(u,r.childContextForArray(l));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),l++}return{arrayValue:{values:o}}})(n,t)}return(function(i,r){if((i=Ke(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return DP(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=de.fromDate(i);return{timestampValue:Md(r.serializer,o)}}if(i instanceof de){const o=new de(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Md(r.serializer,o)}}if(i instanceof as)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ci)return{bytesValue:lA(r.serializer,i._byteString)};if(i instanceof we){const o=r.databaseId,l=i.firestore._databaseId;if(!l.isEqual(o))throw r.createError(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:L_(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Ai)return(function(l,u){const f=l instanceof Ai?l.toArray():l;return{mapValue:{fields:{[Vx]:{stringValue:zx},[Cd]:{arrayValue:{values:f.map((g=>{if(typeof g!="number")throw u.createError("VectorValues must only contain numeric values.");return O_(u.serializer,g)}))}}}}}})(i,r);if(pA(i))return i._toProto(r.serializer);throw r.createError(`Unsupported field value: ${Xd(i)}`)})(n,t)}function YA(n,t){const e={};return Mx(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ia(n,((i,r)=>{const o=eh(r,t.childContextForField(i));o!=null&&(e[i]=o)})),{mapValue:{fields:e}}}function $A(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof de||n instanceof as||n instanceof ci||n instanceof we||n instanceof um||n instanceof Ai||pA(n))}function tv(n,t,e){if(!$A(e)||!Ix(e)){const i=Xd(e);throw i==="an object"?t.createError(n+" a custom object"):t.createError(n+" "+i)}}function so(n,t,e){if((t=Ke(t))instanceof Q_)return t._internalPath;if(typeof t=="string")return WA(n,t);throw Pd("Field path arguments must be of type string or ",n,!1,void 0,e)}const KV=new RegExp("[~\\*/\\[\\]]");function WA(n,t,e){if(t.search(KV)>=0)throw Pd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Q_(...t.split("."))._internalPath}catch{throw Pd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Pd(n,t,e,i,r){const o=i&&!i.isEmpty(),l=r!==void 0;let u=`Function ${t}() called with invalid data`;e&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(o||l)&&(f+=" (found",o&&(f+=` in field ${i}`),l&&(f+=` in document ${r}`),f+=")"),new ht(rt.INVALID_ARGUMENT,u+n+f)}function KA(n,t){return n.some((e=>e.isEqual(t)))}class XV{convertValue(t,e="none"){switch(Wr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return De(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes($r(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw xt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return ia(t,((r,o)=>{i[r]=this.convertValue(o,e)})),i}convertVectorValue(t){const e=t.fields?.[Cd].arrayValue?.values?.map((i=>De(i.doubleValue)));return new Ai(e)}convertGeoPoint(t){return new as(De(t.latitude),De(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Zd(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Au(t));default:return null}}convertTimestamp(t){const e=Yr(t);return new de(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=ce.fromString(t);Jt(mA(i),9688,{name:t});const r=new Ru(i.get(1),i.get(3)),o=new yt(i.popFirst(5));return r.isEqual(e)||qs(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}class XA extends XV{constructor(t){super(),this.firestore=t}convertBytes(t){return new ci(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new we(this.firestore,null,e)}}function ro(){return new Z_("serverTimestamp")}const IS="@firebase/firestore",DS="4.11.0";function MS(n){return(function(e,i){if(typeof e!="object"||e===null)return!1;const r=e;for(const o of i)if(o in r&&typeof r[o]=="function")return!0;return!1})(n,["next","error","complete"])}class QA{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new we(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new QV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const e=this._document.data.field(so("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class QV extends QA{data(){return super.data()}}function JV(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ht(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ev{}class JA extends ev{}function dm(n,t,...e){let i=[];t instanceof ev&&i.push(t),i=i.concat(e),(function(o){const l=o.filter((f=>f instanceof nv)).length,u=o.filter((f=>f instanceof mm)).length;if(l>1||l>0&&u>0)throw new ht(rt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const r of i)n=r._apply(n);return n}class mm extends JA{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new mm(t,e,i)}_apply(t){const e=this._parse(t);return ZA(t._query,e),new fo(t.firestore,t.converter,ky(t._query,e))}_parse(t){const e=hm(t.firestore);return(function(o,l,u,f,d,g,_){let v;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new ht(rt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){kS(_,g);const x=[];for(const A of _)x.push(OS(f,o,A));v={arrayValue:{values:x}}}else v=OS(f,o,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||kS(_,g),v=WV(u,l,_,g==="in"||g==="not-in");return Fe.create(d,g,v)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function ZV(n,t,e){const i=t,r=so("where",n);return mm._create(r,i,e)}class nv extends ev{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new nv(t,e)}_parse(t){const e=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return e.length===1?e[0]:Ii.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(r,o){let l=r;const u=o.getFlattenedFilters();for(const f of u)ZA(l,f),l=ky(l,f)})(t._query,e),new fo(t.firestore,t.converter,ky(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class iv extends JA{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new iv(t,e)}_apply(t){const e=(function(r,o,l){if(r.startAt!==null)throw new ht(rt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new ht(rt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Iu(o,l)})(t._query,this._field,this._direction);return new fo(t.firestore,t.converter,EP(t._query,e))}}function pm(n,t="asc"){const e=t,i=so("orderBy",n);return iv._create(i,e)}function OS(n,t,e){if(typeof(e=Ke(e))=="string"){if(e==="")throw new ht(rt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yx(t)&&e.indexOf("/")!==-1)throw new ht(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(ce.fromString(e));if(!yt.isDocumentKey(i))throw new ht(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return YE(n,new yt(i))}if(e instanceof we)return YE(n,e._key);throw new ht(rt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xd(e)}.`)}function kS(n,t){if(!Array.isArray(n)||n.length===0)throw new ht(rt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function ZA(n,t){const e=(function(r,o){for(const l of r)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(n.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new ht(rt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ht(rt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function tR(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class au{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class $a extends QA{constructor(t,e,i,r,o,l){super(t,e,i,r,l),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new dd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(so("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(rt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=$a._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}$a._jsonSchemaVersion="firestore/documentSnapshot/1.0",$a._jsonSchema={type:He("string",$a._jsonSchemaVersion),bundleSource:He("string","DocumentSnapshot"),bundleName:He("string"),bundle:He("string")};class dd extends $a{data(t={}){return super.data(t)}}class yl{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new au(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new dd(this._firestore,this._userDataWriter,i.key,i,new au(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ht(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map((u=>{const f=new dd(r._firestore,r._userDataWriter,u.doc.key,u.doc,new au(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const f=new dd(r._firestore,r._userDataWriter,u.doc.key,u.doc,new au(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,g=-1;return u.type!==0&&(d=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),g=l.indexOf(u.doc.key)),{type:t4(u.type),doc:f,oldIndex:d,newIndex:g}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(rt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=yl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=A_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],r=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function t4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xt(61501,{type:n})}}yl._jsonSchemaVersion="firestore/querySnapshot/1.0",yl._jsonSchema={type:He("string",yl._jsonSchemaVersion),bundleSource:He("string","QuerySnapshot"),bundleName:He("string"),bundle:He("string")};function eR(n){n=ui(n,we);const t=ui(n.firestore,Qr),e=X_(t);return LV(e,n._key).then((i=>sR(t,n,i)))}function nR(n,t,e){n=ui(n,we);const i=ui(n.firestore,Qr),r=tR(n.converter,t,e),o=hm(i);return _m(i,[GA(o,"setDoc",n._key,r,n.converter!==null,e).toMutation(n._key,hi.none())])}function gm(n,t,e,...i){n=ui(n,we);const r=ui(n.firestore,Qr),o=hm(r);let l;return l=typeof(t=Ke(t))=="string"||t instanceof Q_?$V(o,"updateDoc",n._key,t,e,i):YV(o,"updateDoc",n._key,t),_m(r,[l.toMutation(n._key,hi.exists(!0))])}function sv(n){return _m(ui(n.firestore,Qr),[new k_(n._key,hi.none())])}function iR(n,t){const e=ui(n.firestore,Qr),i=Di(n),r=tR(n.converter,t),o=hm(n.firestore);return _m(e,[GA(o,"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,hi.exists(!1))]).then((()=>i))}function ym(n,...t){n=Ke(n);let e={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||MS(t[i])||(e=t[i++]);const r={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(MS(t[i])){const d=t[i];t[i]=d.next?.bind(d),t[i+1]=d.error?.bind(d),t[i+2]=d.complete?.bind(d)}let o,l,u;if(n instanceof we)l=ui(n.firestore,Qr),u=tm(n._key.path),o={next:d=>{t[i]&&t[i](sR(l,n,d))},error:t[i+1],complete:t[i+2]};else{const d=ui(n,fo);l=ui(d.firestore,Qr),u=d._query;const g=new XA(l);o={next:_=>{t[i]&&t[i](new yl(l,g,d,_))},error:t[i+1],complete:t[i+2]},JV(n._query)}const f=X_(l);return PV(f,u,r,o)}function _m(n,t){const e=X_(n);return VV(e,t)}function sR(n,t,e){const i=e.docs.get(t._key),r=new XA(n);return new $a(n,r,t._key,i,new au(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){LN(Ol),vl(new Ja("firestore",((i,{instanceIdentifier:r,options:o})=>{const l=i.getProvider("app").getImmediate(),u=new Qr(new UN(i.getProvider("auth-internal")),new FN(l,i.getProvider("app-check-internal")),rP(l,r),l);return o={useFetchStreams:e,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),Br(IS,DS,t),Br(IS,DS,"esm2020")})();const e4={apiKey:"AIzaSyCPAdeJWsgqU3TFgMd4N_sbCOvLRukD7dU",authDomain:"to-do-list-78da5.firebaseapp.com",projectId:"to-do-list-78da5",storageBucket:"to-do-list-78da5.firebasestorage.app",messagingSenderId:"452204716087",appId:"1:452204716087:web:1ed32f4006355276355fb2"},rR=Lw(e4),vm=NN(rR),bn=jV(rR),aR=q.createContext(),n4=({children:n})=>{const[t,e]=q.useState(null),[i,r]=q.useState(!0),[o,l]=q.useState(null);return q.useEffect(()=>Ek(vm,async f=>{if(e(f),f){const d=Di(bn,"users",f.uid),g=await eR(d);g.exists()&&l(g.data())}else l(null);r(!1)}),[]),N.jsx(aR.Provider,{value:{user:t,userData:o,loading:i},children:!i&&n})},bm=()=>q.useContext(aR),oR=async(n,t,e="",i="user")=>{const o=(await _k(vm,n,t)).user;return await nR(Di(bn,"users",o.uid),{uid:o.uid,email:o.email,nickname:e||n.split("@")[0],role:i,color:"#"+Math.floor(Math.random()*16777215).toString(16).padStart(6,"0"),createdAt:new Date().toISOString()}),o},lR=(n,t)=>vk(vm,n,t),i4=()=>Sk(vm);function cR(n){var t,e,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(t=0;t<r;t++)n[t]&&(e=cR(n[t]))&&(i&&(i+=" "),i+=e)}else for(e in n)n[e]&&(i&&(i+=" "),i+=e);return i}function Wa(){for(var n,t,e=0,i="",r=arguments.length;e<r;e++)(n=arguments[e])&&(t=cR(n))&&(i&&(i+=" "),i+=t);return i}function s4(n){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e),e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}s4(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var nh=n=>typeof n=="number"&&!isNaN(n),ao=n=>typeof n=="string",Ys=n=>typeof n=="function",r4=n=>ao(n)||nh(n),Gy=n=>ao(n)||Ys(n)?n:null,a4=(n,t)=>n===!1||nh(n)&&n>0?n:t,Yy=n=>q.isValidElement(n)||ao(n)||Ys(n)||nh(n);function o4(n,t,e=300){let{scrollHeight:i,style:r}=n;requestAnimationFrame(()=>{r.minHeight="initial",r.height=i+"px",r.transition=`all ${e}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(t,e)})})}function l4({enter:n,exit:t,appendPosition:e=!1,collapse:i=!0,collapseDuration:r=300}){return function({children:o,position:l,preventExitTransition:u,done:f,nodeRef:d,isIn:g,playToast:_}){let v=e?`${n}--${l}`:n,E=e?`${t}--${l}`:t,x=q.useRef(0);return q.useLayoutEffect(()=>{let A=d.current,R=v.split(" "),O=k=>{k.target===d.current&&(_(),A.removeEventListener("animationend",O),A.removeEventListener("animationcancel",O),x.current===0&&k.type!=="animationcancel"&&A.classList.remove(...R))};A.classList.add(...R),A.addEventListener("animationend",O),A.addEventListener("animationcancel",O)},[]),q.useEffect(()=>{let A=d.current,R=()=>{A.removeEventListener("animationend",R),i?o4(A,f,r):f()};g||(u?R():(x.current=1,A.className+=` ${E}`,A.addEventListener("animationend",R)))},[g]),ue.createElement(ue.Fragment,null,o)}}function NS(n,t){return{content:uR(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:t}}function uR(n,t,e=!1){return q.isValidElement(n)&&!ao(n.type)?q.cloneElement(n,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:e}):Ys(n)?n({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:e}):n}function c4({closeToast:n,theme:t,ariaLabel:e="close"}){return ue.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:i=>{i.stopPropagation(),n(!0)},"aria-label":e},ue.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ue.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function u4({delay:n,isRunning:t,closeToast:e,type:i="default",hide:r,className:o,controlledProgress:l,progress:u,rtl:f,isIn:d,theme:g}){let _=r||l&&u===0,v={animationDuration:`${n}ms`,animationPlayState:t?"running":"paused"};l&&(v.transform=`scaleX(${u})`);let E=Wa("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${g}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":f}),x=Ys(o)?o({rtl:f,type:i,defaultClassName:E}):Wa(E,o),A={[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{d&&e()}};return ue.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":_},ue.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${g} Toastify__progress-bar--${i}`}),ue.createElement("div",{role:"progressbar","aria-hidden":_?"true":"false","aria-label":"notification timer",className:x,style:v,...A}))}var h4=1,hR=()=>`${h4++}`;function f4(n,t,e){let i=1,r=0,o=[],l=[],u=t,f=new Map,d=new Set,g=k=>(d.add(k),()=>d.delete(k)),_=()=>{l=Array.from(f.values()),d.forEach(k=>k())},v=({containerId:k,toastId:U,updateId:Y})=>{let $=k?k!==n:n!==1,tt=f.has(U)&&Y==null;return $||tt},E=(k,U)=>{f.forEach(Y=>{var $;(U==null||U===Y.props.toastId)&&(($=Y.toggle)==null||$.call(Y,k))})},x=k=>{var U,Y;(Y=(U=k.props)==null?void 0:U.onClose)==null||Y.call(U,k.removalReason),k.isActive=!1},A=k=>{if(k==null)f.forEach(x);else{let U=f.get(k);U&&x(U)}_()},R=()=>{r-=o.length,o=[]},O=k=>{var U,Y;let{toastId:$,updateId:tt}=k.props,w=tt==null;k.staleId&&f.delete(k.staleId),k.isActive=!0,f.set($,k),_(),e(NS(k,w?"added":"updated")),w&&((Y=(U=k.props).onOpen)==null||Y.call(U))};return{id:n,props:u,observe:g,toggle:E,removeToast:A,toasts:f,clearQueue:R,buildToast:(k,U)=>{if(v(U))return;let{toastId:Y,updateId:$,data:tt,staleId:w,delay:C}=U,M=$==null;M&&r++;let V={...u,style:u.toastStyle,key:i++,...Object.fromEntries(Object.entries(U).filter(([B,L])=>L!=null)),toastId:Y,updateId:$,data:tt,isIn:!1,className:Gy(U.className||u.toastClassName),progressClassName:Gy(U.progressClassName||u.progressClassName),autoClose:U.isLoading?!1:a4(U.autoClose,u.autoClose),closeToast(B){f.get(Y).removalReason=B,A(Y)},deleteToast(){let B=f.get(Y);if(B!=null){if(e(NS(B,"removed")),f.delete(Y),r--,r<0&&(r=0),o.length>0){O(o.shift());return}_()}}};V.closeButton=u.closeButton,U.closeButton===!1||Yy(U.closeButton)?V.closeButton=U.closeButton:U.closeButton===!0&&(V.closeButton=Yy(u.closeButton)?u.closeButton:!0);let P={content:k,props:V,staleId:w};u.limit&&u.limit>0&&r>u.limit&&M?o.push(P):nh(C)?setTimeout(()=>{O(P)},C):O(P)},setProps(k){u=k},setToggle:(k,U)=>{let Y=f.get(k);Y&&(Y.toggle=U)},isToastActive:k=>{var U;return(U=f.get(k))==null?void 0:U.isActive},getSnapshot:()=>l}}var wn=new Map,ku=[],$y=new Set,d4=n=>$y.forEach(t=>t(n)),fR=()=>wn.size>0;function m4(){ku.forEach(n=>mR(n.content,n.options)),ku=[]}var p4=(n,{containerId:t})=>{var e;return(e=wn.get(t||1))==null?void 0:e.toasts.get(n)};function dR(n,t){var e;if(t)return!!((e=wn.get(t))!=null&&e.isToastActive(n));let i=!1;return wn.forEach(r=>{r.isToastActive(n)&&(i=!0)}),i}function g4(n){if(!fR()){ku=ku.filter(t=>n!=null&&t.options.toastId!==n);return}if(n==null||r4(n))wn.forEach(t=>{t.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let t=wn.get(n.containerId);t?t.removeToast(n.id):wn.forEach(e=>{e.removeToast(n.id)})}}var y4=(n={})=>{wn.forEach(t=>{t.props.limit&&(!n.containerId||t.id===n.containerId)&&t.clearQueue()})};function mR(n,t){Yy(n)&&(fR()||ku.push({content:n,options:t}),wn.forEach(e=>{e.buildToast(n,t)}))}function _4(n){var t;(t=wn.get(n.containerId||1))==null||t.setToggle(n.id,n.fn)}function pR(n,t){wn.forEach(e=>{(t==null||!(t!=null&&t.containerId)||t?.containerId===e.id)&&e.toggle(n,t?.id)})}function v4(n){let t=n.containerId||1;return{subscribe(e){let i=f4(t,n,d4);wn.set(t,i);let r=i.observe(e);return m4(),()=>{r(),wn.delete(t)}},setProps(e){var i;(i=wn.get(t))==null||i.setProps(e)},getSnapshot(){var e;return(e=wn.get(t))==null?void 0:e.getSnapshot()}}}function b4(n){return $y.add(n),()=>{$y.delete(n)}}function T4(n){return n&&(ao(n.toastId)||nh(n.toastId))?n.toastId:hR()}function ih(n,t){return mR(n,t),t.toastId}function Tm(n,t){return{...t,type:t&&t.type||n,toastId:T4(t)}}function Em(n){return(t,e)=>ih(t,Tm(n,e))}function vt(n,t){return ih(n,Tm("default",t))}vt.loading=(n,t)=>ih(n,Tm("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function E4(n,{pending:t,error:e,success:i},r){let o;t&&(o=ao(t)?vt.loading(t,r):vt.loading(t.render,{...r,...t}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(d,g,_)=>{if(g==null){vt.dismiss(o);return}let v={type:d,...l,...r,data:_},E=ao(g)?{render:g}:g;return o?vt.update(o,{...v,...E}):vt(E.render,{...v,...E}),_},f=Ys(n)?n():n;return f.then(d=>u("success",i,d)).catch(d=>u("error",e,d)),f}vt.promise=E4;vt.success=Em("success");vt.info=Em("info");vt.error=Em("error");vt.warning=Em("warning");vt.warn=vt.warning;vt.dark=(n,t)=>ih(n,Tm("default",{theme:"dark",...t}));function S4(n){g4(n)}vt.dismiss=S4;vt.clearWaitingQueue=y4;vt.isActive=dR;vt.update=(n,t={})=>{let e=p4(n,t);if(e){let{props:i,content:r}=e,o={delay:100,...i,...t,toastId:t.toastId||n,updateId:hR()};o.toastId!==n&&(o.staleId=n);let l=o.render||r;delete o.render,ih(l,o)}};vt.done=n=>{vt.update(n,{progress:1})};vt.onChange=b4;vt.play=n=>pR(!0,n);vt.pause=n=>pR(!1,n);function w4(n){var t;let{subscribe:e,getSnapshot:i,setProps:r}=q.useRef(v4(n)).current;r(n);let o=(t=q.useSyncExternalStore(e,i,i))==null?void 0:t.slice();function l(u){if(!o)return[];let f=new Map;return n.newestOnTop&&o.reverse(),o.forEach(d=>{let{position:g}=d.props;f.has(g)||f.set(g,[]),f.get(g).push(d)}),Array.from(f,d=>u(d[0],d[1]))}return{getToastToRender:l,isToastActive:dR,count:o?.length}}function x4(n){let[t,e]=q.useState(!1),[i,r]=q.useState(!1),o=q.useRef(null),l=q.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:u,pauseOnHover:f,closeToast:d,onClick:g,closeOnClick:_}=n;_4({id:n.toastId,containerId:n.containerId,fn:e}),q.useEffect(()=>{if(n.pauseOnFocusLoss)return v(),()=>{E()}},[n.pauseOnFocusLoss]);function v(){document.hasFocus()||O(),window.addEventListener("focus",R),window.addEventListener("blur",O)}function E(){window.removeEventListener("focus",R),window.removeEventListener("blur",O)}function x(w){if(n.draggable===!0||n.draggable===w.pointerType){k();let C=o.current;l.canCloseOnClick=!0,l.canDrag=!0,C.style.transition="none",n.draggableDirection==="x"?(l.start=w.clientX,l.removalDistance=C.offsetWidth*(n.draggablePercent/100)):(l.start=w.clientY,l.removalDistance=C.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function A(w){let{top:C,bottom:M,left:V,right:P}=o.current.getBoundingClientRect();w.nativeEvent.type!=="touchend"&&n.pauseOnHover&&w.clientX>=V&&w.clientX<=P&&w.clientY>=C&&w.clientY<=M?O():R()}function R(){e(!0)}function O(){e(!1)}function k(){l.didMove=!1,document.addEventListener("pointermove",Y),document.addEventListener("pointerup",$)}function U(){document.removeEventListener("pointermove",Y),document.removeEventListener("pointerup",$)}function Y(w){let C=o.current;if(l.canDrag&&C){l.didMove=!0,t&&O(),n.draggableDirection==="x"?l.delta=w.clientX-l.start:l.delta=w.clientY-l.start,l.start!==w.clientX&&(l.canCloseOnClick=!1);let M=n.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`;C.style.transform=`translate3d(${M},0)`,C.style.opacity=`${1-Math.abs(l.delta/l.removalDistance)}`}}function $(){U();let w=o.current;if(l.canDrag&&l.didMove&&w){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance){r(!0),n.closeToast(!0),n.collapseAll();return}w.style.transition="transform 0.2s, opacity 0.2s",w.style.removeProperty("transform"),w.style.removeProperty("opacity")}}let tt={onPointerDown:x,onPointerUp:A};return u&&f&&(tt.onMouseEnter=O,n.stacked||(tt.onMouseLeave=R)),_&&(tt.onClick=w=>{g&&g(w),l.canCloseOnClick&&d(!0)}),{playToast:R,pauseToast:O,isRunning:t,preventExitTransition:i,toastRef:o,eventHandlers:tt}}var A4=typeof window<"u"?q.useLayoutEffect:q.useEffect,Sm=({theme:n,type:t,isLoading:e,...i})=>ue.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...i});function R4(n){return ue.createElement(Sm,{...n},ue.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function C4(n){return ue.createElement(Sm,{...n},ue.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function I4(n){return ue.createElement(Sm,{...n},ue.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function D4(n){return ue.createElement(Sm,{...n},ue.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function M4(){return ue.createElement("div",{className:"Toastify__spinner"})}var Wy={info:C4,warning:R4,success:I4,error:D4,spinner:M4},O4=n=>n in Wy;function k4({theme:n,type:t,isLoading:e,icon:i}){let r=null,o={theme:n,type:t};return i===!1||(Ys(i)?r=i({...o,isLoading:e}):q.isValidElement(i)?r=q.cloneElement(i,o):e?r=Wy.spinner():O4(t)&&(r=Wy[t](o))),r}var N4=n=>{let{isRunning:t,preventExitTransition:e,toastRef:i,eventHandlers:r,playToast:o}=x4(n),{closeButton:l,children:u,autoClose:f,onClick:d,type:g,hideProgressBar:_,closeToast:v,transition:E,position:x,className:A,style:R,progressClassName:O,updateId:k,role:U,progress:Y,rtl:$,toastId:tt,deleteToast:w,isIn:C,isLoading:M,closeOnClick:V,theme:P,ariaLabel:B}=n,L=Wa("Toastify__toast",`Toastify__toast-theme--${P}`,`Toastify__toast--${g}`,{"Toastify__toast--rtl":$},{"Toastify__toast--close-on-click":V}),Dt=Ys(A)?A({rtl:$,position:x,type:g,defaultClassName:L}):Wa(L,A),_t=k4(n),j=!!Y||!f,it={closeToast:v,type:g,theme:P},ft=null;return l===!1||(Ys(l)?ft=l(it):q.isValidElement(l)?ft=q.cloneElement(l,it):ft=c4(it)),ue.createElement(E,{isIn:C,done:w,position:x,preventExitTransition:e,nodeRef:i,playToast:o},ue.createElement("div",{id:tt,tabIndex:0,onClick:d,"data-in":C,className:Dt,...r,style:R,ref:i,...C&&{role:U,"aria-label":B}},_t!=null&&ue.createElement("div",{className:Wa("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!M})},_t),uR(u,n,!t),ft,!n.customProgressBar&&ue.createElement(u4,{...k&&!j?{key:`p-${k}`}:{},rtl:$,theme:P,delay:f,isRunning:t,isIn:C,closeToast:v,hide:_,type:g,className:O,controlledProgress:j,progress:Y||0})))},P4=(n,t=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:t}),L4=l4(P4("bounce",!0)),V4={position:"top-right",transition:L4,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function z4(n){let t={...V4,...n},e=n.stacked,[i,r]=q.useState(!0),o=q.useRef(null),{getToastToRender:l,isToastActive:u,count:f}=w4(t),{className:d,style:g,rtl:_,containerId:v,hotKeys:E}=t;function x(R){let O=Wa("Toastify__toast-container",`Toastify__toast-container--${R}`,{"Toastify__toast-container--rtl":_});return Ys(d)?d({position:R,rtl:_,defaultClassName:O}):Wa(O,Gy(d))}function A(){e&&(r(!0),vt.play())}return A4(()=>{var R;if(e){let O=o.current.querySelectorAll('[data-in="true"]'),k=12,U=(R=t.position)==null?void 0:R.includes("top"),Y=0,$=0;Array.from(O).reverse().forEach((tt,w)=>{let C=tt;C.classList.add("Toastify__toast--stacked"),w>0&&(C.dataset.collapsed=`${i}`),C.dataset.pos||(C.dataset.pos=U?"top":"bot");let M=Y*(i?.2:1)+(i?0:k*w);C.style.setProperty("--y",`${U?M:M*-1}px`),C.style.setProperty("--g",`${k}`),C.style.setProperty("--s",`${1-(i?$:0)}`),Y+=C.offsetHeight,$+=.025})}},[i,f,e]),q.useEffect(()=>{function R(O){var k;let U=o.current;E(O)&&((k=U.querySelector('[tabIndex="0"]'))==null||k.focus(),r(!1),vt.pause()),O.key==="Escape"&&(document.activeElement===U||U!=null&&U.contains(document.activeElement))&&(r(!0),vt.play())}return document.addEventListener("keydown",R),()=>{document.removeEventListener("keydown",R)}},[E]),ue.createElement("section",{ref:o,className:"Toastify",id:v,onMouseEnter:()=>{e&&(r(!1),vt.pause())},onMouseLeave:A,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},l((R,O)=>{let k=O.length?{...g}:{...g,pointerEvents:"none"};return ue.createElement("div",{tabIndex:-1,className:x(R),"data-stacked":e,style:k,key:`c-${R}`},O.map(({content:U,props:Y})=>ue.createElement(N4,{...Y,stacked:e,collapseAll:A,isIn:u(Y.toastId,Y.containerId),key:`t-${Y.key}`},U)))}))}const U4="admin@todoapp.local",B4="admin1",j4=()=>{const[n,t]=q.useState(""),[e,i]=q.useState(""),r=Fu(),o=async l=>{l.preventDefault();try{const u=n.trim()==="admin",f=u?U4:n.trim();await lR(f,u&&e==="admin"?B4:e),vt.success("!"),r("/")}catch{vt.error("")}};return N.jsx("div",{className:"auth-wrapper",children:N.jsxs("div",{className:"glass-panel auth-card",children:[N.jsx("h2",{children:" "}),N.jsxs("form",{onSubmit:o,className:"auth-form",children:[N.jsx("input",{type:"text",placeholder:"  username",className:"input-field",value:n,onChange:l=>t(l.target.value),required:!0,autoComplete:"username"}),N.jsx("input",{type:"password",placeholder:"",className:"input-field",value:e,onChange:l=>i(l.target.value),required:!0,autoComplete:"current-password"}),N.jsx("button",{type:"submit",className:"btn",children:""})]}),N.jsxs("p",{style:{marginTop:"1rem",fontSize:"0.85rem",opacity:.6},children:[" Admin: username ",N.jsx("strong",{children:"admin"})," / password ",N.jsx("strong",{children:"admin"})]}),N.jsxs("p",{style:{marginTop:"0.5rem",fontSize:"0.9rem"},children:["? ",N.jsx(js,{to:"/register",children:""})]})]})})},F4=()=>{const[n,t]=q.useState(""),[e,i]=q.useState(""),[r,o]=q.useState(""),l=Fu(),u=async f=>{if(f.preventDefault(),!n.trim()){vt.error("");return}try{await oR(e,r,n.trim()),vt.success("!"),l("/")}catch(d){vt.error(d.message)}};return N.jsx("div",{className:"auth-wrapper",children:N.jsxs("div",{className:"glass-panel auth-card",children:[N.jsx("h2",{children:" "}),N.jsxs("form",{onSubmit:u,className:"auth-form",children:[N.jsx("input",{type:"text",placeholder:"",className:"input-field",value:n,onChange:f=>t(f.target.value),required:!0}),N.jsx("input",{type:"email",placeholder:"",className:"input-field",value:e,onChange:f=>i(f.target.value),required:!0}),N.jsx("input",{type:"password",placeholder:" ( 6 )",className:"input-field",value:r,onChange:f=>o(f.target.value),required:!0,minLength:6}),N.jsx("button",{type:"submit",className:"btn",children:""})]}),N.jsxs("p",{style:{marginTop:"1rem",fontSize:"0.9rem"},children:["? ",N.jsx(js,{to:"/login",children:""})]})]})})},Bl="tasks",H4=(n,t)=>{let e;return n?(e=dm(Ul(bn,Bl),ZV("ownerId","==",n.uid),pm("createdAt","desc")),ym(e,i=>{const r=i.docs.map(o=>({id:o.id,...o.data()}));t(r)})):()=>{}},q4=n=>{const t=dm(Ul(bn,Bl),pm("createdAt","desc"));return ym(t,e=>{const i=e.docs.map(r=>({id:r.id,...r.data()}));n(i)})},G4=async(n,t)=>await iR(Ul(bn,Bl),{...n,ownerId:t.uid,ownerEmail:t.email,ownerNickname:n.ownerNickname||"",ownerColor:t.color||"#000000",completed:!1,createdAt:ro(),updatedAt:ro()}),Y4=async(n,t)=>{const e=Di(bn,Bl,n);await gm(e,{completed:!t,updatedAt:ro()})},$4=async n=>{await sv(Di(bn,Bl,n))},W4=async(n,t)=>{const e=Di(bn,Bl,n);await gm(e,{...t,updatedAt:ro()})};function sh(n){return n+.5|0}const Nr=(n,t,e)=>Math.max(Math.min(n,e),t);function ou(n){return Nr(sh(n*2.55),0,255)}function qr(n){return Nr(sh(n*255),0,255)}function Os(n){return Nr(sh(n/2.55)/100,0,1)}function PS(n){return Nr(sh(n*100),0,100)}const oi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ky=[..."0123456789ABCDEF"],K4=n=>Ky[n&15],X4=n=>Ky[(n&240)>>4]+Ky[n&15],Hf=n=>(n&240)>>4===(n&15),Q4=n=>Hf(n.r)&&Hf(n.g)&&Hf(n.b)&&Hf(n.a);function J4(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&oi[n[1]]*17,g:255&oi[n[2]]*17,b:255&oi[n[3]]*17,a:t===5?oi[n[4]]*17:255}:(t===7||t===9)&&(e={r:oi[n[1]]<<4|oi[n[2]],g:oi[n[3]]<<4|oi[n[4]],b:oi[n[5]]<<4|oi[n[6]],a:t===9?oi[n[7]]<<4|oi[n[8]]:255})),e}const Z4=(n,t)=>n<255?t(n):"";function t3(n){var t=Q4(n)?K4:X4;return n?"#"+t(n.r)+t(n.g)+t(n.b)+Z4(n.a,t):void 0}const e3=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function gR(n,t,e){const i=t*Math.min(e,1-e),r=(o,l=(o+n/30)%12)=>e-i*Math.max(Math.min(l-3,9-l,1),-1);return[r(0),r(8),r(4)]}function n3(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function i3(n,t,e){const i=gR(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function s3(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function rv(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),l=Math.min(e,i,r),u=(o+l)/2;let f,d,g;return o!==l&&(g=o-l,d=u>.5?g/(2-o-l):g/(o+l),f=s3(e,i,r,g,o),f=f*60+.5),[f|0,d||0,u]}function av(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(qr)}function ov(n,t,e){return av(gR,n,t,e)}function r3(n,t,e){return av(i3,n,t,e)}function a3(n,t,e){return av(n3,n,t,e)}function yR(n){return(n%360+360)%360}function o3(n){const t=e3.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?ou(+t[5]):qr(+t[5]));const r=yR(+t[2]),o=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?i=r3(r,o,l):t[1]==="hsv"?i=a3(r,o,l):i=ov(r,o,l),{r:i[0],g:i[1],b:i[2],a:e}}function l3(n,t){var e=rv(n);e[0]=yR(e[0]+t),e=ov(e),n.r=e[0],n.g=e[1],n.b=e[2]}function c3(n){if(!n)return;const t=rv(n),e=t[0],i=PS(t[1]),r=PS(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${Os(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const LS={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},VS={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function u3(){const n={},t=Object.keys(VS),e=Object.keys(LS);let i,r,o,l,u;for(i=0;i<t.length;i++){for(l=u=t[i],r=0;r<e.length;r++)o=e[r],u=u.replace(o,LS[o]);o=parseInt(VS[l],16),n[u]=[o>>16&255,o>>8&255,o&255]}return n}let qf;function h3(n){qf||(qf=u3(),qf.transparent=[0,0,0,0]);const t=qf[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const f3=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function d3(n){const t=f3.exec(n);let e=255,i,r,o;if(t){if(t[7]!==i){const l=+t[7];e=t[8]?ou(l):Nr(l*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?ou(i):Nr(i,0,255)),r=255&(t[4]?ou(r):Nr(r,0,255)),o=255&(t[6]?ou(o):Nr(o,0,255)),{r:i,g:r,b:o,a:e}}}function m3(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Os(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const ty=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,rl=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function p3(n,t,e){const i=rl(Os(n.r)),r=rl(Os(n.g)),o=rl(Os(n.b));return{r:qr(ty(i+e*(rl(Os(t.r))-i))),g:qr(ty(r+e*(rl(Os(t.g))-r))),b:qr(ty(o+e*(rl(Os(t.b))-o))),a:n.a+e*(t.a-n.a)}}function Gf(n,t,e){if(n){let i=rv(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=ov(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function _R(n,t){return n&&Object.assign(t||{},n)}function zS(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=qr(n[3]))):(t=_R(n,{r:0,g:0,b:0,a:1}),t.a=qr(t.a)),t}function g3(n){return n.charAt(0)==="r"?d3(n):o3(n)}class Nu{constructor(t){if(t instanceof Nu)return t;const e=typeof t;let i;e==="object"?i=zS(t):e==="string"&&(i=J4(t)||h3(t)||g3(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=_R(this._rgb);return t&&(t.a=Os(t.a)),t}set rgb(t){this._rgb=zS(t)}rgbString(){return this._valid?m3(this._rgb):void 0}hexString(){return this._valid?t3(this._rgb):void 0}hslString(){return this._valid?c3(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const l=e===o?.5:e,u=2*l-1,f=i.a-r.a,d=((u*f===-1?u:(u+f)/(1+u*f))+1)/2;o=1-d,i.r=255&d*i.r+o*r.r+.5,i.g=255&d*i.g+o*r.g+.5,i.b=255&d*i.b+o*r.b+.5,i.a=l*i.a+(1-l)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=p3(this._rgb,t._rgb,e)),this}clone(){return new Nu(this.rgb)}alpha(t){return this._rgb.a=qr(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=sh(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Gf(this._rgb,2,t),this}darken(t){return Gf(this._rgb,2,-t),this}saturate(t){return Gf(this._rgb,1,t),this}desaturate(t){return Gf(this._rgb,1,-t),this}rotate(t){return l3(this._rgb,t),this}}function Is(){}const y3=(()=>{let n=0;return()=>n++})();function Lt(n){return n==null}function _e(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Ht(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function xe(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Gn(n,t){return xe(n)?n:t}function Ct(n,t){return typeof n>"u"?t:n}const _3=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,vR=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function le(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function ne(n,t,e,i){let r,o,l;if(_e(n))for(o=n.length,r=0;r<o;r++)t.call(e,n[r],r);else if(Ht(n))for(l=Object.keys(n),o=l.length,r=0;r<o;r++)t.call(e,n[l[r]],l[r])}function Ld(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Vd(n){if(_e(n))return n.map(Vd);if(Ht(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=Vd(n[e[r]]);return t}return n}function bR(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function v3(n,t,e,i){if(!bR(n))return;const r=t[n],o=e[n];Ht(r)&&Ht(o)?Pu(r,o,i):t[n]=Vd(o)}function Pu(n,t,e){const i=_e(t)?t:[t],r=i.length;if(!Ht(n))return n;e=e||{};const o=e.merger||v3;let l;for(let u=0;u<r;++u){if(l=i[u],!Ht(l))continue;const f=Object.keys(l);for(let d=0,g=f.length;d<g;++d)o(f[d],n,l,e)}return n}function yu(n,t){return Pu(n,t,{merger:b3})}function b3(n,t,e){if(!bR(n))return;const i=t[n],r=e[n];Ht(i)&&Ht(r)?yu(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Vd(r))}const US={"":n=>n,x:n=>n.x,y:n=>n.y};function T3(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function E3(n){const t=T3(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Jr(n,t){return(US[t]||(US[t]=E3(t)))(n)}function lv(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Lu=n=>typeof n<"u",Zr=n=>typeof n=="function",BS=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function S3(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Kt=Math.PI,me=2*Kt,w3=me+Kt,zd=Number.POSITIVE_INFINITY,x3=Kt/180,Me=Kt/2,za=Kt/4,jS=Kt*2/3,Pr=Math.log10,os=Math.sign;function _u(n,t,e){return Math.abs(n-t)<e}function FS(n){const t=Math.round(n);n=_u(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(Pr(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function A3(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function R3(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function xl(n){return!R3(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function C3(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function TR(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function xi(n){return n*(Kt/180)}function cv(n){return n*(180/Kt)}function HS(n){if(!xe(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function ER(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*Kt&&(o+=me),{angle:o,distance:r}}function Xy(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function I3(n,t){return(n-t+w3)%me-Kt}function pn(n){return(n%me+me)%me}function Vu(n,t,e,i){const r=pn(n),o=pn(t),l=pn(e),u=pn(o-r),f=pn(l-r),d=pn(r-o),g=pn(r-l);return r===o||r===l||i&&o===l||u>f&&d<g}function tn(n,t,e){return Math.max(t,Math.min(e,n))}function D3(n){return tn(n,-32768,32767)}function Ps(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function uv(n,t,e){e=e||(l=>n[l]<t);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const Ls=(n,t,e,i)=>uv(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),M3=(n,t,e)=>uv(n,e,i=>n[i][t]>=e);function O3(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const SR=["push","pop","shift","splice","unshift"];function k3(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),SR.forEach(e=>{const i="_onData"+lv(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const l=r.apply(this,o);return n._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...o)}),l}})})}function qS(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(SR.forEach(o=>{delete n[o]}),delete n._chartjs)}function wR(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const xR=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function AR(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,xR.call(window,()=>{i=!1,n.apply(t,e)}))}}function N3(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const hv=n=>n==="start"?"left":n==="end"?"right":"center",dn=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,P3=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function RR(n,t,e){const i=t.length;let r=0,o=i;if(n._sorted){const{iScale:l,vScale:u,_parsed:f}=n,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,g=l.axis,{min:_,max:v,minDefined:E,maxDefined:x}=l.getUserBounds();if(E){if(r=Math.min(Ls(f,g,_).lo,e?i:Ls(t,g,l.getPixelForValue(_)).lo),d){const A=f.slice(0,r+1).reverse().findIndex(R=>!Lt(R[u.axis]));r-=Math.max(0,A)}r=tn(r,0,i-1)}if(x){let A=Math.max(Ls(f,l.axis,v,!0).hi+1,e?0:Ls(t,g,l.getPixelForValue(v),!0).hi+1);if(d){const R=f.slice(A-1).findIndex(O=>!Lt(O[u.axis]));A+=Math.max(0,R)}o=tn(A,r,i)-r}else o=i-r}return{start:r,count:o}}function CR(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),o}const Yf=n=>n===0||n===1,GS=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*me/e)),YS=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*me/e)+1,vu={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Me)+1,easeOutSine:n=>Math.sin(n*Me),easeInOutSine:n=>-.5*(Math.cos(Kt*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Yf(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Yf(n)?n:GS(n,.075,.3),easeOutElastic:n=>Yf(n)?n:YS(n,.075,.3),easeInOutElastic(n){return Yf(n)?n:n<.5?.5*GS(n*2,.1125,.45):.5+.5*YS(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-vu.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?vu.easeInBounce(n*2)*.5:vu.easeOutBounce(n*2-1)*.5+.5};function fv(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function $S(n){return fv(n)?n:new Nu(n)}function ey(n){return fv(n)?n:new Nu(n).saturate(.5).darken(.1).hexString()}const L3=["x","y","borderWidth","radius","tension"],V3=["color","borderColor","backgroundColor"];function z3(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:V3},numbers:{type:"number",properties:L3}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function U3(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const WS=new Map;function B3(n,t){t=t||{};const e=n+JSON.stringify(t);let i=WS.get(e);return i||(i=new Intl.NumberFormat(n,t),WS.set(e,i)),i}function rh(n,t,e){return B3(t,e).format(n)}const IR={values(n){return _e(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(e.length>1){const d=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(d<1e-4||d>1e15)&&(r="scientific"),o=j3(n,e)}const l=Pr(Math.abs(o)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),f={notation:r,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(f,this.options.ticks.format),rh(n,i,f)},logarithmic(n,t,e){if(n===0)return"0";const i=e[t].significand||n/Math.pow(10,Math.floor(Pr(n)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?IR.numeric.call(this,n,t,e):""}};function j3(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var wm={formatters:IR};function F3(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:wm.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const oo=Object.create(null),Qy=Object.create(null);function bu(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function ny(n,t,e){return typeof t=="string"?Pu(bu(n,t),e):Pu(bu(n,""),t)}class H3{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>ey(r.backgroundColor),this.hoverBorderColor=(i,r)=>ey(r.borderColor),this.hoverColor=(i,r)=>ey(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return ny(this,t,e)}get(t){return bu(this,t)}describe(t,e){return ny(Qy,t,e)}override(t,e){return ny(oo,t,e)}route(t,e,i,r){const o=bu(this,t),l=bu(this,i),u="_"+e;Object.defineProperties(o,{[u]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[u],d=l[r];return Ht(f)?Object.assign({},d,f):Ct(f,d)},set(f){this[u]=f}}})}apply(t){t.forEach(e=>e(this))}}var ve=new H3({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[z3,U3,F3]);function q3(n){return!n||Lt(n.size)||Lt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Ud(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function G3(n,t,e,i){i=i||{};let r=i.data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},o=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let l=0;const u=e.length;let f,d,g,_,v;for(f=0;f<u;f++)if(_=e[f],_!=null&&!_e(_))l=Ud(n,r,o,l,_);else if(_e(_))for(d=0,g=_.length;d<g;d++)v=_[d],v!=null&&!_e(v)&&(l=Ud(n,r,o,l,v));n.restore();const E=o.length/2;if(E>e.length){for(f=0;f<E;f++)delete r[o[f]];o.splice(0,E)}return l}function Ua(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function KS(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function Jy(n,t,e,i){DR(n,t,e,i,null)}function DR(n,t,e,i,r){let o,l,u,f,d,g,_,v;const E=t.pointStyle,x=t.rotation,A=t.radius;let R=(x||0)*x3;if(E&&typeof E=="object"&&(o=E.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(R),n.drawImage(E,-E.width/2,-E.height/2,E.width,E.height),n.restore();return}if(!(isNaN(A)||A<=0)){switch(n.beginPath(),E){default:r?n.ellipse(e,i,r/2,A,0,0,me):n.arc(e,i,A,0,me),n.closePath();break;case"triangle":g=r?r/2:A,n.moveTo(e+Math.sin(R)*g,i-Math.cos(R)*A),R+=jS,n.lineTo(e+Math.sin(R)*g,i-Math.cos(R)*A),R+=jS,n.lineTo(e+Math.sin(R)*g,i-Math.cos(R)*A),n.closePath();break;case"rectRounded":d=A*.516,f=A-d,l=Math.cos(R+za)*f,_=Math.cos(R+za)*(r?r/2-d:f),u=Math.sin(R+za)*f,v=Math.sin(R+za)*(r?r/2-d:f),n.arc(e-_,i-u,d,R-Kt,R-Me),n.arc(e+v,i-l,d,R-Me,R),n.arc(e+_,i+u,d,R,R+Me),n.arc(e-v,i+l,d,R+Me,R+Kt),n.closePath();break;case"rect":if(!x){f=Math.SQRT1_2*A,g=r?r/2:f,n.rect(e-g,i-f,2*g,2*f);break}R+=za;case"rectRot":_=Math.cos(R)*(r?r/2:A),l=Math.cos(R)*A,u=Math.sin(R)*A,v=Math.sin(R)*(r?r/2:A),n.moveTo(e-_,i-u),n.lineTo(e+v,i-l),n.lineTo(e+_,i+u),n.lineTo(e-v,i+l),n.closePath();break;case"crossRot":R+=za;case"cross":_=Math.cos(R)*(r?r/2:A),l=Math.cos(R)*A,u=Math.sin(R)*A,v=Math.sin(R)*(r?r/2:A),n.moveTo(e-_,i-u),n.lineTo(e+_,i+u),n.moveTo(e+v,i-l),n.lineTo(e-v,i+l);break;case"star":_=Math.cos(R)*(r?r/2:A),l=Math.cos(R)*A,u=Math.sin(R)*A,v=Math.sin(R)*(r?r/2:A),n.moveTo(e-_,i-u),n.lineTo(e+_,i+u),n.moveTo(e+v,i-l),n.lineTo(e-v,i+l),R+=za,_=Math.cos(R)*(r?r/2:A),l=Math.cos(R)*A,u=Math.sin(R)*A,v=Math.sin(R)*(r?r/2:A),n.moveTo(e-_,i-u),n.lineTo(e+_,i+u),n.moveTo(e+v,i-l),n.lineTo(e-v,i+l);break;case"line":l=r?r/2:Math.cos(R)*A,u=Math.sin(R)*A,n.moveTo(e-l,i-u),n.lineTo(e+l,i+u);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(R)*(r?r/2:A),i+Math.sin(R)*A);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function Vs(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function xm(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Am(n){n.restore()}function Y3(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if(r==="middle"){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else r==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function $3(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function W3(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Lt(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function K3(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),l=t-o.actualBoundingBoxLeft,u=t+o.actualBoundingBoxRight,f=e-o.actualBoundingBoxAscent,d=e+o.actualBoundingBoxDescent,g=r.strikethrough?(f+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(l,g),n.lineTo(u,g),n.stroke()}}function X3(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function lo(n,t,e,i,r,o={}){const l=_e(t)?t:[t],u=o.strokeWidth>0&&o.strokeColor!=="";let f,d;for(n.save(),n.font=r.string,W3(n,o),f=0;f<l.length;++f)d=l[f],o.backdrop&&X3(n,o.backdrop),u&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Lt(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(d,e,i,o.maxWidth)),n.fillText(d,e,i,o.maxWidth),K3(n,e,i,d,o),i+=Number(r.lineHeight);n.restore()}function zu(n,t){const{x:e,y:i,w:r,h:o,radius:l}=t;n.arc(e+l.topLeft,i+l.topLeft,l.topLeft,1.5*Kt,Kt,!0),n.lineTo(e,i+o-l.bottomLeft),n.arc(e+l.bottomLeft,i+o-l.bottomLeft,l.bottomLeft,Kt,Me,!0),n.lineTo(e+r-l.bottomRight,i+o),n.arc(e+r-l.bottomRight,i+o-l.bottomRight,l.bottomRight,Me,0,!0),n.lineTo(e+r,i+l.topRight),n.arc(e+r-l.topRight,i+l.topRight,l.topRight,0,-Me,!0),n.lineTo(e+l.topLeft,i)}const Q3=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,J3=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Z3(n,t){const e=(""+n).match(Q3);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const t5=n=>+n||0;function dv(n,t){const e={},i=Ht(t),r=i?Object.keys(t):t,o=Ht(n)?i?l=>Ct(n[l],n[t[l]]):l=>n[l]:()=>n;for(const l of r)e[l]=t5(o(l));return e}function MR(n){return dv(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Ka(n){return dv(n,["topLeft","topRight","bottomLeft","bottomRight"])}function vn(n){const t=MR(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function $e(n,t){n=n||{},t=t||ve.font;let e=Ct(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Ct(n.style,t.style);i&&!(""+i).match(J3)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Ct(n.family,t.family),lineHeight:Z3(Ct(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Ct(n.weight,t.weight),string:""};return r.string=q3(r),r}function lu(n,t,e,i){let r,o,l;for(r=0,o=n.length;r<o;++r)if(l=n[r],l!==void 0&&l!==void 0)return l}function e5(n,t,e){const{min:i,max:r}=n,o=vR(t,(r-i)/2),l=(u,f)=>e&&u===0?0:u+f;return{min:l(i,-Math.abs(o)),max:l(r,o)}}function ra(n,t){return Object.assign(Object.create(n),t)}function mv(n,t=[""],e,i,r=()=>n[0]){const o=e||n;typeof i>"u"&&(i=PR("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:u=>mv([u,...n],t,o,i)};return new Proxy(l,{deleteProperty(u,f){return delete u[f],delete u._keys,delete n[0][f],!0},get(u,f){return kR(u,f,()=>c5(f,t,n,u))},getOwnPropertyDescriptor(u,f){return Reflect.getOwnPropertyDescriptor(u._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,f){return QS(u).includes(f)},ownKeys(u){return QS(u)},set(u,f,d){const g=u._storage||(u._storage=r());return u[f]=g[f]=d,delete u._keys,!0}})}function Al(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:OR(n,i),setContext:o=>Al(n,o,e,i),override:o=>Al(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty(o,l){return delete o[l],delete n[l],!0},get(o,l,u){return kR(o,l,()=>i5(o,l,u))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(o,l,u){return n[l]=u,delete o[l],!0}})}function OR(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:Zr(e)?e:()=>e,isIndexable:Zr(i)?i:()=>i}}const n5=(n,t)=>n?n+lv(t):t,pv=(n,t)=>Ht(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function kR(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function i5(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:l}=n;let u=i[t];return Zr(u)&&l.isScriptable(t)&&(u=s5(t,u,n,e)),_e(u)&&u.length&&(u=r5(t,u,n,l.isIndexable)),pv(t,u)&&(u=Al(u,r,o&&o[t],l)),u}function s5(n,t,e,i){const{_proxy:r,_context:o,_subProxy:l,_stack:u}=e;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let f=t(o,l||i);return u.delete(n),pv(n,f)&&(f=gv(r._scopes,r,n,f)),f}function r5(n,t,e,i){const{_proxy:r,_context:o,_subProxy:l,_descriptors:u}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(Ht(t[0])){const f=t,d=r._scopes.filter(g=>g!==f);t=[];for(const g of f){const _=gv(d,r,n,g);t.push(Al(_,o,l&&l[n],u))}}return t}function NR(n,t,e){return Zr(n)?n(t,e):n}const a5=(n,t)=>n===!0?t:typeof n=="string"?Jr(t,n):void 0;function o5(n,t,e,i,r){for(const o of t){const l=a5(e,o);if(l){n.add(l);const u=NR(l._fallback,e,r);if(typeof u<"u"&&u!==e&&u!==i)return u}else if(l===!1&&typeof i<"u"&&e!==i)return null}return!1}function gv(n,t,e,i){const r=t._rootScopes,o=NR(t._fallback,e,i),l=[...n,...r],u=new Set;u.add(i);let f=XS(u,l,e,o||e,i);return f===null||typeof o<"u"&&o!==e&&(f=XS(u,l,o,f,i),f===null)?!1:mv(Array.from(u),[""],r,o,()=>l5(t,e,i))}function XS(n,t,e,i,r){for(;e;)e=o5(n,t,e,i,r);return e}function l5(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return _e(r)&&Ht(e)?e:r||{}}function c5(n,t,e,i){let r;for(const o of t)if(r=PR(n5(o,n),e),typeof r<"u")return pv(n,r)?gv(e,i,n,r):r}function PR(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function QS(n){let t=n._keys;return t||(t=n._keys=u5(n._scopes)),t}function u5(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}function LR(n,t,e,i){const{iScale:r}=n,{key:o="r"}=this._parsing,l=new Array(i);let u,f,d,g;for(u=0,f=i;u<f;++u)d=u+e,g=t[d],l[u]={r:r.parse(Jr(g,o),d)};return l}const h5=Number.EPSILON||1e-14,Rl=(n,t)=>t<n.length&&!n[t].skip&&n[t],VR=n=>n==="x"?"y":"x";function f5(n,t,e,i){const r=n.skip?t:n,o=t,l=e.skip?t:e,u=Xy(o,r),f=Xy(l,o);let d=u/(u+f),g=f/(u+f);d=isNaN(d)?0:d,g=isNaN(g)?0:g;const _=i*d,v=i*g;return{previous:{x:o.x-_*(l.x-r.x),y:o.y-_*(l.y-r.y)},next:{x:o.x+v*(l.x-r.x),y:o.y+v*(l.y-r.y)}}}function d5(n,t,e){const i=n.length;let r,o,l,u,f,d=Rl(n,0);for(let g=0;g<i-1;++g)if(f=d,d=Rl(n,g+1),!(!f||!d)){if(_u(t[g],0,h5)){e[g]=e[g+1]=0;continue}r=e[g]/t[g],o=e[g+1]/t[g],u=Math.pow(r,2)+Math.pow(o,2),!(u<=9)&&(l=3/Math.sqrt(u),e[g]=r*l*t[g],e[g+1]=o*l*t[g])}}function m5(n,t,e="x"){const i=VR(e),r=n.length;let o,l,u,f=Rl(n,0);for(let d=0;d<r;++d){if(l=u,u=f,f=Rl(n,d+1),!u)continue;const g=u[e],_=u[i];l&&(o=(g-l[e])/3,u[`cp1${e}`]=g-o,u[`cp1${i}`]=_-o*t[d]),f&&(o=(f[e]-g)/3,u[`cp2${e}`]=g+o,u[`cp2${i}`]=_+o*t[d])}}function p5(n,t="x"){const e=VR(t),i=n.length,r=Array(i).fill(0),o=Array(i);let l,u,f,d=Rl(n,0);for(l=0;l<i;++l)if(u=f,f=d,d=Rl(n,l+1),!!f){if(d){const g=d[t]-f[t];r[l]=g!==0?(d[e]-f[e])/g:0}o[l]=u?d?os(r[l-1])!==os(r[l])?0:(r[l-1]+r[l])/2:r[l-1]:r[l]}d5(n,r,o),m5(n,o,t)}function $f(n,t,e){return Math.max(Math.min(n,e),t)}function g5(n,t){let e,i,r,o,l,u=Vs(n[0],t);for(e=0,i=n.length;e<i;++e)l=o,o=u,u=e<i-1&&Vs(n[e+1],t),o&&(r=n[e],l&&(r.cp1x=$f(r.cp1x,t.left,t.right),r.cp1y=$f(r.cp1y,t.top,t.bottom)),u&&(r.cp2x=$f(r.cp2x,t.left,t.right),r.cp2y=$f(r.cp2y,t.top,t.bottom)))}function y5(n,t,e,i,r){let o,l,u,f;if(t.spanGaps&&(n=n.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")p5(n,r);else{let d=i?n[n.length-1]:n[0];for(o=0,l=n.length;o<l;++o)u=n[o],f=f5(d,u,n[Math.min(o+1,l-(i?0:1))%l],t.tension),u.cp1x=f.previous.x,u.cp1y=f.previous.y,u.cp2x=f.next.x,u.cp2y=f.next.y,d=u}t.capBezierPoints&&g5(n,e)}function yv(){return typeof window<"u"&&typeof document<"u"}function _v(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Bd(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const Rm=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function _5(n,t){return Rm(n).getPropertyValue(t)}const v5=["top","right","bottom","left"];function Xa(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=v5[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const b5=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function T5(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let l=!1,u,f;if(b5(r,o,n.target))u=r,f=o;else{const d=t.getBoundingClientRect();u=i.clientX-d.left,f=i.clientY-d.top,l=!0}return{x:u,y:f,box:l}}function qa(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=Rm(e),o=r.boxSizing==="border-box",l=Xa(r,"padding"),u=Xa(r,"border","width"),{x:f,y:d,box:g}=T5(n,e),_=l.left+(g&&u.left),v=l.top+(g&&u.top);let{width:E,height:x}=t;return o&&(E-=l.width+u.width,x-=l.height+u.height),{x:Math.round((f-_)/E*e.width/i),y:Math.round((d-v)/x*e.height/i)}}function E5(n,t,e){let i,r;if(t===void 0||e===void 0){const o=n&&_v(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const l=o.getBoundingClientRect(),u=Rm(o),f=Xa(u,"border","width"),d=Xa(u,"padding");t=l.width-d.width-f.width,e=l.height-d.height-f.height,i=Bd(u.maxWidth,o,"clientWidth"),r=Bd(u.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||zd,maxHeight:r||zd}}const Lr=n=>Math.round(n*10)/10;function S5(n,t,e,i){const r=Rm(n),o=Xa(r,"margin"),l=Bd(r.maxWidth,n,"clientWidth")||zd,u=Bd(r.maxHeight,n,"clientHeight")||zd,f=E5(n,t,e);let{width:d,height:g}=f;if(r.boxSizing==="content-box"){const v=Xa(r,"border","width"),E=Xa(r,"padding");d-=E.width+v.width,g-=E.height+v.height}return d=Math.max(0,d-o.width),g=Math.max(0,i?d/i:g-o.height),d=Lr(Math.min(d,l,f.maxWidth)),g=Lr(Math.min(g,u,f.maxHeight)),d&&!g&&(g=Lr(d/2)),(t!==void 0||e!==void 0)&&i&&f.height&&g>f.height&&(g=f.height,d=Lr(Math.floor(g*i))),{width:d,height:g}}function JS(n,t,e){const i=t||1,r=Lr(n.height*i),o=Lr(n.width*i);n.height=Lr(n.height),n.width=Lr(n.width);const l=n.canvas;return l.style&&(e||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||l.height!==r||l.width!==o?(n.currentDevicePixelRatio=i,l.height=r,l.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const w5=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};yv()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function ZS(n,t){const e=_5(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Ga(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function x5(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function A5(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},l=Ga(n,r,e),u=Ga(r,o,e),f=Ga(o,t,e),d=Ga(l,u,e),g=Ga(u,f,e);return Ga(d,g,e)}const R5=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},C5=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function _l(n,t,e){return n?R5(t,e):C5()}function zR(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function UR(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function BR(n){return n==="angle"?{between:Vu,compare:I3,normalize:pn}:{between:Ps,compare:(t,e)=>t-e,normalize:t=>t}}function t1({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:r}}function I5(n,t,e){const{property:i,start:r,end:o}=e,{between:l,normalize:u}=BR(i),f=t.length;let{start:d,end:g,loop:_}=n,v,E;if(_){for(d+=f,g+=f,v=0,E=f;v<E&&l(u(t[d%f][i]),r,o);++v)d--,g--;d%=f,g%=f}return g<d&&(g+=f),{start:d,end:g,loop:_,style:n.style}}function jR(n,t,e){if(!e)return[n];const{property:i,start:r,end:o}=e,l=t.length,{compare:u,between:f,normalize:d}=BR(i),{start:g,end:_,loop:v,style:E}=I5(n,t,e),x=[];let A=!1,R=null,O,k,U;const Y=()=>f(r,U,O)&&u(r,U)!==0,$=()=>u(o,O)===0||f(o,U,O),tt=()=>A||Y(),w=()=>!A||$();for(let C=g,M=g;C<=_;++C)k=t[C%l],!k.skip&&(O=d(k[i]),O!==U&&(A=f(O,r,o),R===null&&tt()&&(R=u(O,r)===0?C:M),R!==null&&w()&&(x.push(t1({start:R,end:C,loop:v,count:l,style:E})),R=null),M=C,U=O));return R!==null&&x.push(t1({start:R,end:_,loop:v,count:l,style:E})),x}function FR(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const o=jR(i[r],n.points,t);o.length&&e.push(...o)}return e}function D5(n,t,e,i){let r=0,o=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(o+=r);o>r&&n[o%t].skip;)o--;return o%=t,{start:r,end:o}}function M5(n,t,e,i){const r=n.length,o=[];let l=t,u=n[t],f;for(f=t+1;f<=e;++f){const d=n[f%r];d.skip||d.stop?u.skip||(i=!1,o.push({start:t%r,end:(f-1)%r,loop:i}),t=l=d.stop?f:null):(l=f,u.skip&&(t=f)),u=d}return l!==null&&o.push({start:t%r,end:l%r,loop:i}),o}function O5(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const o=!!n._loop,{start:l,end:u}=D5(e,r,o,i);if(i===!0)return e1(n,[{start:l,end:u,loop:o}],e,t);const f=u<l?u+r:u,d=!!n._fullLoop&&l===0&&u===r-1;return e1(n,M5(e,l,f,d),e,t)}function e1(n,t,e,i){return!i||!i.setContext||!e?t:k5(n,t,e,i)}function k5(n,t,e,i){const r=n._chart.getContext(),o=n1(n.options),{_datasetIndex:l,options:{spanGaps:u}}=n,f=e.length,d=[];let g=o,_=t[0].start,v=_;function E(x,A,R,O){const k=u?-1:1;if(x!==A){for(x+=f;e[x%f].skip;)x-=k;for(;e[A%f].skip;)A+=k;x%f!==A%f&&(d.push({start:x%f,end:A%f,loop:R,style:O}),g=O,_=A%f)}}for(const x of t){_=u?_:x.start;let A=e[_%f],R;for(v=_+1;v<=x.end;v++){const O=e[v%f];R=n1(i.setContext(ra(r,{type:"segment",p0:A,p1:O,p0DataIndex:(v-1)%f,p1DataIndex:v%f,datasetIndex:l}))),N5(R,g)&&E(_,v-1,x.loop,g),A=O,g=R}_<v-1&&E(_,v-1,x.loop,g)}return d}function n1(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function N5(n,t){if(!t)return!1;const e=[],i=function(r,o){return fv(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function Wf(n,t,e){return n.options.clip?n[e]:t[e]}function P5(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:Wf(e,t,"left"),right:Wf(e,t,"right"),top:Wf(i,t,"top"),bottom:Wf(i,t,"bottom")}:t}function HR(n,t){const e=t._clip;if(e.disabled)return!1;const i=P5(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}class L5{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const o=e.listeners[r],l=e.duration;o.forEach(u=>u({chart:t,initial:e.initial,numSteps:l,currentStep:Math.min(i-e.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=xR.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let l=o.length-1,u=!1,f;for(;l>=0;--l)f=o[l],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),u=!0):(o[l]=o[o.length-1],o.pop());u&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ds=new L5;const i1="transparent",V5={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=$S(n||i1),r=i.valid&&$S(t||i1);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class z5{constructor(t,e,i,r){const o=e[i];r=lu([t.to,r,o,t.from]);const l=lu([t.from,o,r]);this._active=!0,this._fn=t.fn||V5[t.type||typeof l],this._easing=vu[t.easing]||vu.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=l,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,l=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=lu([t.to,e,r,t.from]),this._from=lu([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,l=this._loop,u=this._to;let f;if(this._active=o!==u&&(l||e<i),!this._active){this._target[r]=u,this._notify(!0);return}if(e<0){this._target[r]=o;return}f=e/i%2,f=l&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[r]=this._fn(o,u,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class qR{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Ht(t))return;const e=Object.keys(ve.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!Ht(o))return;const l={};for(const u of e)l[u]=o[u];(_e(o.properties)&&o.properties||[r]).forEach(u=>{(u===r||!i.has(u))&&i.set(u,l)})})}_animateOptions(t,e){const i=e.options,r=B5(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&U5(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),l=Object.keys(e),u=Date.now();let f;for(f=l.length-1;f>=0;--f){const d=l[f];if(d.charAt(0)==="$")continue;if(d==="options"){r.push(...this._animateOptions(t,e));continue}const g=e[d];let _=o[d];const v=i.get(d);if(_)if(v&&_.active()){_.update(v,g,u);continue}else _.cancel();if(!v||!v.duration){t[d]=g;continue}o[d]=_=new z5(v,t,d,g),r.push(_)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return Ds.add(this._chart,i),!0}}function U5(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function B5(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function s1(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function j5(n,t,e){if(e===!1)return!1;const i=s1(n,e),r=s1(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function F5(n){let t,e,i,r;return Ht(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function GR(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function r1(n,t,e,i={}){const r=n.keys,o=i.mode==="single";let l,u,f,d;if(t===null)return;let g=!1;for(l=0,u=r.length;l<u;++l){if(f=+r[l],f===e){if(g=!0,i.all)continue;break}d=n.values[f],xe(d)&&(o||t===0||os(t)===os(d))&&(t+=d)}return!g&&!i.all?0:t}function H5(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",l=Object.keys(n),u=new Array(l.length);let f,d,g;for(f=0,d=l.length;f<d;++f)g=l[f],u[f]={[r]:g,[o]:n[g]};return u}function iy(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function q5(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function G5(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function Y5(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function a1(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function o1(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:l,index:u}=i,f=o.axis,d=l.axis,g=q5(o,l,i),_=t.length;let v;for(let E=0;E<_;++E){const x=t[E],{[f]:A,[d]:R}=x,O=x._stacks||(x._stacks={});v=O[d]=Y5(r,g,A),v[u]=R,v._top=a1(v,l,!0,i.type),v._bottom=a1(v,l,!1,i.type);const k=v._visualValues||(v._visualValues={});k[u]=R}}function sy(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function $5(n,t){return ra(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function W5(n,t,e){return ra(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Kc(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const ry=n=>n==="reset"||n==="none",l1=(n,t)=>t?n:Object.assign({},n),K5=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:GR(e,!0),values:null};class aa{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=iy(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Kc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(_,v,E,x)=>_==="x"?v:_==="r"?x:E,o=e.xAxisID=Ct(i.xAxisID,sy(t,"x")),l=e.yAxisID=Ct(i.yAxisID,sy(t,"y")),u=e.rAxisID=Ct(i.rAxisID,sy(t,"r")),f=e.indexAxis,d=e.iAxisID=r(f,o,l,u),g=e.vAxisID=r(f,l,o,u);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(l),e.rScale=this.getScaleForId(u),e.iScale=this.getScaleForId(d),e.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&qS(this._data,this),t._stacked&&Kc(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Ht(e)){const r=this._cachedMeta;this._data=H5(e,r)}else if(i!==e){if(i){qS(i,this);const r=this._cachedMeta;Kc(r),r._parsed=[]}e&&Object.isExtensible(e)&&k3(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=iy(e.vScale,e),e.stack!==i.stack&&(r=!0,Kc(e),e.stack=i.stack),this._resyncElements(t),(r||o!==e._stacked)&&(o1(this,e._parsed),e._stacked=iy(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:l}=i,u=o.axis;let f=t===0&&e===r.length?!0:i._sorted,d=t>0&&i._parsed[t-1],g,_,v;if(this._parsing===!1)i._parsed=r,i._sorted=!0,v=r;else{_e(r[t])?v=this.parseArrayData(i,r,t,e):Ht(r[t])?v=this.parseObjectData(i,r,t,e):v=this.parsePrimitiveData(i,r,t,e);const E=()=>_[u]===null||d&&_[u]<d[u];for(g=0;g<e;++g)i._parsed[g+t]=_=v[g],f&&(E()&&(f=!1),d=_);i._sorted=f}l&&o1(this,v)}parsePrimitiveData(t,e,i,r){const{iScale:o,vScale:l}=t,u=o.axis,f=l.axis,d=o.getLabels(),g=o===l,_=new Array(r);let v,E,x;for(v=0,E=r;v<E;++v)x=v+i,_[v]={[u]:g||o.parse(d[x],x),[f]:l.parse(e[x],x)};return _}parseArrayData(t,e,i,r){const{xScale:o,yScale:l}=t,u=new Array(r);let f,d,g,_;for(f=0,d=r;f<d;++f)g=f+i,_=e[g],u[f]={x:o.parse(_[0],g),y:l.parse(_[1],g)};return u}parseObjectData(t,e,i,r){const{xScale:o,yScale:l}=t,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,d=new Array(r);let g,_,v,E;for(g=0,_=r;g<_;++g)v=g+i,E=e[v],d[g]={x:o.parse(Jr(E,u),v),y:l.parse(Jr(E,f),v)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,o=this._cachedMeta,l=e[t.axis],u={keys:GR(r,!0),values:e._stacks[t.axis]._visualValues};return r1(u,l,o.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const o=i[e.axis];let l=o===null?NaN:o;const u=r&&i._stacks[e.axis];r&&u&&(r.values=u,l=r1(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,l=r.length,u=this._getOtherScale(t),f=K5(e,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:_}=G5(u);let v,E;function x(){E=r[v];const A=E[u.axis];return!xe(E[t.axis])||g>A||_<A}for(v=0;v<l&&!(!x()&&(this.updateRangeFromParsed(d,t,E,f),o));++v);if(o){for(v=l-1;v>=0;--v)if(!x()){this.updateRangeFromParsed(d,t,E,f);break}}return d}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,o,l;for(r=0,o=e.length;r<o;++r)l=e[r][t.axis],xe(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=F5(Ct(this.options.clip,j5(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],o=e.chartArea,l=[],u=this._drawStart||0,f=this._drawCount||r.length-u,d=this.options.drawActiveElementsOnTop;let g;for(i.dataset&&i.dataset.draw(t,o,u,f),g=u;g<u+f;++g){const _=r[g];_.hidden||(_.active&&d?l.push(_):_.draw(t,o))}for(g=0;g<l.length;++g)l[g].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];o=l.$context||(l.$context=W5(this.getContext(),t,l)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=$5(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",o=this._cachedDataOpts,l=t+"-"+e,u=o[l],f=this.enableOptionSharing&&Lu(i);if(u)return l1(u,f);const d=this.chart.config,g=d.datasetElementScopeKeys(this._type,t),_=r?[`${t}Hover`,"hover",t,""]:[t,""],v=d.getOptionScopes(this.getDataset(),g),E=Object.keys(ve.elements[t]),x=()=>this.getContext(i,r,e),A=d.resolveNamedOptions(v,E,x,_);return A.$shared&&(A.$shared=f,o[l]=Object.freeze(l1(A,f))),A}_resolveAnimations(t,e,i){const r=this.chart,o=this._cachedDataOpts,l=`animation-${e}`,u=o[l];if(u)return u;let f;if(r.options.animation!==!1){const g=this.chart.config,_=g.datasetAnimationScopeKeys(this._type,e),v=g.getOptionScopes(this.getDataset(),_);f=g.createResolver(v,this.getContext(t,i,e))}const d=new qR(r,f&&f.animations);return f&&f._cacheable&&(o[l]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||ry(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(i),l=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:l}}updateElement(t,e,i,r){ry(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!ry(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[u,f,d]of this._syncList)this[u](f,d);this._syncList=[];const r=i.length,o=e.length,l=Math.min(o,r);l&&this.parse(0,l),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,i=!0){const r=this._cachedMeta,o=r.data,l=t+e;let u;const f=d=>{for(d.length+=e,u=d.length-1;u>=l;u--)d[u]=d[u-e]};for(f(o),u=t;u<l;++u)o[u]=new this.dataElementType;this._parsing&&f(r._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&Kc(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function X5(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,o=e.length;r<o;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=wR(i.sort((r,o)=>r-o))}return n._cache.$bar}function Q5(n){const t=n.iScale,e=X5(t,n.type);let i=t._length,r,o,l,u;const f=()=>{l===32767||l===-32768||(Lu(u)&&(i=Math.min(i,Math.abs(l-u)||i)),u=l)};for(r=0,o=e.length;r<o;++r)l=t.getPixelForValue(e[r]),f();for(u=void 0,r=0,o=t.ticks.length;r<o;++r)l=t.getPixelForTick(r),f();return i}function J5(n,t,e,i){const r=e.barThickness;let o,l;return Lt(r)?(o=t.min*e.categoryPercentage,l=e.barPercentage):(o=r*i,l=1),{chunk:o/i,ratio:l,start:t.pixels[n]-o/2}}function Z5(n,t,e,i){const r=t.pixels,o=r[n];let l=n>0?r[n-1]:null,u=n<r.length-1?r[n+1]:null;const f=e.categoryPercentage;l===null&&(l=o-(u===null?t.end-t.start:u-o)),u===null&&(u=o+o-l);const d=o-(o-Math.min(l,u))/2*f;return{chunk:Math.abs(u-l)/2*f/i,ratio:e.barPercentage,start:d}}function t6(n,t,e,i){const r=e.parse(n[0],i),o=e.parse(n[1],i),l=Math.min(r,o),u=Math.max(r,o);let f=l,d=u;Math.abs(l)>Math.abs(u)&&(f=u,d=l),t[e.axis]=d,t._custom={barStart:f,barEnd:d,start:r,end:o,min:l,max:u}}function YR(n,t,e,i){return _e(n)?t6(n,t,e,i):t[e.axis]=e.parse(n,i),t}function c1(n,t,e,i){const r=n.iScale,o=n.vScale,l=r.getLabels(),u=r===o,f=[];let d,g,_,v;for(d=e,g=e+i;d<g;++d)v=t[d],_={},_[r.axis]=u||r.parse(l[d],d),f.push(YR(v,_,o,d));return f}function ay(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function e6(n,t,e){return n!==0?os(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function n6(n){let t,e,i,r,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:e,end:i,reverse:t,top:r,bottom:o}}function i6(n,t,e,i){let r=t.borderSkipped;const o={};if(!r){n.borderSkipped=o;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:u,reverse:f,top:d,bottom:g}=n6(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=d:(e._bottom||0)===i?r=g:(o[u1(g,l,u,f)]=!0,r=d)),o[u1(r,l,u,f)]=!0,n.borderSkipped=o}function u1(n,t,e,i){return i?(n=s6(n,t,e),n=h1(n,e,t)):n=h1(n,t,e),n}function s6(n,t,e){return n===t?e:n===e?t:n}function h1(n,t,e){return n==="start"?t:n==="end"?e:n}function r6(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class a6 extends aa{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,r){return c1(t,e,i,r)}parseArrayData(t,e,i,r){return c1(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:o,vScale:l}=t,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,d=o.axis==="x"?u:f,g=l.axis==="x"?u:f,_=[];let v,E,x,A;for(v=i,E=i+r;v<E;++v)A=e[v],x={},x[o.axis]=o.parse(Jr(A,d),v),_.push(YR(Jr(A,g),x,l,v));return _}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,o=this.getParsed(t),l=o._custom,u=ay(l)?"["+l.start+", "+l.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const o=r==="reset",{index:l,_cachedMeta:{vScale:u}}=this,f=u.getBasePixel(),d=u.isHorizontal(),g=this._getRuler(),{sharedOptions:_,includeOptions:v}=this._getSharedOptions(e,r);for(let E=e;E<e+i;E++){const x=this.getParsed(E),A=o||Lt(x[u.axis])?{base:f,head:f}:this._calculateBarValuePixels(E),R=this._calculateBarIndexPixels(E,g),O=(x._stacks||{})[u.axis],k={horizontal:d,base:A.base,enableBorderRadius:!O||ay(x._custom)||l===O._top||l===O._bottom,x:d?A.head:R.center,y:d?R.center:A.head,height:d?R.size:Math.abs(A.size),width:d?Math.abs(A.size):R.size};v&&(k.options=_||this.resolveDataElementOptions(E,t[E].active?"active":r));const U=k.options||t[E].options;i6(k,U,O,l),r6(k,U,g.ratio),this.updateElement(t[E],E,k,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(g=>g.controller.options.grouped),o=i.options.stacked,l=[],u=this._cachedMeta.controller.getParsed(e),f=u&&u[i.axis],d=g=>{const _=g._parsed.find(E=>E[i.axis]===f),v=_&&_[g.vScale.axis];if(Lt(v)||isNaN(v))return!0};for(const g of r)if(!(e!==void 0&&d(g))&&((o===!1||l.indexOf(g.stack)===-1||o===void 0&&g.stack===void 0)&&l.push(g.stack),g.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[Ct(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const r=this._getStacks(t,i),o=e!==void 0?r.indexOf(e):-1;return o===-1?r.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let o,l;for(o=0,l=e.data.length;o<l;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const u=t.barThickness;return{min:u||Q5(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:u?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:o,minBarLength:l}}=this,u=o||0,f=this.getParsed(t),d=f._custom,g=ay(d);let _=f[e.axis],v=0,E=i?this.applyStack(e,f,i):_,x,A;E!==_&&(v=E-_,E=_),g&&(_=d.barStart,E=d.barEnd-d.barStart,_!==0&&os(_)!==os(d.barEnd)&&(v=0),v+=_);const R=!Lt(o)&&!g?o:v;let O=e.getPixelForValue(R);if(this.chart.getDataVisibility(t)?x=e.getPixelForValue(v+E):x=O,A=x-O,Math.abs(A)<l){A=e6(A,e,u)*l,_===u&&(O-=A/2);const k=e.getPixelForDecimal(0),U=e.getPixelForDecimal(1),Y=Math.min(k,U),$=Math.max(k,U);O=Math.max(Math.min(O,$),Y),x=O+A,i&&!g&&(f._stacks[e.axis]._visualValues[r]=e.getValueForPixel(x)-e.getValueForPixel(O))}if(O===e.getPixelForValue(u)){const k=os(A)*e.getLineWidthForValue(u)/2;O+=k,A-=k}return{size:A,base:O,head:x,center:x+A/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,o=r.skipNull,l=Ct(r.maxBarThickness,1/0);let u,f;const d=this._getAxisCount();if(e.grouped){const g=o?this._getStackCount(t):e.stackCount,_=r.barThickness==="flex"?Z5(t,e,r,g*d):J5(t,e,r,g*d),v=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,E=this._getAxis().indexOf(Ct(v,this.getFirstScaleIdForIndexAxis())),x=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+E;u=_.start+_.chunk*x+_.chunk/2,f=Math.min(l,_.chunk*_.ratio)}else u=i.getPixelForValue(this.getParsed(t)[i.axis],t),f=Math.min(l,e.min*e.ratio);return{base:u-f/2,head:u+f/2,center:u,size:f}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[e.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}class o6 extends aa{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,r){const o=super.parsePrimitiveData(t,e,i,r);for(let l=0;l<o.length;l++)o[l]._custom=this.resolveDataElementOptions(l+i).radius;return o}parseArrayData(t,e,i,r){const o=super.parseArrayData(t,e,i,r);for(let l=0;l<o.length;l++){const u=e[i+l];o[l]._custom=Ct(u[2],this.resolveDataElementOptions(l+i).radius)}return o}parseObjectData(t,e,i,r){const o=super.parseObjectData(t,e,i,r);for(let l=0;l<o.length;l++){const u=e[i+l];o[l]._custom=Ct(u&&u.r&&+u.r,this.resolveDataElementOptions(l+i).radius)}return o}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:o}=e,l=this.getParsed(t),u=r.getLabelForValue(l.x),f=o.getLabelForValue(l.y),d=l._custom;return{label:i[t]||"",value:"("+u+", "+f+(d?", "+d:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,r){const o=r==="reset",{iScale:l,vScale:u}=this._cachedMeta,{sharedOptions:f,includeOptions:d}=this._getSharedOptions(e,r),g=l.axis,_=u.axis;for(let v=e;v<e+i;v++){const E=t[v],x=!o&&this.getParsed(v),A={},R=A[g]=o?l.getPixelForDecimal(.5):l.getPixelForValue(x[g]),O=A[_]=o?u.getBasePixel():u.getPixelForValue(x[_]);A.skip=isNaN(R)||isNaN(O),d&&(A.options=f||this.resolveDataElementOptions(v,E.active?"active":r),o&&(A.options.radius=0)),this.updateElement(E,v,A,r)}}resolveDataElementOptions(t,e){const i=this.getParsed(t);let r=super.resolveDataElementOptions(t,e);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const o=r.radius;return e!=="active"&&(r.radius=0),r.radius+=Ct(i&&i._custom,o),r}}function l6(n,t,e){let i=1,r=1,o=0,l=0;if(t<me){const u=n,f=u+t,d=Math.cos(u),g=Math.sin(u),_=Math.cos(f),v=Math.sin(f),E=(U,Y,$)=>Vu(U,u,f,!0)?1:Math.max(Y,Y*e,$,$*e),x=(U,Y,$)=>Vu(U,u,f,!0)?-1:Math.min(Y,Y*e,$,$*e),A=E(0,d,_),R=E(Me,g,v),O=x(Kt,d,_),k=x(Kt+Me,g,v);i=(A-O)/2,r=(R-k)/2,o=-(A+O)/2,l=-(R+k)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:l}}class Cm extends aa{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data,{labels:{pointStyle:i,textAlign:r,color:o,useBorderRadius:l,borderRadius:u}}=t.legend.options;return e.labels.length&&e.datasets.length?e.labels.map((f,d)=>{const _=t.getDatasetMeta(0).controller.getStyle(d);return{text:f,fillStyle:_.backgroundColor,fontColor:o,hidden:!t.getDataVisibility(d),lineDash:_.borderDash,lineDashOffset:_.borderDashOffset,lineJoin:_.borderJoinStyle,lineWidth:_.borderWidth,strokeStyle:_.borderColor,textAlign:r,pointStyle:i,borderRadius:l&&(u||_.borderRadius),index:d}}):[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let o=f=>+i[f];if(Ht(i[t])){const{key:f="value"}=this._parsing;o=d=>+Jr(i[d],f)}let l,u;for(l=t,u=t+e;l<u;++l)r._parsed[l]=o(l)}}_getRotation(){return xi(this.options.rotation-90)}_getCircumference(){return xi(this.options.circumference)}_getRotationExtents(){let t=me,e=-me;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,o=r._getRotation(),l=r._getCircumference();t=Math.min(t,o),e=Math.max(e,o+l)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,r=this._cachedMeta,o=r.data,l=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,u=Math.max((Math.min(i.width,i.height)-l)/2,0),f=Math.min(_3(this.options.cutout,u),1),d=this._getRingWeight(this.index),{circumference:g,rotation:_}=this._getRotationExtents(),{ratioX:v,ratioY:E,offsetX:x,offsetY:A}=l6(_,g,f),R=(i.width-l)/v,O=(i.height-l)/E,k=Math.max(Math.min(R,O)/2,0),U=vR(this.options.radius,k),Y=Math.max(U*f,0),$=(U-Y)/this._getVisibleDatasetWeightTotal();this.offsetX=x*U,this.offsetY=A*U,r.total=this.calculateTotal(),this.outerRadius=U-$*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-$*d,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const i=this.options,r=this._cachedMeta,o=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*o/me)}updateElements(t,e,i,r){const o=r==="reset",l=this.chart,u=l.chartArea,d=l.options.animation,g=(u.left+u.right)/2,_=(u.top+u.bottom)/2,v=o&&d.animateScale,E=v?0:this.innerRadius,x=v?0:this.outerRadius,{sharedOptions:A,includeOptions:R}=this._getSharedOptions(e,r);let O=this._getRotation(),k;for(k=0;k<e;++k)O+=this._circumference(k,o);for(k=e;k<e+i;++k){const U=this._circumference(k,o),Y=t[k],$={x:g+this.offsetX,y:_+this.offsetY,startAngle:O,endAngle:O+U,circumference:U,outerRadius:x,innerRadius:E};R&&($.options=A||this.resolveDataElementOptions(k,Y.active?"active":r)),O+=U,this.updateElement(Y,k,$,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,r;for(r=0;r<e.length;r++){const o=t._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?me*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=rh(e._parsed[t],i.options.locale);return{label:r[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const i=this.chart;let r,o,l,u,f;if(!t){for(r=0,o=i.data.datasets.length;r<o;++r)if(i.isDatasetVisible(r)){l=i.getDatasetMeta(r),t=l.data,u=l.controller;break}}if(!t)return 0;for(r=0,o=t.length;r<o;++r)f=u.resolveDataElementOptions(r),f.borderAlign!=="inner"&&(e=Math.max(e,f.borderWidth||0,f.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){const o=this.resolveDataElementOptions(i);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Ct(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class c6 extends aa{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:r=[],_dataset:o}=e,l=this.chart._animationsDisabled;let{start:u,count:f}=RR(e,r,l);this._drawStart=u,this._drawCount=f,CR(e)&&(u=0,f=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=r;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:d},t),this.updateElements(r,u,f,t)}updateElements(t,e,i,r){const o=r==="reset",{iScale:l,vScale:u,_stacked:f,_dataset:d}=this._cachedMeta,{sharedOptions:g,includeOptions:_}=this._getSharedOptions(e,r),v=l.axis,E=u.axis,{spanGaps:x,segment:A}=this.options,R=xl(x)?x:Number.POSITIVE_INFINITY,O=this.chart._animationsDisabled||o||r==="none",k=e+i,U=t.length;let Y=e>0&&this.getParsed(e-1);for(let $=0;$<U;++$){const tt=t[$],w=O?tt:{};if($<e||$>=k){w.skip=!0;continue}const C=this.getParsed($),M=Lt(C[E]),V=w[v]=l.getPixelForValue(C[v],$),P=w[E]=o||M?u.getBasePixel():u.getPixelForValue(f?this.applyStack(u,C,f):C[E],$);w.skip=isNaN(V)||isNaN(P)||M,w.stop=$>0&&Math.abs(C[v]-Y[v])>R,A&&(w.parsed=C,w.raw=d.data[$]),_&&(w.options=g||this.resolveDataElementOptions($,tt.active?"active":r)),O||this.updateElement(tt,$,w,r),Y=C}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const o=r[0].size(this.resolveDataElementOptions(0)),l=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,o,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class $R extends aa{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((o,l)=>{const f=t.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:r,lineWidth:f.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=rh(e._parsed[t].r,i.options.locale);return{label:r[t]||"",value:o}}parseObjectData(t,e,i,r){return LR.bind(this)(t,e,i,r)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,r)=>{const o=this.getParsed(r).r;!isNaN(o)&&this.chart.getDataVisibility(r)&&(o<e.min&&(e.min=o),o>e.max&&(e.max=o))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,r=Math.min(e.right-e.left,e.bottom-e.top),o=Math.max(r/2,0),l=Math.max(i.cutoutPercentage?o/100*i.cutoutPercentage:1,0),u=(o-l)/t.getVisibleDatasetCount();this.outerRadius=o-u*this.index,this.innerRadius=this.outerRadius-u}updateElements(t,e,i,r){const o=r==="reset",l=this.chart,f=l.options.animation,d=this._cachedMeta.rScale,g=d.xCenter,_=d.yCenter,v=d.getIndexAngle(0)-.5*Kt;let E=v,x;const A=360/this.countVisibleElements();for(x=0;x<e;++x)E+=this._computeAngle(x,r,A);for(x=e;x<e+i;x++){const R=t[x];let O=E,k=E+this._computeAngle(x,r,A),U=l.getDataVisibility(x)?d.getDistanceFromCenterForValue(this.getParsed(x).r):0;E=k,o&&(f.animateScale&&(U=0),f.animateRotate&&(O=k=v));const Y={x:g,y:_,innerRadius:0,outerRadius:U,startAngle:O,endAngle:k,options:this.resolveDataElementOptions(x,R.active?"active":r)};this.updateElement(R,x,Y,r)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((i,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&e++}),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?xi(this.resolveDataElementOptions(t,e).angle||i):0}}class u6 extends Cm{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class h6 extends aa{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,r){return LR.bind(this)(t,e,i,r)}update(t){const e=this._cachedMeta,i=e.dataset,r=e.data||[],o=e.iScale.getLabels();if(i.points=r,t!=="resize"){const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0);const u={_loop:!0,_fullLoop:o.length===r.length,options:l};this.updateElement(i,void 0,u,t)}this.updateElements(r,0,r.length,t)}updateElements(t,e,i,r){const o=this._cachedMeta.rScale,l=r==="reset";for(let u=e;u<e+i;u++){const f=t[u],d=this.resolveDataElementOptions(u,f.active?"active":r),g=o.getPointPositionForValue(u,this.getParsed(u).r),_=l?o.xCenter:g.x,v=l?o.yCenter:g.y,E={x:_,y:v,angle:g.angle,skip:isNaN(_)||isNaN(v),options:d};this.updateElement(f,u,E,r)}}}class f6 extends aa{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:o}=e,l=this.getParsed(t),u=r.getLabelForValue(l.x),f=o.getLabelForValue(l.y);return{label:i[t]||"",value:"("+u+", "+f+")"}}update(t){const e=this._cachedMeta,{data:i=[]}=e,r=this.chart._animationsDisabled;let{start:o,count:l}=RR(e,i,r);if(this._drawStart=o,this._drawCount=l,CR(e)&&(o=0,l=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:u,_dataset:f}=e;u._chart=this.chart,u._datasetIndex=this.index,u._decimated=!!f._decimated,u.points=i;const d=this.resolveDatasetElementOptions(t);d.segment=this.options.segment,this.updateElement(u,void 0,{animated:!r,options:d},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(i,o,l,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,i,r){const o=r==="reset",{iScale:l,vScale:u,_stacked:f,_dataset:d}=this._cachedMeta,g=this.resolveDataElementOptions(e,r),_=this.getSharedOptions(g),v=this.includeOptions(r,_),E=l.axis,x=u.axis,{spanGaps:A,segment:R}=this.options,O=xl(A)?A:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||o||r==="none";let U=e>0&&this.getParsed(e-1);for(let Y=e;Y<e+i;++Y){const $=t[Y],tt=this.getParsed(Y),w=k?$:{},C=Lt(tt[x]),M=w[E]=l.getPixelForValue(tt[E],Y),V=w[x]=o||C?u.getBasePixel():u.getPixelForValue(f?this.applyStack(u,tt,f):tt[x],Y);w.skip=isNaN(M)||isNaN(V)||C,w.stop=Y>0&&Math.abs(tt[E]-U[E])>O,R&&(w.parsed=tt,w.raw=d.data[Y]),v&&(w.options=_||this.resolveDataElementOptions(Y,$.active?"active":r)),k||this.updateElement($,Y,w,r),U=tt}this.updateSharedOptions(_,r,g)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let u=0;for(let f=e.length-1;f>=0;--f)u=Math.max(u,e[f].size(this.resolveDataElementOptions(f))/2);return u>0&&u}const i=t.dataset,r=i.options&&i.options.borderWidth||0;if(!e.length)return r;const o=e[0].size(this.resolveDataElementOptions(0)),l=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(r,o,l)/2}}var d6=Object.freeze({__proto__:null,BarController:a6,BubbleController:o6,DoughnutController:Cm,LineController:c6,PieController:u6,PolarAreaController:$R,RadarController:h6,ScatterController:f6});function Ba(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class vv{static override(t){Object.assign(vv.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Ba()}parse(){return Ba()}format(){return Ba()}add(){return Ba()}diff(){return Ba()}startOf(){return Ba()}endOf(){return Ba()}}var m6={_date:vv};function p6(n,t,e,i){const{controller:r,data:o,_sorted:l}=n,u=r._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&t===u.axis&&t!=="r"&&l&&o.length){const d=u._reversePixels?M3:Ls;if(i){if(r._sharedOptions){const g=o[0],_=typeof g.getRange=="function"&&g.getRange(t);if(_){const v=d(o,t,e-_),E=d(o,t,e+_);return{lo:v.lo,hi:E.hi}}}}else{const g=d(o,t,e);if(f){const{vScale:_}=r._cachedMeta,{_parsed:v}=n,E=v.slice(0,g.lo+1).reverse().findIndex(A=>!Lt(A[_.axis]));g.lo-=Math.max(0,E);const x=v.slice(g.hi).findIndex(A=>!Lt(A[_.axis]));g.hi+=Math.max(0,x)}return g}}return{lo:0,hi:o.length-1}}function Im(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),l=e[t];for(let u=0,f=o.length;u<f;++u){const{index:d,data:g}=o[u],{lo:_,hi:v}=p6(o[u],t,l,r);for(let E=_;E<=v;++E){const x=g[E];x.skip||i(x,d,E)}}}function g6(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,l=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function oy(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||Im(n,e,t,function(u,f,d){!r&&!Vs(u,n.chartArea,0)||u.inRange(t.x,t.y,i)&&o.push({element:u,datasetIndex:f,index:d})},!0),o}function y6(n,t,e,i){let r=[];function o(l,u,f){const{startAngle:d,endAngle:g}=l.getProps(["startAngle","endAngle"],i),{angle:_}=ER(l,{x:t.x,y:t.y});Vu(_,d,g)&&r.push({element:l,datasetIndex:u,index:f})}return Im(n,e,t,o),r}function _6(n,t,e,i,r,o){let l=[];const u=g6(e);let f=Number.POSITIVE_INFINITY;function d(g,_,v){const E=g.inRange(t.x,t.y,r);if(i&&!E)return;const x=g.getCenterPoint(r);if(!(!!o||n.isPointInArea(x))&&!E)return;const R=u(t,x);R<f?(l=[{element:g,datasetIndex:_,index:v}],f=R):R===f&&l.push({element:g,datasetIndex:_,index:v})}return Im(n,e,t,d),l}function ly(n,t,e,i,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?y6(n,t,e,r):_6(n,t,e,i,r,o)}function f1(n,t,e,i,r){const o=[],l=e==="x"?"inXRange":"inYRange";let u=!1;return Im(n,e,t,(f,d,g)=>{f[l]&&f[l](t[e],r)&&(o.push({element:f,datasetIndex:d,index:g}),u=u||f.inRange(t.x,t.y,r))}),i&&!u?[]:o}var v6={modes:{index(n,t,e,i){const r=qa(t,n),o=e.axis||"x",l=e.includeInvisible||!1,u=e.intersect?oy(n,r,o,i,l):ly(n,r,o,!1,i,l),f=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const g=u[0].index,_=d.data[g];_&&!_.skip&&f.push({element:_,datasetIndex:d.index,index:g})}),f):[]},dataset(n,t,e,i){const r=qa(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;let u=e.intersect?oy(n,r,o,i,l):ly(n,r,o,!1,i,l);if(u.length>0){const f=u[0].datasetIndex,d=n.getDatasetMeta(f).data;u=[];for(let g=0;g<d.length;++g)u.push({element:d[g],datasetIndex:f,index:g})}return u},point(n,t,e,i){const r=qa(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;return oy(n,r,o,i,l)},nearest(n,t,e,i){const r=qa(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;return ly(n,r,o,e.intersect,i,l)},x(n,t,e,i){const r=qa(t,n);return f1(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=qa(t,n);return f1(n,r,"y",e.intersect,i)}}};const WR=["left","top","right","bottom"];function Xc(n,t){return n.filter(e=>e.pos===t)}function d1(n,t){return n.filter(e=>WR.indexOf(e.pos)===-1&&e.box.axis===t)}function Qc(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function b6(n){const t=[];let e,i,r,o,l,u;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:o,options:{stack:l,stackWeight:u=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:l&&o+l,stackWeight:u});return t}function T6(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!WR.includes(r))continue;const l=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return t}function E6(n,t){const e=T6(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,l,u;for(o=0,l=n.length;o<l;++o){u=n[o];const{fullSize:f}=u.box,d=e[u.stack],g=d&&u.stackWeight/d.weight;u.horizontal?(u.width=g?g*i:f&&t.availableWidth,u.height=r):(u.width=i,u.height=g?g*r:f&&t.availableHeight)}return e}function S6(n){const t=b6(n),e=Qc(t.filter(d=>d.box.fullSize),!0),i=Qc(Xc(t,"left"),!0),r=Qc(Xc(t,"right")),o=Qc(Xc(t,"top"),!0),l=Qc(Xc(t,"bottom")),u=d1(t,"x"),f=d1(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(f).concat(l).concat(u),chartArea:Xc(t,"chartArea"),vertical:i.concat(r).concat(f),horizontal:o.concat(l).concat(u)}}function m1(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function KR(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function w6(n,t,e,i){const{pos:r,box:o}=e,l=n.maxPadding;if(!Ht(r)){e.size&&(n[r]-=e.size);const _=i[e.stack]||{size:0,count:1};_.size=Math.max(_.size,e.horizontal?o.height:o.width),e.size=_.size/_.count,n[r]+=e.size}o.getPadding&&KR(l,o.getPadding());const u=Math.max(0,t.outerWidth-m1(l,n,"left","right")),f=Math.max(0,t.outerHeight-m1(l,n,"top","bottom")),d=u!==n.w,g=f!==n.h;return n.w=u,n.h=f,e.horizontal?{same:d,other:g}:{same:g,other:d}}function x6(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function A6(n,t){const e=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(l=>{o[l]=Math.max(t[l],e[l])}),o}return i(n?["left","right"]:["top","bottom"])}function cu(n,t,e,i){const r=[];let o,l,u,f,d,g;for(o=0,l=n.length,d=0;o<l;++o){u=n[o],f=u.box,f.update(u.width||t.w,u.height||t.h,A6(u.horizontal,t));const{same:_,other:v}=w6(t,e,u,i);d|=_&&r.length,g=g||v,f.fullSize||r.push(u)}return d&&cu(r,t,e,i)||g}function Kf(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function p1(n,t,e,i){const r=e.padding;let{x:o,y:l}=t;for(const u of n){const f=u.box,d=i[u.stack]||{placed:0,weight:1},g=u.stackWeight/d.weight||1;if(u.horizontal){const _=t.w*g,v=d.size||f.height;Lu(d.start)&&(l=d.start),f.fullSize?Kf(f,r.left,l,e.outerWidth-r.right-r.left,v):Kf(f,t.left+d.placed,l,_,v),d.start=l,d.placed+=_,l=f.bottom}else{const _=t.h*g,v=d.size||f.width;Lu(d.start)&&(o=d.start),f.fullSize?Kf(f,o,r.top,v,e.outerHeight-r.bottom-r.top):Kf(f,o,t.top+d.placed,v,_),d.start=o,d.placed+=_,o=f.right}}t.x=o,t.y=l}var yn={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=vn(n.options.layout.padding),o=Math.max(t-r.width,0),l=Math.max(e-r.height,0),u=S6(n.boxes),f=u.vertical,d=u.horizontal;ne(n.boxes,A=>{typeof A.beforeLayout=="function"&&A.beforeLayout()});const g=f.reduce((A,R)=>R.box.options&&R.box.options.display===!1?A:A+1,0)||1,_=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/g,hBoxMaxHeight:l/2}),v=Object.assign({},r);KR(v,vn(i));const E=Object.assign({maxPadding:v,w:o,h:l,x:r.left,y:r.top},r),x=E6(f.concat(d),_);cu(u.fullSize,E,_,x),cu(f,E,_,x),cu(d,E,_,x)&&cu(f,E,_,x),x6(E),p1(u.leftAndTop,E,_,x),E.x+=E.w,E.y+=E.h,p1(u.rightAndBottom,E,_,x),n.chartArea={left:E.left,top:E.top,right:E.left+E.w,bottom:E.top+E.h,height:E.h,width:E.w},ne(u.chartArea,A=>{const R=A.box;Object.assign(R,n.chartArea),R.update(E.w,E.h,{left:0,top:0,right:0,bottom:0})})}};class XR{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class R6 extends XR{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const md="$chartjs",C6={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},g1=n=>n===null||n==="";function I6(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[md]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",g1(r)){const o=ZS(n,"width");o!==void 0&&(n.width=o)}if(g1(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=ZS(n,"height");o!==void 0&&(n.height=o)}return n}const QR=w5?{passive:!0}:!1;function D6(n,t,e){n&&n.addEventListener(t,e,QR)}function M6(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,QR)}function O6(n,t){const e=C6[n.type]||n.type,{x:i,y:r}=qa(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function jd(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function k6(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||jd(u.addedNodes,i),l=l&&!jd(u.removedNodes,i);l&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function N6(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||jd(u.removedNodes,i),l=l&&!jd(u.addedNodes,i);l&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const Uu=new Map;let y1=0;function JR(){const n=window.devicePixelRatio;n!==y1&&(y1=n,Uu.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function P6(n,t){Uu.size||window.addEventListener("resize",JR),Uu.set(n,t)}function L6(n){Uu.delete(n),Uu.size||window.removeEventListener("resize",JR)}function V6(n,t,e){const i=n.canvas,r=i&&_v(i);if(!r)return;const o=AR((u,f)=>{const d=r.clientWidth;e(u,f),d<r.clientWidth&&e()},window),l=new ResizeObserver(u=>{const f=u[0],d=f.contentRect.width,g=f.contentRect.height;d===0&&g===0||o(d,g)});return l.observe(r),P6(n,o),l}function cy(n,t,e){e&&e.disconnect(),t==="resize"&&L6(n)}function z6(n,t,e){const i=n.canvas,r=AR(o=>{n.ctx!==null&&e(O6(o,n))},n);return D6(i,t,r),r}class U6 extends XR{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(I6(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[md])return!1;const i=e[md].initial;["height","width"].forEach(o=>{const l=i[o];Lt(l)?e.removeAttribute(o):e.setAttribute(o,l)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[md],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),l={attach:k6,detach:N6,resize:V6}[e]||z6;r[e]=l(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:cy,detach:cy,resize:cy}[e]||M6)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return S5(t,e,i,r)}isAttached(t){const e=t&&_v(t);return!!(e&&e.isConnected)}}function B6(n){return!yv()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?R6:U6}class Ws{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return xl(this.x)&&xl(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}function j6(n,t){const e=n.options.ticks,i=F6(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?q6(t):[],l=o.length,u=o[0],f=o[l-1],d=[];if(l>r)return G6(t,d,o,l/r),d;const g=H6(o,t,r);if(l>0){let _,v;const E=l>1?Math.round((f-u)/(l-1)):null;for(Xf(t,d,g,Lt(E)?0:u-E,u),_=0,v=l-1;_<v;_++)Xf(t,d,g,o[_],o[_+1]);return Xf(t,d,g,f,Lt(E)?t.length:f+E),d}return Xf(t,d,g),d}function F6(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function H6(n,t,e){const i=Y6(n),r=t.length/e;if(!i)return Math.max(r,1);const o=A3(i);for(let l=0,u=o.length-1;l<u;l++){const f=o[l];if(f>r)return f}return Math.max(r,1)}function q6(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function G6(n,t,e,i){let r=0,o=e[0],l;for(i=Math.ceil(i),l=0;l<n.length;l++)l===o&&(t.push(n[l]),r++,o=e[r*i])}function Xf(n,t,e,i,r){const o=Ct(i,0),l=Math.min(Ct(r,n.length),n.length);let u=0,f,d,g;for(e=Math.ceil(e),r&&(f=r-i,e=f/Math.floor(f/e)),g=o;g<0;)u++,g=Math.round(o+u*e);for(d=Math.max(o,0);d<l;d++)d===g&&(t.push(n[d]),u++,g=Math.round(o+u*e))}function Y6(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const $6=n=>n==="left"?"right":n==="right"?"left":n,_1=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,v1=(n,t)=>Math.min(t||n,n);function b1(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function W6(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,l=n._endPixel,u=1e-6;let f=n.getPixelForTick(r),d;if(!(e&&(i===1?d=Math.max(f-o,l-f):t===0?d=(n.getPixelForTick(1)-f)/2:d=(f-n.getPixelForTick(r-1))/2,f+=r<t?d:-d,f<o-u||f>l+u)))return f}function K6(n,t){ne(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}function Jc(n){return n.drawTicks?n.tickLength:0}function T1(n,t){if(!n.display)return 0;const e=$e(n.font,t),i=vn(n.padding);return(_e(n.text)?n.text.length:1)*e.lineHeight+i.height}function X6(n,t){return ra(n,{scale:t,type:"scale"})}function Q6(n,t,e){return ra(n,{tick:e,index:t,type:"tick"})}function J6(n,t,e){let i=hv(n);return(e&&t!=="right"||!e&&t==="right")&&(i=$6(i)),i}function Z6(n,t,e,i){const{top:r,left:o,bottom:l,right:u,chart:f}=n,{chartArea:d,scales:g}=f;let _=0,v,E,x;const A=l-r,R=u-o;if(n.isHorizontal()){if(E=dn(i,o,u),Ht(e)){const O=Object.keys(e)[0],k=e[O];x=g[O].getPixelForValue(k)+A-t}else e==="center"?x=(d.bottom+d.top)/2+A-t:x=_1(n,e,t);v=u-o}else{if(Ht(e)){const O=Object.keys(e)[0],k=e[O];E=g[O].getPixelForValue(k)-R+t}else e==="center"?E=(d.left+d.right)/2-R+t:E=_1(n,e,t);x=dn(i,l,r),_=e==="left"?-Me:Me}return{titleX:E,titleY:x,maxWidth:v,rotation:_}}class mo extends Ws{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=Gn(t,Number.POSITIVE_INFINITY),e=Gn(e,Number.NEGATIVE_INFINITY),i=Gn(i,Number.POSITIVE_INFINITY),r=Gn(r,Number.NEGATIVE_INFINITY),{min:Gn(t,i),max:Gn(e,r),minDefined:xe(t),maxDefined:xe(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),l;if(r&&o)return{min:e,max:i};const u=this.getMatchingVisibleMetas();for(let f=0,d=u.length;f<d;++f)l=u[f].controller.getMinMax(this,t),r||(e=Math.min(e,l.min)),o||(i=Math.max(i,l.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:Gn(e,Gn(i,e)),max:Gn(i,Gn(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){le(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=e5(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=u<this.ticks.length;this._convertTicksToLabels(f?b1(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=j6(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){le(this.options.afterUpdate,[this])}beforeSetDimensions(){le(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){le(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),le(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){le(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=le(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){le(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){le(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=v1(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let l=r,u,f,d;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const g=this._getLabelSizes(),_=g.widest.width,v=g.highest.height,E=tn(this.chart.width-_,0,this.maxWidth);u=t.offset?this.maxWidth/i:E/(i-1),_+6>u&&(u=E/(i-(t.offset?.5:1)),f=this.maxHeight-Jc(t.grid)-e.padding-T1(t.title,this.chart.options.font),d=Math.sqrt(_*_+v*v),l=cv(Math.min(Math.asin(tn((g.highest.height+6)/u,-1,1)),Math.asin(tn(f/d,-1,1))-Math.asin(tn(v/d,-1,1)))),l=Math.max(r,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){le(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){le(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const f=T1(r,e.options.font);if(u?(t.width=this.maxWidth,t.height=Jc(o)+f):(t.height=this.maxHeight,t.width=Jc(o)+f),i.display&&this.ticks.length){const{first:d,last:g,widest:_,highest:v}=this._getLabelSizes(),E=i.padding*2,x=xi(this.labelRotation),A=Math.cos(x),R=Math.sin(x);if(u){const O=i.mirror?0:R*_.width+A*v.height;t.height=Math.min(this.maxHeight,t.height+O+E)}else{const O=i.mirror?0:A*_.width+R*v.height;t.width=Math.min(this.maxWidth,t.width+O+E)}this._calculatePadding(d,g,R,A)}}this._handleMargins(),u?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:l},position:u}=this.options,f=this.labelRotation!==0,d=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,E=0;f?d?(v=r*t.width,E=i*e.height):(v=i*t.height,E=r*e.width):o==="start"?E=e.width:o==="end"?v=t.width:o!=="inner"&&(v=t.width/2,E=e.width/2),this.paddingLeft=Math.max((v-g+l)*this.width/(this.width-g),0),this.paddingRight=Math.max((E-_+l)*this.width/(this.width-_),0)}else{let g=e.height/2,_=t.height/2;o==="start"?(g=0,_=t.height):o==="end"&&(g=e.height,_=0),this.paddingTop=g+l,this.paddingBottom=_+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){le(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Lt(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=b1(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,l=[],u=[],f=Math.floor(e/v1(e,i));let d=0,g=0,_,v,E,x,A,R,O,k,U,Y,$;for(_=0;_<e;_+=f){if(x=t[_].label,A=this._resolveTickFontOptions(_),r.font=R=A.string,O=o[R]=o[R]||{data:{},gc:[]},k=A.lineHeight,U=Y=0,!Lt(x)&&!_e(x))U=Ud(r,O.data,O.gc,U,x),Y=k;else if(_e(x))for(v=0,E=x.length;v<E;++v)$=x[v],!Lt($)&&!_e($)&&(U=Ud(r,O.data,O.gc,U,$),Y+=k);l.push(U),u.push(Y),d=Math.max(U,d),g=Math.max(Y,g)}K6(o,e);const tt=l.indexOf(d),w=u.indexOf(g),C=M=>({width:l[M]||0,height:u[M]||0});return{first:C(0),last:C(e-1),widest:C(tt),highest:C(w),widths:l,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return D3(this._alignToPixels?Ua(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=Q6(this.getContext(),t,i))}return this.$context||(this.$context=X6(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=xi(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),l=t.autoSkipPadding||0,u=o?o.widest.width+l:0,f=o?o.highest.height+l:0;return this.isHorizontal()?f*i>u*r?u/i:f/r:f*r<u*i?f/i:u/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:l,border:u}=r,f=o.offset,d=this.isHorizontal(),_=this.ticks.length+(f?1:0),v=Jc(o),E=[],x=u.setContext(this.getContext()),A=x.display?x.width:0,R=A/2,O=function(j){return Ua(i,j,A)};let k,U,Y,$,tt,w,C,M,V,P,B,L;if(l==="top")k=O(this.bottom),w=this.bottom-v,M=k-R,P=O(t.top)+R,L=t.bottom;else if(l==="bottom")k=O(this.top),P=t.top,L=O(t.bottom)-R,w=k+R,M=this.top+v;else if(l==="left")k=O(this.right),tt=this.right-v,C=k-R,V=O(t.left)+R,B=t.right;else if(l==="right")k=O(this.left),V=t.left,B=O(t.right)-R,tt=k+R,C=this.left+v;else if(e==="x"){if(l==="center")k=O((t.top+t.bottom)/2+.5);else if(Ht(l)){const j=Object.keys(l)[0],it=l[j];k=O(this.chart.scales[j].getPixelForValue(it))}P=t.top,L=t.bottom,w=k+R,M=w+v}else if(e==="y"){if(l==="center")k=O((t.left+t.right)/2);else if(Ht(l)){const j=Object.keys(l)[0],it=l[j];k=O(this.chart.scales[j].getPixelForValue(it))}tt=k-R,C=tt-v,V=t.left,B=t.right}const Dt=Ct(r.ticks.maxTicksLimit,_),_t=Math.max(1,Math.ceil(_/Dt));for(U=0;U<_;U+=_t){const j=this.getContext(U),it=o.setContext(j),ft=u.setContext(j),Et=it.lineWidth,Vt=it.color,F=ft.dash||[],nt=ft.dashOffset,ct=it.tickWidth,ut=it.tickColor,bt=it.tickBorderDash||[],St=it.tickBorderDashOffset;Y=W6(this,U,f),Y!==void 0&&($=Ua(i,Y,Et),d?tt=C=V=B=$:w=M=P=L=$,E.push({tx1:tt,ty1:w,tx2:C,ty2:M,x1:V,y1:P,x2:B,y2:L,width:Et,color:Vt,borderDash:F,borderDashOffset:nt,tickWidth:ct,tickColor:ut,tickBorderDash:bt,tickBorderDashOffset:St}))}return this._ticksLength=_,this._borderValue=k,E}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,l=this.isHorizontal(),u=this.ticks,{align:f,crossAlign:d,padding:g,mirror:_}=o,v=Jc(i.grid),E=v+g,x=_?-g:E,A=-xi(this.labelRotation),R=[];let O,k,U,Y,$,tt,w,C,M,V,P,B,L="middle";if(r==="top")tt=this.bottom-x,w=this._getXAxisLabelAlignment();else if(r==="bottom")tt=this.top+x,w=this._getXAxisLabelAlignment();else if(r==="left"){const _t=this._getYAxisLabelAlignment(v);w=_t.textAlign,$=_t.x}else if(r==="right"){const _t=this._getYAxisLabelAlignment(v);w=_t.textAlign,$=_t.x}else if(e==="x"){if(r==="center")tt=(t.top+t.bottom)/2+E;else if(Ht(r)){const _t=Object.keys(r)[0],j=r[_t];tt=this.chart.scales[_t].getPixelForValue(j)+E}w=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")$=(t.left+t.right)/2-E;else if(Ht(r)){const _t=Object.keys(r)[0],j=r[_t];$=this.chart.scales[_t].getPixelForValue(j)}w=this._getYAxisLabelAlignment(v).textAlign}e==="y"&&(f==="start"?L="top":f==="end"&&(L="bottom"));const Dt=this._getLabelSizes();for(O=0,k=u.length;O<k;++O){U=u[O],Y=U.label;const _t=o.setContext(this.getContext(O));C=this.getPixelForTick(O)+o.labelOffset,M=this._resolveTickFontOptions(O),V=M.lineHeight,P=_e(Y)?Y.length:1;const j=P/2,it=_t.color,ft=_t.textStrokeColor,Et=_t.textStrokeWidth;let Vt=w;l?($=C,w==="inner"&&(O===k-1?Vt=this.options.reverse?"left":"right":O===0?Vt=this.options.reverse?"right":"left":Vt="center"),r==="top"?d==="near"||A!==0?B=-P*V+V/2:d==="center"?B=-Dt.highest.height/2-j*V+V:B=-Dt.highest.height+V/2:d==="near"||A!==0?B=V/2:d==="center"?B=Dt.highest.height/2-j*V:B=Dt.highest.height-P*V,_&&(B*=-1),A!==0&&!_t.showLabelBackdrop&&($+=V/2*Math.sin(A))):(tt=C,B=(1-P)*V/2);let F;if(_t.showLabelBackdrop){const nt=vn(_t.backdropPadding),ct=Dt.heights[O],ut=Dt.widths[O];let bt=B-nt.top,St=0-nt.left;switch(L){case"middle":bt-=ct/2;break;case"bottom":bt-=ct;break}switch(w){case"center":St-=ut/2;break;case"right":St-=ut;break;case"inner":O===k-1?St-=ut:O>0&&(St-=ut/2);break}F={left:St,top:bt,width:ut+nt.width,height:ct+nt.height,color:_t.backdropColor}}R.push({label:Y,font:M,textOffset:B,options:{rotation:A,color:it,strokeColor:ft,strokeWidth:Et,textAlign:Vt,textBaseline:L,translation:[$,tt],backdrop:F}})}return R}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-xi(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,l=this._getLabelSizes(),u=t+o,f=l.widest.width;let d,g;return e==="left"?r?(g=this.right+o,i==="near"?d="left":i==="center"?(d="center",g+=f/2):(d="right",g+=f)):(g=this.right-u,i==="near"?d="right":i==="center"?(d="center",g-=f/2):(d="left",g=this.left)):e==="right"?r?(g=this.left+o,i==="near"?d="right":i==="center"?(d="center",g-=f/2):(d="left",g-=f)):(g=this.left+u,i==="near"?d="left":i==="center"?(d="center",g+=f/2):(d="right",g=this.right)):d="right",{textAlign:d,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:l}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,l),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,l;const u=(f,d,g)=>{!g.width||!g.color||(i.save(),i.lineWidth=g.width,i.strokeStyle=g.color,i.setLineDash(g.borderDash||[]),i.lineDashOffset=g.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(e.display)for(o=0,l=r.length;o<l;++o){const f=r[o];e.drawOnChartArea&&u({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&u({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),l=i.display?o.width:0;if(!l)return;const u=r.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let d,g,_,v;this.isHorizontal()?(d=Ua(t,this.left,l)-l/2,g=Ua(t,this.right,u)+u/2,_=v=f):(_=Ua(t,this.top,l)-l/2,v=Ua(t,this.bottom,u)+u/2,d=g=f),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(d,_),e.lineTo(g,v),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&xm(i,r);const o=this.getLabelItems(t);for(const l of o){const u=l.options,f=l.font,d=l.label,g=l.textOffset;lo(i,d,0,g,f,u)}r&&Am(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=$e(i.font),l=vn(i.padding),u=i.align;let f=o.lineHeight/2;e==="bottom"||e==="center"||Ht(e)?(f+=l.bottom,_e(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=l.top;const{titleX:d,titleY:g,maxWidth:_,rotation:v}=Z6(this,f,e,u);lo(t,i.text,0,0,o,{color:i.color,maxWidth:_,rotation:v,textAlign:J6(u,e,r),textBaseline:"middle",translation:[d,g]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Ct(t.grid&&t.grid.z,-1),r=Ct(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==mo.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,l;for(o=0,l=e.length;o<l;++o){const u=e[o];u[i]===this.id&&(!t||u.type===t)&&r.push(u)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return $e(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Qf{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;nz(e)&&(i=this.register(e));const r=this.items,o=t.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,tz(t,l,i),this.override&&ve.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in ve[r]&&(delete ve[r][i],this.override&&delete oo[i])}}function tz(n,t,e){const i=Pu(Object.create(null),[e?ve.get(e):{},ve.get(t),n.defaults]);ve.set(t,i),n.defaultRoutes&&ez(t,n.defaultRoutes),n.descriptors&&ve.describe(t,n.descriptors)}function ez(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),l=t[e].split("."),u=l.pop(),f=l.join(".");ve.route(o,r,f,u)})}function nz(n){return"id"in n&&"defaults"in n}class iz{constructor(){this.controllers=new Qf(aa,"datasets",!0),this.elements=new Qf(Ws,"elements"),this.plugins=new Qf(Object,"plugins"),this.scales=new Qf(mo,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):ne(r,l=>{const u=i||this._getRegistryForType(l);this._exec(t,u,l)})})}_exec(t,e,i){const r=lv(t);le(i["before"+r],[],i),e[t](i),le(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var ts=new iz;class sz{constructor(){this._init=void 0}notify(t,e,i,r){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const o=r?this._descriptors(t).filter(r):this._descriptors(t),l=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),l}_notify(t,e,i,r){r=r||{};for(const o of t){const l=o.plugin,u=l[i],f=[e,r,o.options];if(le(u,f,l)===!1&&r.cancelable)return!1}return!0}invalidate(){Lt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Ct(i.options&&i.options.plugins,{}),o=rz(i);return r===!1&&!e?[]:oz(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,l)=>o.filter(u=>!l.some(f=>u.plugin.id===f.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function rz(n){const t={},e=[],i=Object.keys(ts.plugins.items);for(let o=0;o<i.length;o++)e.push(ts.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const l=r[o];e.indexOf(l)===-1&&(e.push(l),t[l.id]=!0)}return{plugins:e,localIds:t}}function az(n,t){return!t&&n===!1?null:n===!0?{}:n}function oz(n,{plugins:t,localIds:e},i,r){const o=[],l=n.getContext();for(const u of t){const f=u.id,d=az(i[f],r);d!==null&&o.push({plugin:u,options:lz(n.config,{plugin:u,local:e[f]},d,l)})}return o}function lz(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),l=n.getOptionScopes(i,o);return e&&t.defaults&&l.push(t.defaults),n.createResolver(l,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Zy(n,t){const e=ve.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function cz(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function uz(n,t){return n===t?"_index_":"_value_"}function E1(n){if(n==="x"||n==="y"||n==="r")return n}function hz(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function t_(n,...t){if(E1(n))return n;for(const e of t){const i=e.axis||hz(e.position)||n.length>1&&E1(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function S1(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function fz(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return S1(n,"x",e[0])||S1(n,"y",e[0])}return{}}function dz(n,t){const e=oo[n.type]||{scales:{}},i=t.scales||{},r=Zy(n.type,t),o=Object.create(null);return Object.keys(i).forEach(l=>{const u=i[l];if(!Ht(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const f=t_(l,u,fz(l,n),ve.scales[u.type]),d=uz(f,r),g=e.scales||{};o[l]=yu(Object.create(null),[{axis:f},u,g[f],g[d]])}),n.data.datasets.forEach(l=>{const u=l.type||n.type,f=l.indexAxis||Zy(u,t),g=(oo[u]||{}).scales||{};Object.keys(g).forEach(_=>{const v=cz(_,f),E=l[v+"AxisID"]||v;o[E]=o[E]||Object.create(null),yu(o[E],[{axis:v},i[E],g[_]])})}),Object.keys(o).forEach(l=>{const u=o[l];yu(u,[ve.scales[u.type],ve.scale])}),o}function ZR(n){const t=n.options||(n.options={});t.plugins=Ct(t.plugins,{}),t.scales=dz(n,t)}function tC(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function mz(n){return n=n||{},n.data=tC(n.data),ZR(n),n}const w1=new Map,eC=new Set;function Jf(n,t){let e=w1.get(n);return e||(e=t(),w1.set(n,e),eC.add(e)),e}const Zc=(n,t,e)=>{const i=Jr(t,e);i!==void 0&&n.add(i)};class pz{constructor(t){this._config=mz(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=tC(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),ZR(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Jf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Jf(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Jf(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Jf(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,l=this._cachedScopes(t,i),u=l.get(e);if(u)return u;const f=new Set;e.forEach(g=>{t&&(f.add(t),g.forEach(_=>Zc(f,t,_))),g.forEach(_=>Zc(f,r,_)),g.forEach(_=>Zc(f,oo[o]||{},_)),g.forEach(_=>Zc(f,ve,_)),g.forEach(_=>Zc(f,Qy,_))});const d=Array.from(f);return d.length===0&&d.push(Object.create(null)),eC.has(e)&&l.set(e,d),d}chartOptionScopes(){const{options:t,type:e}=this;return[t,oo[e]||{},ve.datasets[e]||{},{type:e},ve,Qy]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:l,subPrefixes:u}=x1(this._resolverCache,t,r);let f=l;if(yz(l,e)){o.$shared=!1,i=Zr(i)?i():i;const d=this.createResolver(t,i,u);f=Al(l,i,d)}for(const d of e)o[d]=f[d];return o}createResolver(t,e,i=[""],r){const{resolver:o}=x1(this._resolverCache,t,i);return Ht(e)?Al(o,e,void 0,r):o}}function x1(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:mv(t,e),subPrefixes:e.filter(u=>!u.toLowerCase().includes("hover"))},i.set(r,o)),o}const gz=n=>Ht(n)&&Object.getOwnPropertyNames(n).some(t=>Zr(n[t]));function yz(n,t){const{isScriptable:e,isIndexable:i}=OR(n);for(const r of t){const o=e(r),l=i(r),u=(l||o)&&n[r];if(o&&(Zr(u)||gz(u))||l&&_e(u))return!0}return!1}var _z="4.5.1";const vz=["top","bottom","left","right","chartArea"];function A1(n,t){return n==="top"||n==="bottom"||vz.indexOf(n)===-1&&t==="x"}function R1(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function C1(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),le(e&&e.onComplete,[n],t)}function bz(n){const t=n.chart,e=t.options.animation;le(e&&e.onProgress,[n],t)}function nC(n){return yv()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const pd={},I1=n=>{const t=nC(n);return Object.values(pd).filter(e=>e.canvas===t).pop()};function Tz(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const l=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=l)}}}function Ez(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let Dm=class{static defaults=ve;static instances=pd;static overrides=oo;static registry=ts;static version=_z;static getChart=I1;static register(...t){ts.add(...t),D1()}static unregister(...t){ts.remove(...t),D1()}constructor(t,e){const i=this.config=new pz(e),r=nC(t),o=I1(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||B6(r)),this.platform.updateConfig(i);const u=this.platform.acquireContext(r,l.aspectRatio),f=u&&u.canvas,d=f&&f.height,g=f&&f.width;if(this.id=y3(),this.ctx=u,this.canvas=f,this.width=g,this.height=d,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new sz,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=N3(_=>this.update(_),l.resizeDelay||0),this._dataChanges=[],pd[this.id]=this,!u||!f){console.error("Failed to create chart: can't acquire context from the given item");return}Ds.listen(this,"complete",C1),Ds.listen(this,"progress",bz),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:o}=this;return Lt(t)?e&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return ts}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():JS(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return KS(this.canvas,this.ctx),this}stop(){return Ds.stop(this),this}resize(t,e){Ds.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(r,t,e,o),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,JS(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),le(i.onResize,[this,l],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};ne(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((l,u)=>(l[u]=!1,l),{});let o=[];e&&(o=o.concat(Object.keys(e).map(l=>{const u=e[l],f=t_(l,u),d=f==="r",g=f==="x";return{options:u,dposition:d?"chartArea":g?"bottom":"left",dtype:d?"radialLinear":g?"category":"linear"}}))),ne(o,l=>{const u=l.options,f=u.id,d=t_(f,u),g=Ct(u.type,l.dtype);(u.position===void 0||A1(u.position,d)!==A1(l.dposition))&&(u.position=l.dposition),r[f]=!0;let _=null;if(f in i&&i[f].type===g)_=i[f];else{const v=ts.getScale(g);_=new v({id:f,type:g,ctx:this.ctx,chart:this}),i[_.id]=_}_.init(u,t)}),ne(r,(l,u)=>{l||delete i[u]}),ne(i,l=>{yn.configure(this,l,l.options),yn.addBox(this,l)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(R1("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const o=e[i];let l=this.getDatasetMeta(i);const u=o.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=u,l.indexAxis=o.indexAxis||Zy(u,this.options),l.order=o.order||0,l.index=i,l.label=""+o.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const f=ts.getController(u),{datasetElementType:d,dataElementType:g}=ve.datasets[u];Object.assign(f,{dataElementType:ts.getElement(g),datasetElementType:d&&ts.getElement(d)}),l.controller=new f(this,i),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){ne(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let d=0,g=this.data.datasets.length;d<g;d++){const{controller:_}=this.getDatasetMeta(d),v=!r&&o.indexOf(_)===-1;_.buildOrUpdateElements(v),l=Math.max(+_.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),r||ne(o,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(R1("z","_idx"));const{_active:u,_lastEvent:f}=this;f?this._eventHandler(f,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){ne(this.scales,t=>{yn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!BS(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of e){const l=i==="_removeElements"?-o:o;Tz(t,r,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(l=>l[0]===o).map((l,u)=>u+","+l.splice(1).join(","))),r=i(0);for(let o=1;o<e;o++)if(!BS(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;yn.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],ne(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Zr(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ds.has(this)?this.attached&&!Ds.running(this)&&Ds.start(this):(this.draw(),C1({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,o;for(r=0,o=e.length;r<o;++r){const l=e[r];(!t||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=HR(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&xm(e,r),t.controller.draw(),r&&Am(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return Vs(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const o=v6.modes[e];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=ra(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),l=o.controller._resolveAnimations(void 0,r);Lu(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),l.update(o,{visible:i}),this.update(u=>u.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Ds.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),KS(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete pd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,l)=>{e.addEventListener(this,o,l),t[o]=l},r=(o,l,u)=>{o.offsetX=l,o.offsetY=u,this._eventHandler(o)};ne(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,d)=>{e.addEventListener(this,f,d),t[f]=d},r=(f,d)=>{t[f]&&(e.removeEventListener(this,f,d),delete t[f])},o=(f,d)=>{this.canvas&&this.resize(f,d)};let l;const u=()=>{r("attach",u),this.attached=!0,this.resize(),i("resize",o),i("detach",l)};l=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",u)},e.isAttached(this.canvas)?u():l()}unbindEvents(){ne(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},ne(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let o,l,u,f;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),u=0,f=t.length;u<f;++u){l=t[u];const d=l&&this.getDatasetMeta(l.datasetIndex).controller;d&&d[r+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:l})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[l],index:l}});!Ld(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,o=(f,d)=>f.filter(g=>!d.some(_=>g.datasetIndex===_.datasetIndex&&g.index===_.index)),l=o(e,t),u=i?t:o(t,e);l.length&&this.updateHoverStyle(l,r.mode,!1),u.length&&r.mode&&this.updateHoverStyle(u,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:o}=this,l=e,u=this._getActiveElements(t,r,i,l),f=S3(t),d=Ez(t,this._lastEvent,i,f);i&&(this._lastEvent=null,le(o.onHover,[t,u,this],this),f&&le(o.onClick,[t,u,this],this));const g=!Ld(u,r);return(g||e)&&(this._active=u,this._updateHoverStyles(u,r,e)),this._lastEvent=d,g}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}};function D1(){return ne(Dm.instances,n=>n._plugins.invalidate())}function Sz(n,t,e){const{startAngle:i,x:r,y:o,outerRadius:l,innerRadius:u,options:f}=t,{borderWidth:d,borderJoinStyle:g}=f,_=Math.min(d/l,pn(i-e));if(n.beginPath(),n.arc(r,o,l-d/2,i+_/2,e-_/2),u>0){const v=Math.min(d/u,pn(i-e));n.arc(r,o,u+d/2,e-v/2,i+v/2,!0)}else{const v=Math.min(d/2,l*pn(i-e));if(g==="round")n.arc(r,o,v,e-Kt/2,i+Kt/2,!0);else if(g==="bevel"){const E=2*v*v,x=-E*Math.cos(e+Kt/2)+r,A=-E*Math.sin(e+Kt/2)+o,R=E*Math.cos(i+Kt/2)+r,O=E*Math.sin(i+Kt/2)+o;n.lineTo(x,A),n.lineTo(R,O)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function wz(n,t,e){const{startAngle:i,pixelMargin:r,x:o,y:l,outerRadius:u,innerRadius:f}=t;let d=r/u;n.beginPath(),n.arc(o,l,u,i-d,e+d),f>r?(d=r/f,n.arc(o,l,f,e+d,i-d,!0)):n.arc(o,l,r,e+Me,i-Me),n.closePath(),n.clip()}function xz(n){return dv(n,["outerStart","outerEnd","innerStart","innerEnd"])}function Az(n,t,e,i){const r=xz(n.options.borderRadius),o=(e-t)/2,l=Math.min(o,i*t/2),u=f=>{const d=(e-Math.min(o,f))*i/2;return tn(f,0,Math.min(o,d))};return{outerStart:u(r.outerStart),outerEnd:u(r.outerEnd),innerStart:tn(r.innerStart,0,l),innerEnd:tn(r.innerEnd,0,l)}}function al(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function Fd(n,t,e,i,r,o){const{x:l,y:u,startAngle:f,pixelMargin:d,innerRadius:g}=t,_=Math.max(t.outerRadius+i+e-d,0),v=g>0?g+i+e+d:0;let E=0;const x=r-f;if(i){const _t=g>0?g-i:0,j=_>0?_-i:0,it=(_t+j)/2,ft=it!==0?x*it/(it+i):x;E=(x-ft)/2}const A=Math.max(.001,x*_-e/Kt)/_,R=(x-A)/2,O=f+R+E,k=r-R-E,{outerStart:U,outerEnd:Y,innerStart:$,innerEnd:tt}=Az(t,v,_,k-O),w=_-U,C=_-Y,M=O+U/w,V=k-Y/C,P=v+$,B=v+tt,L=O+$/P,Dt=k-tt/B;if(n.beginPath(),o){const _t=(M+V)/2;if(n.arc(l,u,_,M,_t),n.arc(l,u,_,_t,V),Y>0){const Et=al(C,V,l,u);n.arc(Et.x,Et.y,Y,V,k+Me)}const j=al(B,k,l,u);if(n.lineTo(j.x,j.y),tt>0){const Et=al(B,Dt,l,u);n.arc(Et.x,Et.y,tt,k+Me,Dt+Math.PI)}const it=(k-tt/v+(O+$/v))/2;if(n.arc(l,u,v,k-tt/v,it,!0),n.arc(l,u,v,it,O+$/v,!0),$>0){const Et=al(P,L,l,u);n.arc(Et.x,Et.y,$,L+Math.PI,O-Me)}const ft=al(w,O,l,u);if(n.lineTo(ft.x,ft.y),U>0){const Et=al(w,M,l,u);n.arc(Et.x,Et.y,U,O-Me,M)}}else{n.moveTo(l,u);const _t=Math.cos(M)*_+l,j=Math.sin(M)*_+u;n.lineTo(_t,j);const it=Math.cos(V)*_+l,ft=Math.sin(V)*_+u;n.lineTo(it,ft)}n.closePath()}function Rz(n,t,e,i,r){const{fullCircles:o,startAngle:l,circumference:u}=t;let f=t.endAngle;if(o){Fd(n,t,e,i,f,r);for(let d=0;d<o;++d)n.fill();isNaN(u)||(f=l+(u%me||me))}return Fd(n,t,e,i,f,r),n.fill(),f}function Cz(n,t,e,i,r){const{fullCircles:o,startAngle:l,circumference:u,options:f}=t,{borderWidth:d,borderJoinStyle:g,borderDash:_,borderDashOffset:v,borderRadius:E}=f,x=f.borderAlign==="inner";if(!d)return;n.setLineDash(_||[]),n.lineDashOffset=v,x?(n.lineWidth=d*2,n.lineJoin=g||"round"):(n.lineWidth=d,n.lineJoin=g||"bevel");let A=t.endAngle;if(o){Fd(n,t,e,i,A,r);for(let R=0;R<o;++R)n.stroke();isNaN(u)||(A=l+(u%me||me))}x&&wz(n,t,A),f.selfJoin&&A-l>=Kt&&E===0&&g!=="miter"&&Sz(n,t,A),o||(Fd(n,t,e,i,A,r),n.stroke())}class Iz extends Ws{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:o,distance:l}=ER(r,{x:t,y:e}),{startAngle:u,endAngle:f,innerRadius:d,outerRadius:g,circumference:_}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),v=(this.options.spacing+this.options.borderWidth)/2,E=Ct(_,f-u),x=Vu(o,u,f)&&u!==f,A=E>=me||x,R=Ps(l,d+v,g+v);return A&&R}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:o,innerRadius:l,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:f,spacing:d}=this.options,g=(r+o)/2,_=(l+u+d+f)/2;return{x:e+Math.cos(g)*_,y:i+Math.sin(g)*_}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/4,o=(e.spacing||0)/2,l=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>me?Math.floor(i/me):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const u=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(u)*r,Math.sin(u)*r);const f=1-Math.sin(Math.min(Kt,i||0)),d=r*f;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,Rz(t,this,d,o,l),Cz(t,this,d,o,l),t.restore()}}function iC(n,t,e=t){n.lineCap=Ct(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Ct(e.borderDash,t.borderDash)),n.lineDashOffset=Ct(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Ct(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Ct(e.borderWidth,t.borderWidth),n.strokeStyle=Ct(e.borderColor,t.borderColor)}function Dz(n,t,e){n.lineTo(e.x,e.y)}function Mz(n){return n.stepped?Y3:n.tension||n.cubicInterpolationMode==="monotone"?$3:Dz}function sC(n,t,e={}){const i=n.length,{start:r=0,end:o=i-1}=e,{start:l,end:u}=t,f=Math.max(r,l),d=Math.min(o,u),g=r<l&&o<l||r>u&&o>u;return{count:i,start:f,loop:t.loop,ilen:d<f&&!g?i+d-f:d-f}}function Oz(n,t,e,i){const{points:r,options:o}=t,{count:l,start:u,loop:f,ilen:d}=sC(r,e,i),g=Mz(o);let{move:_=!0,reverse:v}=i||{},E,x,A;for(E=0;E<=d;++E)x=r[(u+(v?d-E:E))%l],!x.skip&&(_?(n.moveTo(x.x,x.y),_=!1):g(n,A,x,v,o.stepped),A=x);return f&&(x=r[(u+(v?d:0))%l],g(n,A,x,v,o.stepped)),!!f}function kz(n,t,e,i){const r=t.points,{count:o,start:l,ilen:u}=sC(r,e,i),{move:f=!0,reverse:d}=i||{};let g=0,_=0,v,E,x,A,R,O;const k=Y=>(l+(d?u-Y:Y))%o,U=()=>{A!==R&&(n.lineTo(g,R),n.lineTo(g,A),n.lineTo(g,O))};for(f&&(E=r[k(0)],n.moveTo(E.x,E.y)),v=0;v<=u;++v){if(E=r[k(v)],E.skip)continue;const Y=E.x,$=E.y,tt=Y|0;tt===x?($<A?A=$:$>R&&(R=$),g=(_*g+Y)/++_):(U(),n.lineTo(Y,$),x=tt,_=0,A=R=$),O=$}U()}function e_(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?kz:Oz}function Nz(n){return n.stepped?x5:n.tension||n.cubicInterpolationMode==="monotone"?A5:Ga}function Pz(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),iC(n,t.options),n.stroke(r)}function Lz(n,t,e,i){const{segments:r,options:o}=t,l=e_(t);for(const u of r)iC(n,o,u.style),n.beginPath(),l(n,t,u,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const Vz=typeof Path2D=="function";function zz(n,t,e,i){Vz&&!t.options.segment?Pz(n,t,e,i):Lz(n,t,e,i)}class Mm extends Ws{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;y5(this._points,i,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=O5(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,r=t[e],o=this.points,l=FR(this,{property:e,start:r,end:r});if(!l.length)return;const u=[],f=Nz(i);let d,g;for(d=0,g=l.length;d<g;++d){const{start:_,end:v}=l[d],E=o[_],x=o[v];if(E===x){u.push(E);continue}const A=Math.abs((r-E[e])/(x[e]-E[e])),R=f(E,x,A,i.stepped);R[e]=t[e],u.push(R)}return u.length===1?u[0]:u}pathSegment(t,e,i){return e_(this)(t,this,e,i)}path(t,e,i){const r=this.segments,o=e_(this);let l=this._loop;e=e||0,i=i||this.points.length-e;for(const u of r)l&=o(t,this,u,{start:e,end:e+i-1});return!!l}draw(t,e,i,r){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),zz(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function M1(n,t,e,i){const r=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<r.radius+r.hitRadius}class Uz extends Ws{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.options,{x:o,y:l}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(e-l,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return M1(this,t,"x",e)}inYRange(t,e){return M1(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!Vs(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Jy(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function rC(n,t){const{x:e,y:i,base:r,width:o,height:l}=n.getProps(["x","y","base","width","height"],t);let u,f,d,g,_;return n.horizontal?(_=l/2,u=Math.min(e,r),f=Math.max(e,r),d=i-_,g=i+_):(_=o/2,u=e-_,f=e+_,d=Math.min(i,r),g=Math.max(i,r)),{left:u,top:d,right:f,bottom:g}}function Vr(n,t,e,i){return n?0:tn(t,e,i)}function Bz(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,o=MR(i);return{t:Vr(r.top,o.top,0,e),r:Vr(r.right,o.right,0,t),b:Vr(r.bottom,o.bottom,0,e),l:Vr(r.left,o.left,0,t)}}function jz(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=Ka(r),l=Math.min(t,e),u=n.borderSkipped,f=i||Ht(r);return{topLeft:Vr(!f||u.top||u.left,o.topLeft,0,l),topRight:Vr(!f||u.top||u.right,o.topRight,0,l),bottomLeft:Vr(!f||u.bottom||u.left,o.bottomLeft,0,l),bottomRight:Vr(!f||u.bottom||u.right,o.bottomRight,0,l)}}function Fz(n){const t=rC(n),e=t.right-t.left,i=t.bottom-t.top,r=Bz(n,e/2,i/2),o=jz(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function uy(n,t,e,i){const r=t===null,o=e===null,u=n&&!(r&&o)&&rC(n,i);return u&&(r||Ps(t,u.left,u.right))&&(o||Ps(e,u.top,u.bottom))}function Hz(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function qz(n,t){n.rect(t.x,t.y,t.w,t.h)}function hy(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,l=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+o,h:n.h+l,radius:n.radius}}class Gz extends Ws{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:l}=Fz(this),u=Hz(l.radius)?zu:qz;t.save(),(l.w!==o.w||l.h!==o.h)&&(t.beginPath(),u(t,hy(l,e,o)),t.clip(),u(t,hy(o,-e,l)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),u(t,hy(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return uy(this,t,e,i)}inXRange(t,e){return uy(this,t,null,e)}inYRange(t,e){return uy(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}var Yz=Object.freeze({__proto__:null,ArcElement:Iz,BarElement:Gz,LineElement:Mm,PointElement:Uz});const n_=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],O1=n_.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function aC(n){return n_[n%n_.length]}function oC(n){return O1[n%O1.length]}function $z(n,t){return n.borderColor=aC(t),n.backgroundColor=oC(t),++t}function Wz(n,t){return n.backgroundColor=n.data.map(()=>aC(t++)),t}function Kz(n,t){return n.backgroundColor=n.data.map(()=>oC(t++)),t}function Xz(n){let t=0;return(e,i)=>{const r=n.getDatasetMeta(i).controller;r instanceof Cm?t=Wz(e,t):r instanceof $R?t=Kz(e,t):r&&(t=$z(e,t))}}function k1(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}function Qz(n){return n&&(n.borderColor||n.backgroundColor)}function Jz(){return ve.borderColor!=="rgba(0,0,0,0.1)"||ve.backgroundColor!=="rgba(0,0,0,0.1)"}var Zz={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;const{data:{datasets:i},options:r}=n.config,{elements:o}=r,l=k1(i)||Qz(r)||o&&k1(o)||Jz();if(!e.forceOverride&&l)return;const u=Xz(n);i.forEach(u)}};function t9(n,t,e,i,r){const o=r.samples||i;if(o>=e)return n.slice(t,t+e);const l=[],u=(e-2)/(o-2);let f=0;const d=t+e-1;let g=t,_,v,E,x,A;for(l[f++]=n[g],_=0;_<o-2;_++){let R=0,O=0,k;const U=Math.floor((_+1)*u)+1+t,Y=Math.min(Math.floor((_+2)*u)+1,e)+t,$=Y-U;for(k=U;k<Y;k++)R+=n[k].x,O+=n[k].y;R/=$,O/=$;const tt=Math.floor(_*u)+1+t,w=Math.min(Math.floor((_+1)*u)+1,e)+t,{x:C,y:M}=n[g];for(E=x=-1,k=tt;k<w;k++)x=.5*Math.abs((C-R)*(n[k].y-M)-(C-n[k].x)*(O-M)),x>E&&(E=x,v=n[k],A=k);l[f++]=v,g=A}return l[f++]=n[d],l}function e9(n,t,e,i){let r=0,o=0,l,u,f,d,g,_,v,E,x,A;const R=[],O=t+e-1,k=n[t].x,Y=n[O].x-k;for(l=t;l<t+e;++l){u=n[l],f=(u.x-k)/Y*i,d=u.y;const $=f|0;if($===g)d<x?(x=d,_=l):d>A&&(A=d,v=l),r=(o*r+u.x)/++o;else{const tt=l-1;if(!Lt(_)&&!Lt(v)){const w=Math.min(_,v),C=Math.max(_,v);w!==E&&w!==tt&&R.push({...n[w],x:r}),C!==E&&C!==tt&&R.push({...n[C],x:r})}l>0&&tt!==E&&R.push(n[tt]),R.push(u),g=$,o=0,x=A=d,_=v=E=l}}return R}function lC(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function N1(n){n.data.datasets.forEach(t=>{lC(t)})}function n9(n,t){const e=t.length;let i=0,r;const{iScale:o}=n,{min:l,max:u,minDefined:f,maxDefined:d}=o.getUserBounds();return f&&(i=tn(Ls(t,o.axis,l).lo,0,e-1)),d?r=tn(Ls(t,o.axis,u).hi+1,i,e)-i:r=e-i,{start:i,count:r}}var i9={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled){N1(n);return}const i=n.width;n.data.datasets.forEach((r,o)=>{const{_data:l,indexAxis:u}=r,f=n.getDatasetMeta(o),d=l||r.data;if(lu([u,n.options.indexAxis])==="y"||!f.controller.supportsDecimation)return;const g=n.scales[f.xAxisID];if(g.type!=="linear"&&g.type!=="time"||n.options.parsing)return;let{start:_,count:v}=n9(f,d);const E=e.threshold||4*i;if(v<=E){lC(r);return}Lt(l)&&(r._data=d,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(A){this._data=A}}));let x;switch(e.algorithm){case"lttb":x=t9(d,_,v,i,e);break;case"min-max":x=e9(d,_,v,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=x})},destroy(n){N1(n)}};function s9(n,t,e){const i=n.segments,r=n.points,o=t.points,l=[];for(const u of i){let{start:f,end:d}=u;d=Om(f,d,r);const g=i_(e,r[f],r[d],u.loop);if(!t.segments){l.push({source:u,target:g,start:r[f],end:r[d]});continue}const _=FR(t,g);for(const v of _){const E=i_(e,o[v.start],o[v.end],v.loop),x=jR(u,r,E);for(const A of x)l.push({source:A,target:v,start:{[e]:P1(g,E,"start",Math.max)},end:{[e]:P1(g,E,"end",Math.min)}})}}return l}function i_(n,t,e,i){if(i)return;let r=t[n],o=e[n];return n==="angle"&&(r=pn(r),o=pn(o)),{property:n,start:r,end:o}}function r9(n,t){const{x:e=null,y:i=null}=n||{},r=t.points,o=[];return t.segments.forEach(({start:l,end:u})=>{u=Om(l,u,r);const f=r[l],d=r[u];i!==null?(o.push({x:f.x,y:i}),o.push({x:d.x,y:i})):e!==null&&(o.push({x:e,y:f.y}),o.push({x:e,y:d.y}))}),o}function Om(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function P1(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function cC(n,t){let e=[],i=!1;return _e(n)?(i=!0,e=n):e=r9(n,t),e.length?new Mm({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function L1(n){return n&&n.fill!==!1}function a9(n,t,e){let r=n[t].fill;const o=[t];let l;if(!e)return r;for(;r!==!1&&o.indexOf(r)===-1;){if(!xe(r))return r;if(l=n[r],!l)return!1;if(l.visible)return r;o.push(r),r=l.fill}return!1}function o9(n,t,e){const i=h9(n);if(Ht(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return xe(r)&&Math.floor(r)===r?l9(i[0],t,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function l9(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function c9(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:Ht(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function u9(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:Ht(n)?i=n.value:i=t.getBaseValue(),i}function h9(n){const t=n.options,e=t.fill;let i=Ct(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function f9(n){const{scale:t,index:e,line:i}=n,r=[],o=i.segments,l=i.points,u=d9(t,e);u.push(cC({x:null,y:t.bottom},i));for(let f=0;f<o.length;f++){const d=o[f];for(let g=d.start;g<=d.end;g++)m9(r,l[g],u)}return new Mm({points:r,options:{}})}function d9(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const o=i[r];if(o.index===t)break;o.hidden||e.unshift(o.dataset)}return e}function m9(n,t,e){const i=[];for(let r=0;r<e.length;r++){const o=e[r],{first:l,last:u,point:f}=p9(o,t,"x");if(!(!f||l&&u)){if(l)i.unshift(f);else if(n.push(f),!u)break}}n.push(...i)}function p9(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const r=i[e],o=n.segments,l=n.points;let u=!1,f=!1;for(let d=0;d<o.length;d++){const g=o[d],_=l[g.start][e],v=l[g.end][e];if(Ps(r,_,v)){u=r===_,f=r===v;break}}return{first:u,last:f,point:i}}class uC{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:r,y:o,radius:l}=this;return e=e||{start:0,end:me},t.arc(r,o,l,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:r}=this,o=t.angle;return{x:e+Math.cos(o)*r,y:i+Math.sin(o)*r,angle:o}}}function g9(n){const{chart:t,fill:e,line:i}=n;if(xe(e))return y9(t,e);if(e==="stack")return f9(n);if(e==="shape")return!0;const r=_9(n);return r instanceof uC?r:cC(r,i)}function y9(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function _9(n){return(n.scale||{}).getPointPositionForValue?b9(n):v9(n)}function v9(n){const{scale:t={},fill:e}=n,i=c9(e,t);if(xe(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function b9(n){const{scale:t,fill:e}=n,i=t.options,r=t.getLabels().length,o=i.reverse?t.max:t.min,l=u9(e,t,o),u=[];if(i.grid.circular){const f=t.getPointPositionForValue(0,o);return new uC({x:f.x,y:f.y,radius:t.getDistanceFromCenterForValue(l)})}for(let f=0;f<r;++f)u.push(t.getPointPositionForValue(f,l));return u}function fy(n,t,e){const i=g9(t),{chart:r,index:o,line:l,scale:u,axis:f}=t,d=l.options,g=d.fill,_=d.backgroundColor,{above:v=_,below:E=_}=g||{},x=r.getDatasetMeta(o),A=HR(r,x);i&&l.points.length&&(xm(n,e),T9(n,{line:l,target:i,above:v,below:E,area:e,scale:u,axis:f,clip:A}),Am(n))}function T9(n,t){const{line:e,target:i,above:r,below:o,area:l,scale:u,clip:f}=t,d=e._loop?"angle":t.axis;n.save();let g=o;o!==r&&(d==="x"?(V1(n,i,l.top),dy(n,{line:e,target:i,color:r,scale:u,property:d,clip:f}),n.restore(),n.save(),V1(n,i,l.bottom)):d==="y"&&(z1(n,i,l.left),dy(n,{line:e,target:i,color:o,scale:u,property:d,clip:f}),n.restore(),n.save(),z1(n,i,l.right),g=r)),dy(n,{line:e,target:i,color:g,scale:u,property:d,clip:f}),n.restore()}function V1(n,t,e){const{segments:i,points:r}=t;let o=!0,l=!1;n.beginPath();for(const u of i){const{start:f,end:d}=u,g=r[f],_=r[Om(f,d,r)];o?(n.moveTo(g.x,g.y),o=!1):(n.lineTo(g.x,e),n.lineTo(g.x,g.y)),l=!!t.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(_.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function z1(n,t,e){const{segments:i,points:r}=t;let o=!0,l=!1;n.beginPath();for(const u of i){const{start:f,end:d}=u,g=r[f],_=r[Om(f,d,r)];o?(n.moveTo(g.x,g.y),o=!1):(n.lineTo(e,g.y),n.lineTo(g.x,g.y)),l=!!t.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(e,_.y)}n.lineTo(e,t.first().y),n.closePath(),n.clip()}function dy(n,t){const{line:e,target:i,property:r,color:o,scale:l,clip:u}=t,f=s9(e,i,r);for(const{source:d,target:g,start:_,end:v}of f){const{style:{backgroundColor:E=o}={}}=d,x=i!==!0;n.save(),n.fillStyle=E,E9(n,l,u,x&&i_(r,_,v)),n.beginPath();const A=!!e.pathSegment(n,d);let R;if(x){A?n.closePath():U1(n,i,v,r);const O=!!i.pathSegment(n,g,{move:A,reverse:!0});R=A&&O,R||U1(n,i,_,r)}n.closePath(),n.fill(R?"evenodd":"nonzero"),n.restore()}}function E9(n,t,e,i){const r=t.chart.chartArea,{property:o,start:l,end:u}=i||{};if(o==="x"||o==="y"){let f,d,g,_;o==="x"?(f=l,d=r.top,g=u,_=r.bottom):(f=r.left,d=l,g=r.right,_=u),n.beginPath(),e&&(f=Math.max(f,e.left),g=Math.min(g,e.right),d=Math.max(d,e.top),_=Math.min(_,e.bottom)),n.rect(f,d,g-f,_-d),n.clip()}}function U1(n,t,e,i){const r=t.interpolate(e,i);r&&n.lineTo(r.x,r.y)}var S9={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,r=[];let o,l,u,f;for(l=0;l<i;++l)o=n.getDatasetMeta(l),u=o.dataset,f=null,u&&u.options&&u instanceof Mm&&(f={visible:n.isDatasetVisible(l),index:l,fill:o9(u,l,i),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:u}),o.$filler=f,r.push(f);for(l=0;l<i;++l)f=r[l],!(!f||f.fill===!1)&&(f.fill=a9(r,l,e.propagate))},beforeDraw(n,t,e){const i=e.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let l=r.length-1;l>=0;--l){const u=r[l].$filler;u&&(u.line.updateControlPoints(o,u.axis),i&&u.fill&&fy(n.ctx,u,o))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const o=i[r].$filler;L1(o)&&fy(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!L1(i)||e.drawTime!=="beforeDatasetDraw"||fy(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const B1=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},w9=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class j1 extends Ws{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=le(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=$e(i.font),o=r.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:f}=B1(i,o);let d,g;e.font=r.string,this.isHorizontal()?(d=this.maxWidth,g=this._fitRows(l,o,u,f)+10):(g=this.maxHeight,d=this._fitCols(l,r,u,f)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(g,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:l,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],d=this.lineWidths=[0],g=r+u;let _=t;o.textAlign="left",o.textBaseline="middle";let v=-1,E=-g;return this.legendItems.forEach((x,A)=>{const R=i+e/2+o.measureText(x.text).width;(A===0||d[d.length-1]+R+2*u>l)&&(_+=g,d[d.length-(A>0?0:1)]=0,E+=g,v++),f[A]={left:0,top:E,row:v,width:R,height:r},d[d.length-1]+=R+u}),_}_fitCols(t,e,i,r){const{ctx:o,maxHeight:l,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],d=this.columnSizes=[],g=l-t;let _=u,v=0,E=0,x=0,A=0;return this.legendItems.forEach((R,O)=>{const{itemWidth:k,itemHeight:U}=x9(i,e,o,R,r);O>0&&E+U+2*u>g&&(_+=v+u,d.push({width:v,height:E}),x+=v+u,A++,v=E=0),f[O]={left:x,top:E,col:A,width:k,height:U},v=Math.max(v,k),E+=U+u}),_+=v,d.push({width:v,height:E}),_}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,l=_l(o,this.left,this.width);if(this.isHorizontal()){let u=0,f=dn(i,this.left+r,this.right-this.lineWidths[u]);for(const d of e)u!==d.row&&(u=d.row,f=dn(i,this.left+r,this.right-this.lineWidths[u])),d.top+=this.top+t+r,d.left=l.leftForLtr(l.x(f),d.width),f+=d.width+r}else{let u=0,f=dn(i,this.top+t+r,this.bottom-this.columnSizes[u].height);for(const d of e)d.col!==u&&(u=d.col,f=dn(i,this.top+t+r,this.bottom-this.columnSizes[u].height)),d.top=f,d.left+=this.left+r,d.left=l.leftForLtr(l.x(d.left),d.width),f+=d.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;xm(t,this),this._draw(),Am(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:l}=t,u=ve.color,f=_l(t.rtl,this.left,this.width),d=$e(l.font),{padding:g}=l,_=d.size,v=_/2;let E;this.drawTitle(),r.textAlign=f.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=d.string;const{boxWidth:x,boxHeight:A,itemHeight:R}=B1(l,_),O=function(tt,w,C){if(isNaN(x)||x<=0||isNaN(A)||A<0)return;r.save();const M=Ct(C.lineWidth,1);if(r.fillStyle=Ct(C.fillStyle,u),r.lineCap=Ct(C.lineCap,"butt"),r.lineDashOffset=Ct(C.lineDashOffset,0),r.lineJoin=Ct(C.lineJoin,"miter"),r.lineWidth=M,r.strokeStyle=Ct(C.strokeStyle,u),r.setLineDash(Ct(C.lineDash,[])),l.usePointStyle){const V={radius:A*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:M},P=f.xPlus(tt,x/2),B=w+v;DR(r,V,P,B,l.pointStyleWidth&&x)}else{const V=w+Math.max((_-A)/2,0),P=f.leftForLtr(tt,x),B=Ka(C.borderRadius);r.beginPath(),Object.values(B).some(L=>L!==0)?zu(r,{x:P,y:V,w:x,h:A,radius:B}):r.rect(P,V,x,A),r.fill(),M!==0&&r.stroke()}r.restore()},k=function(tt,w,C){lo(r,C.text,tt,w+R/2,d,{strikethrough:C.hidden,textAlign:f.textAlign(C.textAlign)})},U=this.isHorizontal(),Y=this._computeTitleHeight();U?E={x:dn(o,this.left+g,this.right-i[0]),y:this.top+g+Y,line:0}:E={x:this.left+g,y:dn(o,this.top+Y+g,this.bottom-e[0].height),line:0},zR(this.ctx,t.textDirection);const $=R+g;this.legendItems.forEach((tt,w)=>{r.strokeStyle=tt.fontColor,r.fillStyle=tt.fontColor;const C=r.measureText(tt.text).width,M=f.textAlign(tt.textAlign||(tt.textAlign=l.textAlign)),V=x+v+C;let P=E.x,B=E.y;f.setWidth(this.width),U?w>0&&P+V+g>this.right&&(B=E.y+=$,E.line++,P=E.x=dn(o,this.left+g,this.right-i[E.line])):w>0&&B+$>this.bottom&&(P=E.x=P+e[E.line].width+g,E.line++,B=E.y=dn(o,this.top+Y+g,this.bottom-e[E.line].height));const L=f.x(P);if(O(L,B,tt),P=P3(M,P+x+v,U?P+V:this.right,t.rtl),k(f.x(P),B,tt),U)E.x+=V+g;else if(typeof tt.text!="string"){const Dt=d.lineHeight;E.y+=hC(tt,Dt)+g}else E.y+=$}),UR(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=$e(e.font),r=vn(e.padding);if(!e.display)return;const o=_l(t.rtl,this.left,this.width),l=this.ctx,u=e.position,f=i.size/2,d=r.top+f;let g,_=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),g=this.top+d,_=dn(t.align,_,this.right-v);else{const x=this.columnSizes.reduce((A,R)=>Math.max(A,R.height),0);g=d+dn(t.align,this.top,this.bottom-x-t.labels.padding-this._computeTitleHeight())}const E=dn(u,_,_+v);l.textAlign=o.textAlign(hv(u)),l.textBaseline="middle",l.strokeStyle=e.color,l.fillStyle=e.color,l.font=i.string,lo(l,e.text,E,g,i)}_computeTitleHeight(){const t=this.options.title,e=$e(t.font),i=vn(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(Ps(t,this.left,this.right)&&Ps(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],Ps(t,r.left,r.left+r.width)&&Ps(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!C9(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=w9(r,i);r&&!o&&le(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&le(e.onHover,[t,i,this],this)}else i&&le(e.onClick,[t,i,this],this)}}function x9(n,t,e,i,r){const o=A9(i,n,t,e),l=R9(r,i,t.lineHeight);return{itemWidth:o,itemHeight:l}}function A9(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,l)=>o.length>l.length?o:l)),t+e.size/2+i.measureText(r).width}function R9(n,t,e){let i=n;return typeof t.text!="string"&&(i=hC(t,e)),i}function hC(n,t){const e=n.text?n.text.length:0;return t*e}function C9(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var I9={id:"legend",_element:j1,start(n,t,e){const i=n.legend=new j1({ctx:n.ctx,options:e,chart:n});yn.configure(n,i,e),yn.addBox(n,i)},stop(n){yn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;yn.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:l,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const d=f.controller.getStyle(e?0:void 0),g=vn(d.borderWidth);return{text:t[f.index].label,fillStyle:d.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:r||d.textAlign,borderRadius:l&&(u||d.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class bv extends Ws{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=_e(i.text)?i.text.length:1;this._padding=vn(i.padding);const o=r*$e(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:o,options:l}=this,u=l.align;let f=0,d,g,_;return this.isHorizontal()?(g=dn(u,i,o),_=e+t,d=o-i):(l.position==="left"?(g=i+t,_=dn(u,r,e),f=Kt*-.5):(g=o-t,_=dn(u,e,r),f=Kt*.5),d=r-e),{titleX:g,titleY:_,maxWidth:d,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=$e(e.font),o=i.lineHeight/2+this._padding.top,{titleX:l,titleY:u,maxWidth:f,rotation:d}=this._drawArgs(o);lo(t,e.text,0,0,i,{color:e.color,maxWidth:f,rotation:d,textAlign:hv(e.align),textBaseline:"middle",translation:[l,u]})}}function D9(n,t){const e=new bv({ctx:n.ctx,options:t,chart:n});yn.configure(n,e,t),yn.addBox(n,e),n.titleBlock=e}var M9={id:"title",_element:bv,start(n,t,e){D9(n,e)},stop(n){const t=n.titleBlock;yn.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;yn.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Zf=new WeakMap;var O9={id:"subtitle",start(n,t,e){const i=new bv({ctx:n.ctx,options:e,chart:n});yn.configure(n,i,e),yn.addBox(n,i),Zf.set(n,i)},stop(n){yn.removeBox(n,Zf.get(n)),Zf.delete(n)},beforeUpdate(n,t,e){const i=Zf.get(n);yn.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const uu={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const u=n[t].element;if(u&&u.hasValue()){const f=u.tooltipPosition();i.add(f.x),r+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((u,f)=>u+f)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,l,u;for(o=0,l=n.length;o<l;++o){const f=n[o].element;if(f&&f.hasValue()){const d=f.getCenterPoint(),g=Xy(t,d);g<r&&(r=g,u=f)}}if(u){const f=u.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function Zi(n,t){return t&&(_e(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Ms(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function k9(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:l,value:u}=o.getLabelAndValue(r);return{chart:n,label:l,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:u,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function F1(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:l,boxHeight:u}=t,f=$e(t.bodyFont),d=$e(t.titleFont),g=$e(t.footerFont),_=o.length,v=r.length,E=i.length,x=vn(t.padding);let A=x.height,R=0,O=i.reduce((Y,$)=>Y+$.before.length+$.lines.length+$.after.length,0);if(O+=n.beforeBody.length+n.afterBody.length,_&&(A+=_*d.lineHeight+(_-1)*t.titleSpacing+t.titleMarginBottom),O){const Y=t.displayColors?Math.max(u,f.lineHeight):f.lineHeight;A+=E*Y+(O-E)*f.lineHeight+(O-1)*t.bodySpacing}v&&(A+=t.footerMarginTop+v*g.lineHeight+(v-1)*t.footerSpacing);let k=0;const U=function(Y){R=Math.max(R,e.measureText(Y).width+k)};return e.save(),e.font=d.string,ne(n.title,U),e.font=f.string,ne(n.beforeBody.concat(n.afterBody),U),k=t.displayColors?l+2+t.boxPadding:0,ne(i,Y=>{ne(Y.before,U),ne(Y.lines,U),ne(Y.after,U)}),k=0,e.font=g.string,ne(n.footer,U),e.restore(),R+=x.width,{width:R,height:A}}function N9(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function P9(n,t,e,i){const{x:r,width:o}=i,l=e.caretSize+e.caretPadding;if(n==="left"&&r+o+l>t.width||n==="right"&&r-o-l<0)return!0}function L9(n,t,e,i){const{x:r,width:o}=e,{width:l,chartArea:{left:u,right:f}}=n;let d="center";return i==="center"?d=r<=(u+f)/2?"left":"right":r<=o/2?d="left":r>=l-o/2&&(d="right"),P9(d,n,t,e)&&(d="center"),d}function H1(n,t,e){const i=e.yAlign||t.yAlign||N9(n,e);return{xAlign:e.xAlign||t.xAlign||L9(n,t,e,i),yAlign:i}}function V9(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function z9(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function q1(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:l}=n,{xAlign:u,yAlign:f}=e,d=r+o,{topLeft:g,topRight:_,bottomLeft:v,bottomRight:E}=Ka(l);let x=V9(t,u);const A=z9(t,f,d);return f==="center"?u==="left"?x+=d:u==="right"&&(x-=d):u==="left"?x-=Math.max(g,v)+r:u==="right"&&(x+=Math.max(_,E)+r),{x:tn(x,0,i.width-t.width),y:tn(A,0,i.height-t.height)}}function td(n,t,e){const i=vn(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function G1(n){return Zi([],Ms(n))}function U9(n,t,e){return ra(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function Y1(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const fC={beforeTitle:Is,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Is,beforeBody:Is,beforeLabel:Is,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Lt(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Is,afterBody:Is,beforeFooter:Is,footer:Is,afterFooter:Is};function On(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?fC[t].call(e,i):r}class $1 extends Ws{static positioners=uu;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,o=new qR(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=U9(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=On(i,"beforeTitle",this,t),o=On(i,"title",this,t),l=On(i,"afterTitle",this,t);let u=[];return u=Zi(u,Ms(r)),u=Zi(u,Ms(o)),u=Zi(u,Ms(l)),u}getBeforeBody(t,e){return G1(On(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return ne(t,o=>{const l={before:[],lines:[],after:[]},u=Y1(i,o);Zi(l.before,Ms(On(u,"beforeLabel",this,o))),Zi(l.lines,On(u,"label",this,o)),Zi(l.after,Ms(On(u,"afterLabel",this,o))),r.push(l)}),r}getAfterBody(t,e){return G1(On(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=On(i,"beforeFooter",this,t),o=On(i,"footer",this,t),l=On(i,"afterFooter",this,t);let u=[];return u=Zi(u,Ms(r)),u=Zi(u,Ms(o)),u=Zi(u,Ms(l)),u}_createItems(t){const e=this._active,i=this.chart.data,r=[],o=[],l=[];let u=[],f,d;for(f=0,d=e.length;f<d;++f)u.push(k9(this.chart,e[f]));return t.filter&&(u=u.filter((g,_,v)=>t.filter(g,_,v,i))),t.itemSort&&(u=u.sort((g,_)=>t.itemSort(g,_,i))),ne(u,g=>{const _=Y1(t.callbacks,g);r.push(On(_,"labelColor",this,g)),o.push(On(_,"labelPointStyle",this,g)),l.push(On(_,"labelTextColor",this,g))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=u,u}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let o,l=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const u=uu[i.position].call(this,r,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const f=this._size=F1(this,i),d=Object.assign({},u,f),g=H1(this.chart,i,d),_=q1(i,d,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,o={opacity:1,x:_.x,y:_.y,width:f.width,height:f.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const o=this.getCaretPosition(t,i,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:o}=this,{caretSize:l,cornerRadius:u}=i,{topLeft:f,topRight:d,bottomLeft:g,bottomRight:_}=Ka(u),{x:v,y:E}=t,{width:x,height:A}=e;let R,O,k,U,Y,$;return o==="center"?(Y=E+A/2,r==="left"?(R=v,O=R-l,U=Y+l,$=Y-l):(R=v+x,O=R+l,U=Y-l,$=Y+l),k=R):(r==="left"?O=v+Math.max(f,g)+l:r==="right"?O=v+x-Math.max(d,_)-l:O=this.caretX,o==="top"?(U=E,Y=U-l,R=O-l,k=O+l):(U=E+A,Y=U+l,R=O+l,k=O-l),$=U),{x1:R,x2:O,x3:k,y1:U,y2:Y,y3:$}}drawTitle(t,e,i){const r=this.title,o=r.length;let l,u,f;if(o){const d=_l(i.rtl,this.x,this.width);for(t.x=td(this,i.titleAlign,i),e.textAlign=d.textAlign(i.titleAlign),e.textBaseline="middle",l=$e(i.titleFont),u=i.titleSpacing,e.fillStyle=i.titleColor,e.font=l.string,f=0;f<o;++f)e.fillText(r[f],d.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+u,f+1===o&&(t.y+=i.titleMarginBottom-u)}}_drawColorBox(t,e,i,r,o){const l=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:f,boxWidth:d}=o,g=$e(o.bodyFont),_=td(this,"left",o),v=r.x(_),E=f<g.lineHeight?(g.lineHeight-f)/2:0,x=e.y+E;if(o.usePointStyle){const A={radius:Math.min(d,f)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},R=r.leftForLtr(v,d)+d/2,O=x+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Jy(t,A,R,O),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,Jy(t,A,R,O)}else{t.lineWidth=Ht(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const A=r.leftForLtr(v,d),R=r.leftForLtr(r.xPlus(v,1),d-2),O=Ka(l.borderRadius);Object.values(O).some(k=>k!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,zu(t,{x:A,y:x,w:d,h:f,radius:O}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),zu(t,{x:R,y:x+1,w:d-2,h:f-2,radius:O}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(A,x,d,f),t.strokeRect(A,x,d,f),t.fillStyle=l.backgroundColor,t.fillRect(R,x+1,d-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:o,bodyAlign:l,displayColors:u,boxHeight:f,boxWidth:d,boxPadding:g}=i,_=$e(i.bodyFont);let v=_.lineHeight,E=0;const x=_l(i.rtl,this.x,this.width),A=function(C){e.fillText(C,x.x(t.x+E),t.y+v/2),t.y+=v+o},R=x.textAlign(l);let O,k,U,Y,$,tt,w;for(e.textAlign=l,e.textBaseline="middle",e.font=_.string,t.x=td(this,R,i),e.fillStyle=i.bodyColor,ne(this.beforeBody,A),E=u&&R!=="right"?l==="center"?d/2+g:d+2+g:0,Y=0,tt=r.length;Y<tt;++Y){for(O=r[Y],k=this.labelTextColors[Y],e.fillStyle=k,ne(O.before,A),U=O.lines,u&&U.length&&(this._drawColorBox(e,t,Y,x,i),v=Math.max(_.lineHeight,f)),$=0,w=U.length;$<w;++$)A(U[$]),v=_.lineHeight;ne(O.after,A)}E=0,v=_.lineHeight,ne(this.afterBody,A),t.y-=o}drawFooter(t,e,i){const r=this.footer,o=r.length;let l,u;if(o){const f=_l(i.rtl,this.x,this.width);for(t.x=td(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",l=$e(i.footerFont),e.fillStyle=i.footerColor,e.font=l.string,u=0;u<o;++u)e.fillText(r[u],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:o,yAlign:l}=this,{x:u,y:f}=t,{width:d,height:g}=i,{topLeft:_,topRight:v,bottomLeft:E,bottomRight:x}=Ka(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(u+_,f),l==="top"&&this.drawCaret(t,e,i,r),e.lineTo(u+d-v,f),e.quadraticCurveTo(u+d,f,u+d,f+v),l==="center"&&o==="right"&&this.drawCaret(t,e,i,r),e.lineTo(u+d,f+g-x),e.quadraticCurveTo(u+d,f+g,u+d-x,f+g),l==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(u+E,f+g),e.quadraticCurveTo(u,f+g,u,f+g-E),l==="center"&&o==="left"&&this.drawCaret(t,e,i,r),e.lineTo(u,f+_),e.quadraticCurveTo(u,f,u+_,f),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const l=uu[t.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=F1(this,t),f=Object.assign({},l,this._size),d=H1(e,t,f),g=q1(t,f,d,e);(r._to!==g.x||o._to!==g.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=vn(e.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&u&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,e),zR(t,e.textDirection),o.y+=l.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),UR(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:u,index:f})=>{const d=this.chart.getDatasetMeta(u);if(!d)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:d.data[f],index:f}}),o=!Ld(i,r),l=this._positionChanged(r,e);(o||l)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],l=this._getActiveElements(t,o,e,i),u=this._positionChanged(l,t),f=e||!Ld(l,o)||u;return f&&(this._active=l,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&l.reverse(),l}_positionChanged(t,e){const{caretX:i,caretY:r,options:o}=this,l=uu[o.position].call(this,t,e);return l!==!1&&(i!==l.x||r!==l.y)}}var B9={id:"tooltip",_element:$1,positioners:uu,afterInit(n,t,e){e&&(n.tooltip=new $1({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:fC},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},j9=Object.freeze({__proto__:null,Colors:Zz,Decimation:i9,Filler:S9,Legend:I9,SubTitle:O9,Title:M9,Tooltip:B9});const F9=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function H9(n,t,e,i){const r=n.indexOf(t);if(r===-1)return F9(n,t,e,i);const o=n.lastIndexOf(t);return r!==o?e:r}const q9=(n,t)=>n===null?null:tn(Math.round(n),0,t);function W1(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class G9 extends mo{static id="category";static defaults={ticks:{callback:W1}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:o}of e)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Lt(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:H9(i,t,Ct(e,t),this._addedLabels),q9(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=t;l<=e;l++)r.push({value:l});return r}getLabelForValue(t){return W1.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function Y9(n,t){const e=[],{bounds:r,step:o,min:l,max:u,precision:f,count:d,maxTicks:g,maxDigits:_,includeBounds:v}=n,E=o||1,x=g-1,{min:A,max:R}=t,O=!Lt(l),k=!Lt(u),U=!Lt(d),Y=(R-A)/(_+1);let $=FS((R-A)/x/E)*E,tt,w,C,M;if($<1e-14&&!O&&!k)return[{value:A},{value:R}];M=Math.ceil(R/$)-Math.floor(A/$),M>x&&($=FS(M*$/x/E)*E),Lt(f)||(tt=Math.pow(10,f),$=Math.ceil($*tt)/tt),r==="ticks"?(w=Math.floor(A/$)*$,C=Math.ceil(R/$)*$):(w=A,C=R),O&&k&&o&&C3((u-l)/o,$/1e3)?(M=Math.round(Math.min((u-l)/$,g)),$=(u-l)/M,w=l,C=u):U?(w=O?l:w,C=k?u:C,M=d-1,$=(C-w)/M):(M=(C-w)/$,_u(M,Math.round(M),$/1e3)?M=Math.round(M):M=Math.ceil(M));const V=Math.max(HS($),HS(w));tt=Math.pow(10,Lt(f)?V:f),w=Math.round(w*tt)/tt,C=Math.round(C*tt)/tt;let P=0;for(O&&(v&&w!==l?(e.push({value:l}),w<l&&P++,_u(Math.round((w+P*$)*tt)/tt,l,K1(l,Y,n))&&P++):w<l&&P++);P<M;++P){const B=Math.round((w+P*$)*tt)/tt;if(k&&B>u)break;e.push({value:B})}return k&&v&&C!==u?e.length&&_u(e[e.length-1].value,u,K1(u,Y,n))?e[e.length-1].value=u:e.push({value:u}):(!k||C===u)&&e.push({value:C}),e}function K1(n,t,{horizontal:e,minRotation:i}){const r=xi(i),o=(e?Math.sin(r):Math.cos(r))||.001,l=.75*t*(""+n).length;return Math.min(t/o,l)}class Hd extends mo{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Lt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const l=f=>r=e?r:f,u=f=>o=i?o:f;if(t){const f=os(r),d=os(o);f<0&&d<0?u(0):f>0&&d>0&&l(0)}if(r===o){let f=o===0?1:Math.abs(o*.05);u(o+f),t||l(r-f)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,l=Y9(r,o);return t.bounds==="ticks"&&TR(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return rh(t,this.chart.options.locale,this.options.ticks.format)}}class $9 extends Hd{static id="linear";static defaults={ticks:{callback:wm.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=xe(t)?t:0,this.max=xe(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=xi(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Bu=n=>Math.floor(Pr(n)),ja=(n,t)=>Math.pow(10,Bu(n)+t);function X1(n){return n/Math.pow(10,Bu(n))===1}function Q1(n,t,e){const i=Math.pow(10,e),r=Math.floor(n/i);return Math.ceil(t/i)-r}function W9(n,t){const e=t-n;let i=Bu(e);for(;Q1(n,t,i)>10;)i++;for(;Q1(n,t,i)<10;)i--;return Math.min(i,Bu(n))}function K9(n,{min:t,max:e}){t=Gn(n.min,t);const i=[],r=Bu(t);let o=W9(t,e),l=o<0?Math.pow(10,Math.abs(o)):1;const u=Math.pow(10,o),f=r>o?Math.pow(10,r):0,d=Math.round((t-f)*l)/l,g=Math.floor((t-f)/u/10)*u*10;let _=Math.floor((d-g)/Math.pow(10,o)),v=Gn(n.min,Math.round((f+g+_*Math.pow(10,o))*l)/l);for(;v<e;)i.push({value:v,major:X1(v),significand:_}),_>=10?_=_<15?15:20:_++,_>=20&&(o++,_=2,l=o>=0?1:l),v=Math.round((f+g+_*Math.pow(10,o))*l)/l;const E=Gn(n.max,v);return i.push({value:E,major:X1(E),significand:_}),i}class X9 extends mo{static id="logarithmic";static defaults={ticks:{callback:wm.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=Hd.prototype.parse.apply(this,[t,e]);if(i===0){this._zero=!0;return}return xe(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=xe(t)?Math.max(0,t):null,this.max=xe(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!xe(this._userMin)&&(this.min=t===ja(this.min,0)?ja(this.min,-1):ja(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,r=this.max;const o=u=>i=t?i:u,l=u=>r=e?r:u;i===r&&(i<=0?(o(1),l(10)):(o(ja(i,-1)),l(ja(r,1)))),i<=0&&o(ja(r,-1)),r<=0&&l(ja(i,1)),this.min=i,this.max=r}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},i=K9(e,this);return t.bounds==="ticks"&&TR(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":rh(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Pr(t),this._valueRange=Pr(this.max)-Pr(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Pr(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function s_(n){const t=n.ticks;if(t.display&&n.display){const e=vn(t.backdropPadding);return Ct(t.font&&t.font.size,ve.font.size)+e.height}return 0}function Q9(n,t,e){return e=_e(e)?e:[e],{w:G3(n,t.string,e),h:e.length*t.lineHeight}}function J1(n,t,e,i,r){return n===i||n===r?{start:t-e/2,end:t+e/2}:n<i||n>r?{start:t-e,end:t}:{start:t,end:t+e}}function J9(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],r=[],o=n._pointLabels.length,l=n.options.pointLabels,u=l.centerPointLabels?Kt/o:0;for(let f=0;f<o;f++){const d=l.setContext(n.getPointLabelContext(f));r[f]=d.padding;const g=n.getPointPosition(f,n.drawingArea+r[f],u),_=$e(d.font),v=Q9(n.ctx,_,n._pointLabels[f]);i[f]=v;const E=pn(n.getIndexAngle(f)+u),x=Math.round(cv(E)),A=J1(x,g.x,v.w,0,180),R=J1(x,g.y,v.h,90,270);Z9(e,t,E,A,R)}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=nU(n,i,r)}function Z9(n,t,e,i,r){const o=Math.abs(Math.sin(e)),l=Math.abs(Math.cos(e));let u=0,f=0;i.start<t.l?(u=(t.l-i.start)/o,n.l=Math.min(n.l,t.l-u)):i.end>t.r&&(u=(i.end-t.r)/o,n.r=Math.max(n.r,t.r+u)),r.start<t.t?(f=(t.t-r.start)/l,n.t=Math.min(n.t,t.t-f)):r.end>t.b&&(f=(r.end-t.b)/l,n.b=Math.max(n.b,t.b+f))}function tU(n,t,e){const i=n.drawingArea,{extra:r,additionalAngle:o,padding:l,size:u}=e,f=n.getPointPosition(t,i+r+l,o),d=Math.round(cv(pn(f.angle+Me))),g=rU(f.y,u.h,d),_=iU(d),v=sU(f.x,u.w,_);return{visible:!0,x:f.x,y:g,textAlign:_,left:v,top:g,right:v+u.w,bottom:g+u.h}}function eU(n,t){if(!t)return!0;const{left:e,top:i,right:r,bottom:o}=n;return!(Vs({x:e,y:i},t)||Vs({x:e,y:o},t)||Vs({x:r,y:i},t)||Vs({x:r,y:o},t))}function nU(n,t,e){const i=[],r=n._pointLabels.length,o=n.options,{centerPointLabels:l,display:u}=o.pointLabels,f={extra:s_(o)/2,additionalAngle:l?Kt/r:0};let d;for(let g=0;g<r;g++){f.padding=e[g],f.size=t[g];const _=tU(n,g,f);i.push(_),u==="auto"&&(_.visible=eU(_,d),_.visible&&(d=_))}return i}function iU(n){return n===0||n===180?"center":n<180?"left":"right"}function sU(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function rU(n,t,e){return e===90||e===270?n-=t/2:(e>270||e<90)&&(n-=t),n}function aU(n,t,e){const{left:i,top:r,right:o,bottom:l}=e,{backdropColor:u}=t;if(!Lt(u)){const f=Ka(t.borderRadius),d=vn(t.backdropPadding);n.fillStyle=u;const g=i-d.left,_=r-d.top,v=o-i+d.width,E=l-r+d.height;Object.values(f).some(x=>x!==0)?(n.beginPath(),zu(n,{x:g,y:_,w:v,h:E,radius:f}),n.fill()):n.fillRect(g,_,v,E)}}function oU(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let r=t-1;r>=0;r--){const o=n._pointLabelItems[r];if(!o.visible)continue;const l=i.setContext(n.getPointLabelContext(r));aU(e,l,o);const u=$e(l.font),{x:f,y:d,textAlign:g}=o;lo(e,n._pointLabels[r],f,d+u.lineHeight/2,u,{color:l.color,textAlign:g,textBaseline:"middle"})}}function dC(n,t,e,i){const{ctx:r}=n;if(e)r.arc(n.xCenter,n.yCenter,t,0,me);else{let o=n.getPointPosition(0,t);r.moveTo(o.x,o.y);for(let l=1;l<i;l++)o=n.getPointPosition(l,t),r.lineTo(o.x,o.y)}}function lU(n,t,e,i,r){const o=n.ctx,l=t.circular,{color:u,lineWidth:f}=t;!l&&!i||!u||!f||e<0||(o.save(),o.strokeStyle=u,o.lineWidth=f,o.setLineDash(r.dash||[]),o.lineDashOffset=r.dashOffset,o.beginPath(),dC(n,e,l,i),o.closePath(),o.stroke(),o.restore())}function cU(n,t,e){return ra(n,{label:e,index:t,type:"pointLabel"})}class uU extends Hd{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:wm.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=vn(s_(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=xe(t)&&!isNaN(t)?t:0,this.max=xe(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/s_(this.options))}generateTickLabels(t){Hd.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const r=le(this.options.pointLabels.callback,[e,i],this);return r||r===0?r:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?J9(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,r))}getIndexAngle(t){const e=me/(this._pointLabels.length||1),i=this.options.startAngle||0;return pn(t*e+xi(i))}getDistanceFromCenterForValue(t){if(Lt(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Lt(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return cU(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const r=this.getIndexAngle(t)-Me+i;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:r,bottom:o}=this._pointLabelItems[t];return{left:e,top:i,right:r,bottom:o}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),dC(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:r,border:o}=e,l=this._pointLabels.length;let u,f,d;if(e.pointLabels.display&&oU(this,l),r.display&&this.ticks.forEach((g,_)=>{if(_!==0||_===0&&this.min<0){f=this.getDistanceFromCenterForValue(g.value);const v=this.getContext(_),E=r.setContext(v),x=o.setContext(v);lU(this,E,f,l,x)}}),i.display){for(t.save(),u=l-1;u>=0;u--){const g=i.setContext(this.getPointLabelContext(u)),{color:_,lineWidth:v}=g;!v||!_||(t.lineWidth=v,t.strokeStyle=_,t.setLineDash(g.borderDash),t.lineDashOffset=g.borderDashOffset,f=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),d=this.getPointPosition(u,f),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(d.x,d.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let o,l;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((u,f)=>{if(f===0&&this.min>=0&&!e.reverse)return;const d=i.setContext(this.getContext(f)),g=$e(d.font);if(o=this.getDistanceFromCenterForValue(this.ticks[f].value),d.showLabelBackdrop){t.font=g.string,l=t.measureText(u.label).width,t.fillStyle=d.backdropColor;const _=vn(d.backdropPadding);t.fillRect(-l/2-_.left,-o-g.size/2-_.top,l+_.width,g.size+_.height)}lo(t,u.label,0,-o,g,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),t.restore()}drawTitle(){}}const km={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Pn=Object.keys(km);function Z1(n,t){return n-t}function tw(n,t){if(Lt(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let l=t;return typeof i=="function"&&(l=i(l)),xe(l)||(l=typeof i=="string"?e.parse(l,i):e.parse(l)),l===null?null:(r&&(l=r==="week"&&(xl(o)||o===!0)?e.startOf(l,"isoWeek",o):e.startOf(l,r)),+l)}function ew(n,t,e,i){const r=Pn.length;for(let o=Pn.indexOf(n);o<r-1;++o){const l=km[Pn[o]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((e-t)/(u*l.size))<=i)return Pn[o]}return Pn[r-1]}function hU(n,t,e,i,r){for(let o=Pn.length-1;o>=Pn.indexOf(e);o--){const l=Pn[o];if(km[l].common&&n._adapter.diff(r,i,l)>=t-1)return l}return Pn[e?Pn.indexOf(e):0]}function fU(n){for(let t=Pn.indexOf(n)+1,e=Pn.length;t<e;++t)if(km[Pn[t]].common)return Pn[t]}function nw(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=uv(e,t),o=e[i]>=t?e[i]:e[r];n[o]=!0}}function dU(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),l=t[t.length-1].value;let u,f;for(u=o;u<=l;u=+r.add(u,1,i))f=e[u],f>=0&&(t[f].major=!0);return t}function iw(n,t,e){const i=[],r={},o=t.length;let l,u;for(l=0;l<o;++l)u=t[l],r[u]=l,i.push({value:u,major:!1});return o===0||!e?i:dU(n,i,r,e)}class r_ extends mo{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new m6._date(t.adapters.date);r.init(e),yu(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:tw(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:l,maxDefined:u}=this.getUserBounds();function f(d){!l&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!u&&!isNaN(d.max)&&(o=Math.max(o,d.max))}(!l||!u)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),r=xe(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),o=xe(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,l=this.max,u=O3(r,o,l);return this._unit=e.unit||(i.autoSkip?ew(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):hU(this,u.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:fU(this._unit),this.initOffsets(r),t.reverse&&u.reverse(),iw(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;e=tn(e,0,l),i=tn(i,0,l),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,o=r.time,l=o.unit||ew(o.minUnit,e,i,this._getLabelCapacity(e)),u=Ct(r.ticks.stepSize,1),f=l==="week"?o.isoWeekday:!1,d=xl(f)||f===!0,g={};let _=e,v,E;if(d&&(_=+t.startOf(_,"isoWeek",f)),_=+t.startOf(_,d?"day":l),t.diff(i,e,l)>1e5*u)throw new Error(e+" and "+i+" are too far apart with stepSize of "+u+" "+l);const x=r.ticks.source==="data"&&this.getDataTimestamps();for(v=_,E=0;v<i;v=+t.add(v,u,l),E++)nw(g,v,x);return(v===i||r.bounds==="ticks"||E===1)&&nw(g,v,x),Object.keys(g).sort(Z1).map(A=>+A)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,l=e||r[o];return this._adapter.format(t,l)}_tickFormatFunction(t,e,i,r){const o=this.options,l=o.ticks.callback;if(l)return le(l,[t,e,i],this);const u=o.time.displayFormats,f=this._unit,d=this._majorUnit,g=f&&u[f],_=d&&u[d],v=i[e],E=d&&_&&v&&v.major;return this._adapter.format(t,r||(E?_:g))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=xi(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),l=Math.sin(r),u=this._resolveTickFontOptions(0).size;return{w:i*o+u*l,h:i*l+u*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,iw(this,[t],this._majorUnit),r),l=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(tw(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return wR(t.sort(Z1))}}function ed(n,t,e){let i=0,r=n.length-1,o,l,u,f;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=Ls(n,"pos",t)),{pos:o,time:u}=n[i],{pos:l,time:f}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=Ls(n,"time",t)),{time:o,pos:u}=n[i],{time:l,pos:f}=n[r]);const d=l-o;return d?u+(f-u)*(t-o)/d:u}class mU extends r_{static id="timeseries";static defaults=r_.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=ed(e,this.min),this._tableRange=ed(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let l,u,f,d,g;for(l=0,u=t.length;l<u;++l)d=t[l],d>=e&&d<=i&&r.push(d);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(l=0,u=r.length;l<u;++l)g=r[l+1],f=r[l-1],d=r[l],Math.round((g+f)/2)!==d&&o.push({time:d,pos:l/(u-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(ed(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return ed(this._table,i*this._tableRange+this._minPos,!0)}}var pU=Object.freeze({__proto__:null,CategoryScale:G9,LinearScale:$9,LogarithmicScale:X9,RadialLinearScale:uU,TimeScale:r_,TimeSeriesScale:mU});const gU=[d6,Yz,j9,pU],mC="label";function sw(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function yU(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function pC(n,t){n.labels=t}function gC(n,t,e=mC){const i=[];n.datasets=t.map(r=>{const o=n.datasets.find(l=>l[e]===r[e]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function _U(n,t=mC){const e={labels:[],datasets:[]};return pC(e,n.labels),gC(e,n.datasets,t),e}function vU(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:l,data:u,options:f,plugins:d=[],fallbackContent:g,updateMode:_,...v}=n,E=q.useRef(null),x=q.useRef(null),A=()=>{E.current&&(x.current=new Dm(E.current,{type:l,data:_U(u,o),options:f&&{...f},plugins:d}),sw(t,x.current))},R=()=>{sw(t,null),x.current&&(x.current.destroy(),x.current=null)};return q.useEffect(()=>{!r&&x.current&&f&&yU(x.current,f)},[r,f]),q.useEffect(()=>{!r&&x.current&&pC(x.current.config.data,u.labels)},[r,u.labels]),q.useEffect(()=>{!r&&x.current&&u.datasets&&gC(x.current.config.data,u.datasets,o)},[r,u.datasets]),q.useEffect(()=>{x.current&&(r?(R(),setTimeout(A)):x.current.update(_))},[r,f,u.labels,u.datasets,_]),q.useEffect(()=>{x.current&&(R(),setTimeout(A))},[l]),q.useEffect(()=>(A(),()=>R()),[]),N.jsx("canvas",{ref:E,role:"img",height:e,width:i,...v,children:g})}const bU=q.forwardRef(vU);function TU(n,t){return Dm.register(t),q.forwardRef((e,i)=>N.jsx(bU,{...e,ref:i,type:n}))}const EU=TU("doughnut",Cm);Dm.register(...gU);const tu=()=>{const n=new Date;return`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")}`},yC=n=>{const t=new Date(n);return t.setDate(t.getDate()-t.getDay()),t},_C=(n,t)=>{const e=new Date(n);return e.setDate(e.getDate()+t),e.toISOString().slice(0,10)},SU=(n,t)=>_C(n,t*7),wU=(n,t)=>{const e=new Date(n);return e.setMonth(e.getMonth()+t),e.toISOString().slice(0,10)},xU=(n,t)=>{const e=new Date(n);return e.setFullYear(e.getFullYear()+t),e.toISOString().slice(0,10)},AU=(n,t)=>{if(n==="all")return null;const e=new Date(t);if(n==="day"){const i=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0),r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59,999);return{start:i,end:r}}if(n==="week"){const i=yC(e),r=new Date(i);return r.setDate(i.getDate()+6),r.setHours(23,59,59,999),{start:i,end:r}}if(n==="month"){const i=new Date(e.getFullYear(),e.getMonth(),1),r=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59,999);return{start:i,end:r}}if(n==="year"){const i=new Date(e.getFullYear(),0,1),r=new Date(e.getFullYear(),11,31,23,59,59,999);return{start:i,end:r}}return null},RU=(n,t,e)=>n==="day"?_C(t,e):n==="week"?SU(t,e):n==="month"?wU(t,e):n==="year"?xU(t,e):t,gd=["..","..","..","..","..","..","..","..","..","..","..",".."],CU=["","","","","","","","","","","",""],rw=(n,t)=>{if(n==="all")return"";const e=new Date(t),i=e.getFullYear()+543;if(n==="day")return`${e.getDate()} ${gd[e.getMonth()]} ${i}`;if(n==="week"){const r=yC(e),o=new Date(r);return o.setDate(r.getDate()+6),`${r.getDate()} ${gd[r.getMonth()]}  ${o.getDate()} ${gd[o.getMonth()]} ${i}`}return n==="month"?`${CU[e.getMonth()]} ${i}`:n==="year"?` ${i}`:""},aw={all:"",day:"",week:"",month:"",year:""},IU=({task:n,onClose:t,onSave:e})=>{const[i,r]=q.useState(n.title||""),[o,l]=q.useState(n.dueDate||""),u=f=>{f.preventDefault(),i.trim()&&e(n.id,{title:i.trim(),dueDate:o})};return N.jsx("div",{className:"modal-overlay",onClick:t,children:N.jsxs("div",{className:"modal-box",onClick:f=>f.stopPropagation(),children:[N.jsx("h3",{children:" "}),N.jsxs("form",{className:"modal-form",onSubmit:u,children:[N.jsx("input",{className:"input-field",value:i,onChange:f=>r(f.target.value),placeholder:"...",autoFocus:!0}),N.jsx("input",{type:"date",className:"input-field",value:o,onChange:f=>l(f.target.value)}),N.jsxs("div",{className:"modal-actions",children:[N.jsx("button",{type:"button",className:"btn",style:{background:"#b2bec3"},onClick:t,children:""}),N.jsx("button",{type:"submit",className:"btn",children:""})]})]})]})})},DU=()=>{const{user:n,userData:t}=bm(),[e,i]=q.useState([]),[r,o]=q.useState(""),[l,u]=q.useState(""),[f,d]=q.useState("all"),[g,_]=q.useState("all"),[v,E]=q.useState(tu()),[x,A]=q.useState(null);q.useEffect(()=>{let j;return t?.role==="admin"?j=q4(i):j=H4(n,i),()=>j&&j()},[n,t]);const R=j=>{_(j),E(tu())},O=j=>{E(it=>RU(g,it,j))},k=()=>E(tu()),U=async j=>{if(j.preventDefault(),!!r.trim())try{await G4({title:r.trim(),description:"",dueDate:l||tu(),ownerNickname:t?.nickname||""},n),o(""),u(""),vt.success("")}catch{vt.error("")}},Y=async(j,it)=>{try{await Y4(j,it)}catch{vt.error("")}},$=async j=>{try{await $4(j.id),vt.success("")}catch{vt.error("")}},tt=async(j,it)=>{try{await W4(j,it),vt.success(""),A(null)}catch{vt.error("")}},w=AU(g,v),M=e.filter(j=>{if(!w)return!0;if(!j.dueDate)return!1;const it=new Date(j.dueDate);return it>=w.start&&it<=w.end}).filter(j=>f==="completed"?j.completed:f==="active"?!j.completed:!0),V=M.filter(j=>j.completed).length,P=M.length,B={labels:["",""],datasets:[{data:[V,P-V],backgroundColor:["#00b894","#dfe6e9"],borderWidth:0}]},L=t?.nickname||n?.email||"",Dt=v===tu(),_t=j=>{if(!j)return null;const it=new Date(j);return`${it.getDate()} ${gd[it.getMonth()]} ${it.getFullYear()+543}`};return N.jsxs("div",{className:"container",children:[N.jsxs("header",{className:"dashboard-header",children:[N.jsxs("div",{children:[N.jsxs("h1",{children:[" , ",L,"!"]}),N.jsx("div",{style:{fontSize:"0.8rem",opacity:.6,marginTop:"0.15rem"},children:t?.role==="admin"?" ":" "})]}),N.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[t?.role==="admin"&&N.jsx(js,{to:"/admin",className:"btn",style:{background:"rgba(108,92,231,0.15)",color:"var(--primary-color)",textDecoration:"none"},children:" Admin"}),N.jsx("button",{onClick:i4,className:"btn",style:{background:"var(--danger-color)"},children:""})]})]}),N.jsxs("div",{className:"dashboard-grid",children:[N.jsxs("section",{className:"glass-panel",style:{padding:"1.5rem"},children:[N.jsxs("form",{onSubmit:U,className:"add-task-form",children:[N.jsx("input",{className:"input-field",value:r,onChange:j=>o(j.target.value),placeholder:"..."}),N.jsx("input",{type:"date",className:"add-task-date",value:l,onChange:j=>u(j.target.value),title:""}),N.jsx("button",{type:"submit",className:"btn",children:"+ "})]}),N.jsx("div",{className:"period-tabs",children:Object.entries(aw).map(([j,it])=>N.jsx("button",{className:`period-tab${g===j?" active":""}`,onClick:()=>R(j),children:it},j))}),g!=="all"&&N.jsxs("div",{className:"date-navigator",children:[N.jsx("button",{className:"date-nav-btn",onClick:()=>O(-1),title:"",children:""}),N.jsx("span",{className:"date-nav-label",children:rw(g,v)}),N.jsx("button",{className:"date-nav-btn",onClick:()=>O(1),title:"",children:""}),!Dt&&N.jsx("button",{className:"date-nav-today",onClick:k,children:""})]}),N.jsx("div",{className:"filter-tabs",children:[["all",""],["active",""],["completed",""]].map(([j,it])=>N.jsx("button",{className:`filter-tab${f===j?" active":""}`,onClick:()=>d(j),children:it},j))}),M.length===0?N.jsx("div",{className:"empty-state",children:g!=="all"?`${aw[g]}`:"  !"}):N.jsx("ul",{className:"task-list",children:M.map(j=>N.jsxs("li",{className:`task-item${j.completed?" completed":""}`,children:[N.jsxs("div",{className:"task-left",children:[N.jsx("input",{type:"checkbox",className:"task-checkbox",checked:j.completed,onChange:()=>Y(j.id,j.completed)}),N.jsxs("div",{className:"task-info",children:[N.jsx("div",{className:`task-title${j.completed?" done":""}`,children:j.title}),N.jsxs("div",{className:"task-meta",children:[j.ownerNickname||j.ownerEmail,j.dueDate&&N.jsxs("span",{style:{marginLeft:"0.5rem"},children:[" ",_t(j.dueDate)]})]})]})]}),N.jsxs("div",{className:"task-actions",children:[N.jsx("button",{className:"btn-icon",title:"",onClick:()=>A(j),children:""}),N.jsx("button",{className:"btn-icon",title:"",style:{color:"var(--danger-color)"},onClick:()=>$(j),children:""})]})]},j.id))})]}),N.jsxs("aside",{className:"glass-panel analytics-panel",children:[N.jsx("h3",{children:" "}),N.jsx("div",{className:"analytics-chart-wrap",style:{position:"relative",height:"190px"},children:N.jsx(EU,{data:B,options:{maintainAspectRatio:!1}})}),N.jsxs("div",{className:"analytics-stats",children:[N.jsxs("p",{children:[": ",N.jsx("strong",{children:P})]}),N.jsxs("p",{children:[": ",N.jsx("strong",{children:V})]}),N.jsxs("p",{children:[":"," ",N.jsxs("strong",{children:[P>0?Math.round(V/P*100):0,"%"]})]}),g!=="all"&&N.jsxs("p",{style:{fontSize:"0.78rem",opacity:.55,marginTop:"0.5rem"},children:[" ",rw(g,v)]})]})]})]}),x&&N.jsx(IU,{task:x,onClose:()=>A(null),onSave:tt})]})},Tv="users",Nm="tasks",MU=n=>{const t=dm(Ul(bn,Tv),pm("createdAt","desc"));return ym(t,e=>{n(e.docs.map(i=>({id:i.id,...i.data()})))})},OU=async(n,t)=>{await gm(Di(bn,Tv,n),t)},kU=async n=>{await sv(Di(bn,Tv,n))},NU=n=>{const t=dm(Ul(bn,Nm),pm("createdAt","desc"));return ym(t,e=>{n(e.docs.map(i=>({id:i.id,...i.data()})))})},PU=async n=>await iR(Ul(bn,Nm),{...n,completed:!1,createdAt:ro(),updatedAt:ro()}),LU=async(n,t)=>{await gm(Di(bn,Nm,n),{...t,updatedAt:ro()})},VU=async n=>{await sv(Di(bn,Nm,n))},zU=n=>n?n?.toDate?n.toDate().toLocaleDateString("th-TH"):new Date(n).toLocaleDateString("th-TH"):"",UU=({user:n,onClose:t,onSave:e})=>{const[i,r]=q.useState(n.nickname||""),[o,l]=q.useState(n.email||""),[u,f]=q.useState(n.role||"user"),d=g=>{g.preventDefault(),e(n.uid,{nickname:i,email:o,role:u})};return N.jsx("div",{className:"modal-overlay",onClick:t,children:N.jsxs("div",{className:"modal-box",onClick:g=>g.stopPropagation(),children:[N.jsx("h3",{children:" "}),N.jsxs("form",{className:"modal-form",onSubmit:d,children:[N.jsxs("div",{children:[N.jsx("label",{style:{fontSize:"0.82rem",opacity:.7,display:"block",marginBottom:"0.3rem"},children:""}),N.jsx("input",{className:"input-field",value:i,onChange:g=>r(g.target.value),placeholder:""})]}),N.jsxs("div",{children:[N.jsx("label",{style:{fontSize:"0.82rem",opacity:.7,display:"block",marginBottom:"0.3rem"},children:""}),N.jsx("input",{className:"input-field",value:o,onChange:g=>l(g.target.value),placeholder:""})]}),N.jsxs("div",{children:[N.jsx("label",{style:{fontSize:"0.82rem",opacity:.7,display:"block",marginBottom:"0.3rem"},children:""}),N.jsxs("select",{className:"input-field",value:u,onChange:g=>f(g.target.value),children:[N.jsx("option",{value:"user",children:"user"}),N.jsx("option",{value:"admin",children:"admin"})]})]}),N.jsxs("div",{className:"modal-actions",children:[N.jsx("button",{type:"button",className:"btn",style:{background:"#b2bec3"},onClick:t,children:""}),N.jsx("button",{type:"submit",className:"btn",children:""})]})]})]})})},BU=({task:n,users:t,onClose:e,onSave:i})=>{const[r,o]=q.useState(n.title||""),[l,u]=q.useState(n.dueDate||""),[f,d]=q.useState(n.completed||!1),[g,_]=q.useState(n.ownerId||""),v=E=>{E.preventDefault();const x=t.find(A=>A.uid===g);i(n.id,{title:r,dueDate:l,completed:f,ownerId:g,ownerEmail:x?.email||n.ownerEmail,ownerNickname:x?.nickname||n.ownerNickname})};return N.jsx("div",{className:"modal-overlay",onClick:e,children:N.jsxs("div",{className:"modal-box",onClick:E=>E.stopPropagation(),children:[N.jsx("h3",{children:" "}),N.jsxs("form",{className:"modal-form",onSubmit:v,children:[N.jsxs("div",{children:[N.jsx("label",{style:{fontSize:"0.82rem",opacity:.7,display:"block",marginBottom:"0.3rem"},children:""}),N.jsx("input",{className:"input-field",value:r,onChange:E=>o(E.target.value),placeholder:"",required:!0})]}),N.jsxs("div",{children:[N.jsx("label",{style:{fontSize:"0.82rem",opacity:.7,display:"block",marginBottom:"0.3rem"},children:""}),N.jsx("select",{className:"input-field",value:g,onChange:E=>_(E.target.value),children:t.map(E=>N.jsx("option",{value:E.uid,children:E.nickname||E.email},E.uid))})]}),N.jsxs("div",{children:[N.jsx("label",{style:{fontSize:"0.82rem",opacity:.7,display:"block",marginBottom:"0.3rem"},children:""}),N.jsx("input",{type:"date",className:"input-field",value:l,onChange:E=>u(E.target.value)})]}),N.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.9rem"},children:[N.jsx("input",{type:"checkbox",checked:f,onChange:E=>d(E.target.checked),style:{width:"16px",height:"16px",accentColor:"var(--primary-color)"}}),""]}),N.jsxs("div",{className:"modal-actions",children:[N.jsx("button",{type:"button",className:"btn",style:{background:"#b2bec3"},onClick:e,children:""}),N.jsx("button",{type:"submit",className:"btn",children:""})]})]})]})})},jU=({users:n,onClose:t,onSave:e})=>{const[i,r]=q.useState(""),[o,l]=q.useState(""),[u,f]=q.useState(n[0]?.uid||""),d=g=>{if(g.preventDefault(),!i.trim())return;const _=n.find(v=>v.uid===u);e({title:i.trim(),dueDate:o,ownerId:u,ownerEmail:_?.email||"",ownerNickname:_?.nickname||""})};return N.jsx("div",{className:"modal-overlay",onClick:t,children:N.jsxs("div",{className:"modal-box",onClick:g=>g.stopPropagation(),children:[N.jsx("h3",{children:" "}),N.jsxs("form",{className:"modal-form",onSubmit:d,children:[N.jsxs("div",{children:[N.jsx("label",{style:{fontSize:"0.82rem",opacity:.7,display:"block",marginBottom:"0.3rem"},children:""}),N.jsx("input",{className:"input-field",value:i,onChange:g=>r(g.target.value),placeholder:"...",autoFocus:!0,required:!0})]}),N.jsxs("div",{children:[N.jsx("label",{style:{fontSize:"0.82rem",opacity:.7,display:"block",marginBottom:"0.3rem"},children:""}),N.jsx("select",{className:"input-field",value:u,onChange:g=>f(g.target.value),children:n.map(g=>N.jsx("option",{value:g.uid,children:g.nickname||g.email},g.uid))})]}),N.jsxs("div",{children:[N.jsx("label",{style:{fontSize:"0.82rem",opacity:.7,display:"block",marginBottom:"0.3rem"},children:""}),N.jsx("input",{type:"date",className:"input-field",value:o,onChange:g=>l(g.target.value)})]}),N.jsxs("div",{className:"modal-actions",children:[N.jsx("button",{type:"button",className:"btn",style:{background:"#b2bec3"},onClick:t,children:""}),N.jsx("button",{type:"submit",className:"btn",children:""})]})]})]})})},FU=()=>{const{userData:n}=bm();Fu();const[t,e]=q.useState("tasks"),[i,r]=q.useState([]),[o,l]=q.useState([]),[u,f]=q.useState("all"),[d,g]=q.useState(null),[_,v]=q.useState(null),[E,x]=q.useState(!1),[A,R]=q.useState("");q.useEffect(()=>{const w=MU(r),C=NU(l);return()=>{w(),C()}},[]);const O=async(w,C)=>{try{await OU(w,C),vt.success(""),g(null)}catch{vt.error("")}},k=async w=>{if(window.confirm(` "${w.nickname||w.email}" ?`))try{await kU(w.uid),vt.success(" (Firestore )")}catch{vt.error("")}},U=async w=>{try{await PU(w),vt.success(""),x(!1)}catch{vt.error("")}},Y=async(w,C)=>{try{await LU(w,C),vt.success(""),v(null)}catch{vt.error("")}},$=async w=>{if(window.confirm(` "${w.title}" ?`))try{await VU(w.id),vt.success("")}catch{vt.error("")}},tt=o.filter(w=>{const C=u==="all"||w.ownerId===u,M=!A||w.title.toLowerCase().includes(A.toLowerCase());return C&&M});return N.jsxs("div",{className:"container",children:[N.jsxs("header",{className:"dashboard-header",children:[N.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",flexWrap:"wrap"},children:[N.jsx("h1",{style:{margin:0,fontSize:"1.4rem"},children:" Admin Panel"}),N.jsx("span",{className:"badge badge-admin",children:"admin"})]}),N.jsx("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:N.jsx(js,{to:"/",className:"btn",style:{background:"rgba(108,92,231,0.15)",color:"var(--primary-color)",textDecoration:"none"},children:" Dashboard"})})]}),N.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:"1rem",marginBottom:"1.5rem"},children:[{label:"",value:i.length,icon:""},{label:"",value:o.length,icon:""},{label:"",value:o.filter(w=>w.completed).length,icon:""},{label:"",value:o.filter(w=>!w.completed).length,icon:""}].map(w=>N.jsxs("div",{className:"glass-panel",style:{padding:"1rem",textAlign:"center"},children:[N.jsx("div",{style:{fontSize:"1.5rem"},children:w.icon}),N.jsx("div",{style:{fontSize:"1.6rem",fontWeight:700,color:"var(--primary-color)"},children:w.value}),N.jsx("div",{style:{fontSize:"0.78rem",opacity:.65},children:w.label})]},w.label))}),N.jsxs("div",{className:"admin-tabs",children:[N.jsxs("button",{className:`admin-tab${t==="tasks"?" active":""}`,onClick:()=>e("tasks"),children:["  (",o.length,")"]}),N.jsxs("button",{className:`admin-tab${t==="users"?" active":""}`,onClick:()=>e("users"),children:["  (",i.length,")"]})]}),t==="tasks"&&N.jsxs("div",{className:"glass-panel",style:{padding:"1.5rem"},children:[N.jsxs("div",{style:{display:"flex",gap:"0.75rem",marginBottom:"1.25rem",flexWrap:"wrap",alignItems:"center"},children:[N.jsx("input",{className:"input-field",style:{flex:1,minWidth:"160px"},placeholder:" ...",value:A,onChange:w=>R(w.target.value)}),N.jsxs("select",{className:"input-field",style:{flex:1,minWidth:"140px"},value:u,onChange:w=>f(w.target.value),children:[N.jsx("option",{value:"all",children:" "}),i.map(w=>N.jsx("option",{value:w.uid,children:w.nickname||w.email},w.uid))]}),N.jsx("button",{className:"btn",onClick:()=>x(!0),children:"+ "})]}),N.jsx("div",{className:"admin-table-wrap",children:N.jsxs("table",{className:"admin-table",children:[N.jsx("thead",{children:N.jsxs("tr",{children:[N.jsx("th",{children:""}),N.jsx("th",{children:""}),N.jsx("th",{children:""}),N.jsx("th",{children:""}),N.jsx("th",{children:""})]})}),N.jsx("tbody",{children:tt.length===0?N.jsx("tr",{children:N.jsx("td",{colSpan:5,style:{textAlign:"center",opacity:.5,padding:"2rem"},children:""})}):tt.map(w=>N.jsxs("tr",{children:[N.jsx("td",{style:{maxWidth:"220px"},children:N.jsx("span",{style:{textDecoration:w.completed?"line-through":"none",opacity:w.completed?.6:1},children:w.title})}),N.jsx("td",{children:w.ownerNickname||w.ownerEmail||""}),N.jsx("td",{children:w.dueDate?new Date(w.dueDate).toLocaleDateString("th-TH"):""}),N.jsx("td",{children:N.jsx("span",{className:`badge ${w.completed?"badge-user":"badge-admin"}`,children:w.completed?" ":" "})}),N.jsx("td",{children:N.jsxs("div",{style:{display:"flex",gap:"0.25rem"},children:[N.jsx("button",{className:"btn-icon",title:"",onClick:()=>v(w),children:""}),N.jsx("button",{className:"btn-icon",title:"",style:{color:"var(--danger-color)"},onClick:()=>$(w),children:""})]})})]},w.id))})]})})]}),t==="users"&&N.jsx("div",{className:"glass-panel",style:{padding:"1.5rem"},children:N.jsx("div",{className:"admin-table-wrap",children:N.jsxs("table",{className:"admin-table",children:[N.jsx("thead",{children:N.jsxs("tr",{children:[N.jsx("th",{children:""}),N.jsx("th",{children:""}),N.jsx("th",{children:""}),N.jsx("th",{children:""}),N.jsx("th",{children:""})]})}),N.jsx("tbody",{children:i.length===0?N.jsx("tr",{children:N.jsx("td",{colSpan:5,style:{textAlign:"center",opacity:.5,padding:"2rem"},children:""})}):i.map(w=>N.jsxs("tr",{children:[N.jsx("td",{children:N.jsx("strong",{children:w.nickname||""})}),N.jsx("td",{style:{fontSize:"0.82rem",opacity:.8},children:w.email}),N.jsx("td",{children:N.jsx("span",{className:`badge ${w.role==="admin"?"badge-admin":"badge-user"}`,children:w.role})}),N.jsx("td",{style:{fontSize:"0.82rem"},children:zU(w.createdAt)}),N.jsx("td",{children:N.jsxs("div",{style:{display:"flex",gap:"0.25rem"},children:[N.jsx("button",{className:"btn-icon",title:"",onClick:()=>g(w),children:""}),N.jsx("button",{className:"btn-icon",title:"",style:{color:"var(--danger-color)"},onClick:()=>k(w),children:""})]})})]},w.uid))})]})})}),d&&N.jsx(UU,{user:d,onClose:()=>g(null),onSave:O}),_&&N.jsx(BU,{task:_,users:i,onClose:()=>v(null),onSave:Y}),E&&N.jsx(jU,{users:i,onClose:()=>x(!1),onSave:U})]})},my="admin@todoapp.local",ow="admin1",HU=()=>{const[n,t]=q.useState(!1),[e,i]=q.useState(!1);useNavigate();const r=async()=>{i(!0);try{let o;try{o=(await oR(my,ow,"Admin","admin"))?.uid,vt.success(" Admin !")}catch(l){if(l.code==="auth/email-already-in-use"){vt.info(" Admin    role..."),o=(await lR(my,ow)).user.uid;const f=Di(bn,"users",o),d=await eR(f);(!d.exists()||d.data().role!=="admin")&&(await nR(f,{uid:o,email:my,nickname:"Admin",role:"admin",color:"#6c5ce7",createdAt:new Date().toISOString()},{merge:!0}),vt.success(" role  admin !"))}else throw l}t(!0)}catch(o){console.error(o),vt.error(`: ${o.message}`)}finally{i(!1)}};return N.jsx("div",{className:"auth-wrapper",children:N.jsxs("div",{className:"glass-panel auth-card",children:[N.jsx("h2",{children:" "}),n?N.jsxs(N.Fragment,{children:[N.jsx("p",{style:{color:"var(--success-color)",fontWeight:600,fontSize:"1.1rem"},children:"  Admin "}),N.jsxs("div",{style:{background:"rgba(108,92,231,0.08)",border:"1.5px solid rgba(108,92,231,0.2)",borderRadius:"10px",padding:"1rem",margin:"1rem 0",textAlign:"left",fontSize:"0.9rem"},children:[N.jsxs("p",{style:{margin:"0 0 0.4rem"},children:[" ",N.jsx("strong",{children:"Username:"})," admin"]}),N.jsxs("p",{style:{margin:0},children:[" ",N.jsx("strong",{children:"Password:"})," admin"]})]}),N.jsx(js,{to:"/login",className:"btn",style:{display:"block",textDecoration:"none",textAlign:"center"},children:" "})]}):N.jsxs(N.Fragment,{children:[N.jsx("p",{style:{fontSize:"0.9rem",opacity:.75,marginBottom:"1.25rem"},children:" () "}),N.jsx("button",{className:"btn",onClick:r,disabled:e,style:{width:"100%",fontSize:"1rem",padding:"0.85rem"},children:e?" ...":"  /  Admin"}),N.jsx("p",{style:{marginTop:"1.25rem",fontSize:"0.85rem"},children:N.jsx(js,{to:"/login",children:" "})})]})]})})},qU=()=>N.jsxs("div",{className:"flex-center",style:{height:"100vh",flexDirection:"column"},children:[N.jsx("h1",{children:"404 - Page Not Found"}),N.jsx(js,{to:"/",className:"btn",style:{marginTop:"1rem"},children:"Go Home"})]}),GU=({children:n})=>{const{user:t,loading:e}=bm();return e?N.jsx("div",{className:"flex-center",style:{height:"100vh"},children:"..."}):t?n:N.jsx(gy,{to:"/login"})},YU=({children:n})=>{const{user:t,userData:e,loading:i}=bm();return i?N.jsx("div",{className:"flex-center",style:{height:"100vh"},children:"..."}):t?e?.role!=="admin"?N.jsx(gy,{to:"/"}):n:N.jsx(gy,{to:"/login"})};function $U(){return N.jsx(AD,{children:N.jsx(n4,{children:N.jsxs("div",{className:"app-container",children:[N.jsxs(nD,{children:[N.jsx(Fa,{path:"/login",element:N.jsx(j4,{})}),N.jsx(Fa,{path:"/register",element:N.jsx(F4,{})}),N.jsx(Fa,{path:"/setup",element:N.jsx(HU,{})}),N.jsx(Fa,{path:"/",element:N.jsx(GU,{children:N.jsx(DU,{})})}),N.jsx(Fa,{path:"/admin",element:N.jsx(YU,{children:N.jsx(FU,{})})}),N.jsx(Fa,{path:"*",element:N.jsx(qU,{})})]}),N.jsx(z4,{position:"bottom-right",theme:"colored"})]})})})}r2.createRoot(document.getElementById("root")).render(N.jsx(ue.StrictMode,{children:N.jsx($U,{})}));
